{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/process/browser.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/readable-stream/lib/_stream_duplex.js","webpack:///./node_modules/safer-buffer/safer.js","webpack:///./node_modules/core-util-is/lib/util.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./node_modules/process-nextick-args/index.js","webpack:///./node_modules/safe-buffer/index.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/string_decoder/lib/string_decoder.js","webpack:///./node_modules/readable-stream/readable-browser.js","webpack:///./node_modules/readable-stream/lib/_stream_readable.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/events/events.js","webpack:///./node_modules/readable-stream/lib/internal/streams/stream-browser.js","webpack:///./node_modules/readable-stream/lib/internal/streams/destroy.js","webpack:///./node_modules/readable-stream/lib/_stream_writable.js","webpack:///./node_modules/readable-stream/lib/_stream_transform.js","webpack:///./node_modules/rtf-parser/rtf-group.js","webpack:///./node_modules/rtf-parser/rtf-paragraph.js","webpack:///./node_modules/util/util.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///external \"OSjs\"","webpack:///./node_modules/@iarna/rtf-to-html/index.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/rtf-parser/index.js","webpack:///./node_modules/rtf-parser/rtf-parser.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/readable-stream/lib/internal/streams/BufferList.js","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./node_modules/util-deprecate/browser.js","webpack:///./node_modules/readable-stream/lib/_stream_passthrough.js","webpack:///./node_modules/rtf-parser/rtf-document.js","webpack:///./node_modules/rtf-parser/rtf-interpreter.js","webpack:///./node_modules/assert/assert.js","webpack:///./node_modules/object-assign/index.js","webpack:///./node_modules/util/support/isBufferBrowser.js","webpack:///./node_modules/util/node_modules/inherits/inherits_browser.js","webpack:///./node_modules/rtf-parser/rtf-span.js","webpack:///./node_modules/iconv-lite/lib/index.js","webpack:///./node_modules/iconv-lite/lib/bom-handling.js","webpack:///./node_modules/iconv-lite/encodings/index.js","webpack:///./node_modules/iconv-lite/encodings/internal.js","webpack:///./node_modules/iconv-lite/encodings/utf16.js","webpack:///./node_modules/iconv-lite/encodings/utf7.js","webpack:///./node_modules/iconv-lite/encodings/sbcs-codec.js","webpack:///./node_modules/iconv-lite/encodings/sbcs-data.js","webpack:///./node_modules/iconv-lite/encodings/sbcs-data-generated.js","webpack:///./node_modules/iconv-lite/encodings/dbcs-codec.js","webpack:///./node_modules/iconv-lite/encodings/dbcs-data.js","webpack:///./node_modules/@iarna/rtf-to-html/rtf-to-html.js","webpack:///./locales.js","webpack:///./node_modules/hyperapp/src/index.js","webpack:///../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///../node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///../node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///../node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///../node_modules/hyperapp/src/index.js","webpack:///../src/components/Element.js","webpack:///../src/components/Box.js","webpack:///../src/components/BoxStyled.js","webpack:///../node_modules/@babel/runtime/helpers/typeof.js","webpack:///../src/components/Icon.js","webpack:///../node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///../src/utils.js","webpack:///../src/element.js","webpack:///../src/components/Button.js","webpack:///../src/components/Menu.js","webpack:///../src/components/Toolbar.js","webpack:///../src/components/Menubar.js","webpack:///../node_modules/hyperapp-nestable/src/index.js","webpack:///../src/components/Panes.js","webpack:///../src/components/Tabs.js","webpack:///../src/components/ListView.js","webpack:///../src/components/IconView.js","webpack:///../src/components/Iframe.js","webpack:///../node_modules/regenerator-runtime/runtime.js","webpack:///../src/components/Expander.js","webpack:///../src/components/Label.js","webpack:///../node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///../node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///../node_modules/@babel/runtime/helpers/createClass.js","webpack:///../src/contextmenu.js","webpack:///../src/provider.js","webpack:///./index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","this","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","Array","arguments","push","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","g","Function","window","pna","objectKeys","keys","obj","Duplex","util","inherits","Readable","Writable","v","method","options","readable","writable","allowHalfOpen","onend","_writableState","ended","onEndNT","self","end","highWaterMark","undefined","_readableState","destroyed","set","_destroy","err","cb","buffer","Buffer","safer","Safer","from","Uint8Array","encodingOrOffset","TypeError","alloc","size","fill","encoding","RangeError","buf","kStringMaxLength","constants","MAX_LENGTH","kMaxLength","MAX_STRING_LENGTH","objectToString","toString","isArray","arg","isBoolean","isNull","isNullOrUndefined","isNumber","isString","isSymbol","isUndefined","isRegExp","re","isObject","isDate","isError","isFunction","isPrimitive","isBuffer","ctor","superCtor","super_","constructor","configurable","TempCtor","indexOf","fn","arg1","arg2","arg3","copyProps","src","dst","SafeBuffer","allocUnsafe","allocUnsafeSlow","SlowBuffer","base64","ieee754","TYPED_ARRAY_SUPPORT","createBuffer","that","__proto__","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","string","isEncoding","actual","write","slice","fromString","checked","copy","val","type","data","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","start","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","b","bidirectionalIndexOf","isNaN","arrayIndexOf","lastIndexOf","arr","indexSize","arrLength","valLength","String","read","readUInt16BE","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","Math","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","fromCharCode","decodeCodePointsArray","INSPECT_MAX_BYTES","global","foo","subarray","typedArraySupport","poolSize","_augment","species","_isBuffer","compare","a","x","y","list","pos","swap16","swap32","swap64","equals","inspect","max","match","join","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","code","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","trim","replace","stringtrim","base64clean","StringDecoder","nb","enc","nenc","retried","_normalizeEncoding","normalizeEncoding","text","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","utf8CheckExtraBytes","total","utf8CheckIncomplete","Stream","Transform","PassThrough","ReadableState","EventEmitter","EElistenerCount","emitter","OurUint8Array","debugUtil","debug","debuglog","BufferList","destroyImpl","kProxyEvents","stream","isDuplex","objectMode","readableObjectMode","hwm","readableHwm","readableHighWaterMark","defaultHwm","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","resumeScheduled","defaultEncoding","awaitDrain","readingMore","decoder","_read","destroy","readableAddChunk","chunk","addToFront","skipChunkCheck","er","state","emitReadable","onEofChunk","chunkInvalid","getPrototypeOf","_uint8ArrayToBuffer","addChunk","maybeReadMore","needMoreData","unshift","_undestroy","undestroy","isPaused","setEncoding","howMuchToRead","head","computeNewHighWaterMark","emitReadable_","flow","maybeReadMore_","nReadingNextTick","resume_","fromList","shift","clear","hasStrings","next","tail","copyFromBufferString","copyFromBuffer","fromListPartial","endReadable","endReadableNT","xs","nOrig","doRead","pipe","dest","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","onclose","onfinish","ondrain","onerror","ondata","cleanedUp","needDrain","pipeOnDrain","increasedAwaitDrain","pause","event","_events","resume","dests","index","splice","ev","wrap","_this","paused","_fromList","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","NumberIsNaN","init","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","_addListener","prepend","events","existing","warning","newListener","warned","w","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","setMaxListeners","getMaxListeners","doError","error","message","context","handler","position","originalListener","pop","spliceOne","rawListeners","eventNames","emitErrorNT","readableDestroyed","writableDestroyed","errorEmitted","ending","finished","CorkedRequest","entry","finish","corkReq","callback","pendingcb","corkedRequestsFree","onCorkedFinish","asyncWrite","setImmediate","WritableState","internalUtil","deprecate","realHasInstance","nop","writableObjectMode","writableHwm","writableHighWaterMark","finalCalled","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writecb","writelen","onwriteStateUpdate","finishMaybe","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","_write","writev","_writev","final","_final","doWrite","onwriteDrain","holder","allBuffers","isBuf","callFinal","need","prefinish","getBuffer","current","_","hasInstance","writeAfterEnd","valid","validChunk","newChunk","decodeChunk","last","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","afterTransform","ts","_transformState","transforming","writechunk","rs","needTransform","writeencoding","transform","_transform","flush","_flush","done","_this2","err2","parent","content","fonts","colors","style","ignorable","num","getFont","getStyle","assign","node","font","foreground","getColor","background","opts","getOwnPropertyDescriptors","descriptors","getOwnPropertyDescriptor","formatRegExp","format","f","objects","JSON","stringify","msg","noDeprecation","throwDeprecation","traceDeprecation","trace","debugEnviron","debugs","ctx","seen","stylize","stylizeNoColor","depth","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","styles","recurseTimes","primitive","simple","formatPrimitive","visibleKeys","hash","forEach","idx","arrayToHash","formatError","RegExp","Date","output","base","braces","toUTCString","formatProperty","formatArray","map","reduce","prev","cur","numLinesEst","reduceToSingleString","desc","split","line","ar","pad","NODE_DEBUG","toUpperCase","test","pid","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","prop","log","origin","add","kCustomPromisifiedSymbol","callbackifyOnRejected","reason","newReason","promisify","original","promiseResolve","promiseReject","promise","Promise","resolve","reject","setPrototypeOf","defineProperties","custom","callbackify","callbackified","maybeCb","then","rej","arrayWithoutHoles","iterableToArray","nonIterableSpread","arrayWithHoles","iterableToArrayLimit","nonIterableRest","OSjs","parse","rtfToHTML","htmlifyresult","doc","ex","fromStream","arr2","iter","iterator","_n","_d","_e","_s","_i","RTFParser","RTFDocument","RTFInterpreter","errored","errorHandler","parser","interpreter","document","super","controlWord","controlWordParam","hexChar","parserState","parseText","char","row","col","ii","emitText","parseEscapes","emitStartGroup","emitEndGroup","parseControlSymbol","emitIgnorable","parseHexChar","emitFormula","emitIndexSubEntry","emitEndParagraph","parseControlWord","emitHexChar","emitError","emitControlWord","parseControlWordParam","param","stack","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","len2","encodeChunk","lookup","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","LN2","instance","Constructor","_classCallCheck","Timeout","id","clearFn","_id","_clearFn","scope","setInterval","clearInterval","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","attachTo","handle","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","createElement","documentElement","script","onreadystatechange","removeChild","appendChild","random","source","addEventListener","attachEvent","task","config","localStorage","RTFGroup","RTFParagraph","charset","marginLeft","marginRight","marginBottom","marginTop","fontSize","bold","italic","underline","strikethrough","firstLineIndent","indent","align","valign","addContent","initialStyle","span","assert","RTFSpan","iconv","availableCP","codeToCP","0","2","77","128","129","130","134","136","161","162","163","177","178","186","204","222","238","254","FontTable","table","currentFont","family","Font","pitch","ColorTable","red","blue","green","parseTop","groupStack","group","finisher","hexStore","cmd","cmd$groupEnd","para","hexstr","decode","flushHexStore","endingGroup","resetStyle","charBuf","codepage","fontCharset","objectAssign","hasOwn","pSlice","functionsHaveNames","pToString","arrbuf","DataView","ok","regex","getName","func","truncate","something","rawname","fail","expected","operator","stackStartFunction","AssertionError","_deepEqual","strict","memos","getTime","multiline","lastIndex","ignoreCase","Float32Array","Float64Array","actualIndex","actualVisitedObjects","aIsArgs","isArguments","bIsArgs","ka","kb","sort","objEquiv","expectedException","isPrototypeOf","_throws","shouldThrow","block","_tryBlock","userProvidedMessage","isUnexpectedException","generatedMessage","getMessage","captureStackTrace","fn_name","next_line","substring","equal","notEqual","deepEqual","deepStrictEqual","notDeepEqual","notDeepStrictEqual","strictEqual","notStrictEqual","throws","doesNotThrow","ifError","propIsEnumerable","propertyIsEnumerable","toObject","test1","test2","test3","letter","shouldUseNative","symbols","to","bomHandling","encodings","defaultCharUnicode","defaultCharSingleByte","encode","encoder","getEncoder","trail","skipDecodeWarning","getDecoder","encodingExists","getCodec","toEncoding","fromEncoding","_codecDataCache","_canonicalizeEncoding","codecOptions","codec","codecDef","encodingName","bomAware","addBOM","PrependBOM","stripBOM","StripBOM","nodeVer","nodeVerArr","PrependBOMWrapper","StripBOMWrapper","pass","InternalCodec","InternalEncoderBase64","InternalEncoderCesu8","InternalDecoderCesu8","utf8","cesu8","unicode11utf8","ucs2","utf16le","binary","hex","_internal","InternalEncoder","InternalDecoder","prevStr","acc","contBytes","accBytes","completeQuads","bufIdx","charCode","Utf16BECodec","Utf16BEEncoder","Utf16BEDecoder","overflowByte","Utf16Codec","Utf16Encoder","Utf16Decoder","initialBytes","initialBytesLen","detectEncoding","asciiCharsLE","asciiCharsBE","_len","utf16be","buf2","utf16","Utf7Codec","utf7","unicode11utf7","Utf7Encoder","Utf7Decoder","nonDirectChars","inBase64","base64Accum","base64Regex","base64Chars","plusChar","minusChar","andChar","Utf7IMAPCodec","Utf7IMAPEncoder","base64AccumIdx","Utf7IMAPDecoder","lastI","b64str","canBeDecoded","utf7imap","uChar","base64IMAPChars","SBCSCodec","chars","asciiString","decodeBuf","encodeBuf","SBCSEncoder","SBCSDecoder","_sbcs","idx1","idx2","_dbcs","DBCSCodec","UNASSIGNED_NODE","mappingTable","decodeTables","decodeTableSeq","_addDecodeChunk","encodeTable","encodeTableSeq","skipEncodeChars","encodeSkipVals","_fillEncodeTable","encodeAdd","_setEncodeChar","defCharSB","gb18030","thirdByteNodeIdx","thirdByteNode","fourthByteNodeIdx","fourthByteNode","secondByteNodeIdx","secondByteNode","DBCSEncoder","seqObj","DBCSDecoder","nodeIdx","prevBuf","findIdx","mid","_getDecodeTrieNode","addr","curAddr","writeTable","k","part","codeTrail","seq","_getEncodeBucket","uCode","high","dbcsCode","bucket","low","_setEncodeSequence","oldVal","prefix","mbCode","nextChar","resCode","subtable","uChars","gbChars","prevBufOffset","seqStart","curSeq","ptr","uCodeLead","outputTemplate","defaults","paraBreaks","paraTag","template","CSS","tags","styleTags","pdefaults","open","renderSpan","renderPara","filter","genericFontMap","roman","swiss","decor","modern","tech","bidi","colorEq","aa","bb","css","disableFonts","ft","en_EN","fr_FR","h","attributes","rest","children","nodeName","app","actions","view","container","skipRender","rootElement","oldNode","recycleElement","element","childNodes","nodeType","nodeValue","lifecycle","isRecycling","globalState","clone","wiredActions","wireStateToActions","path","action","result","getPartialState","scheduleRender","setPartialState","resolveNode","render","patch","isSvg","newElement","createTextNode","createElementNS","oncreate","updateAttribute","insertBefore","removeElement","oldAttributes","onupdate","updateElement","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","getKey","newKey","keyedNode","eventListener","currentTarget","oldValue","cssText","setProperty","removeEventListener","setAttribute","removeAttribute","removeChildren","ondestroy","onremove","unitValue","boxPropNames","grow","flexGrow","shrink","flexShrink","basis","flexBasis","alignItems","justify","justifyContent","padding","margin","Element","givenClassNames","props","classNames","defaultStyle","Box","orientation","_typeof","Icon","backgroundImage","filteredProps","filterKeys","doubleTap","tapped","timer","createField","oninput","onchange","onkeydown","getValue","cbInput","fieldProps","Button","inner","icon","label","Menu","className","display","top","left","ul","level","child","items","onmouseover","ontouchend","onclick","Toolbar","MenubarItem","parentNode","Menubar","nestable","tagname","class","wired","el","panes","spacers","onmousedown","clientX","clientY","pane","offsetWidth","offsetHeight","maxWidth","maxHeight","mousemove","diffX","diffY","mouseup","flex","headers","sizes","setSize","labels","oncontextmenu","Iframe","selectedIndex","setSelectedIndex","frameborder","ative","ontoggle","runtime","protoGenerator","outerFn","generator","tryLocsList","makeInvokeMethod","_invoke","record","tryCatch","invoke","previousPromise","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","info","tryLoc","locs","tryEntries","reset","iteratorMethod","iterable","Op","$Symbol","iteratorSymbol","asyncIteratorSymbol","toStringTagSymbol","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","GeneratorFunctionPrototype","Generator","GeneratorFunction","genFun","__await","defineIteratorMethods","AsyncIterator","Context","sent","_sent","stop","rootRecord","rval","dispatchException","exception","loc","caught","hasCatch","hasFinally","abrupt","finallyEntry","complete","afterLoc","resetTryEntry","thrown","delegateYield","resultName","nextLoc","regeneratorRuntime","asyncGeneratorStep","gen","_next","_defineProperties","descriptor","protoProps","staticProps","ContextMenu","core","$element","$root","isActive","visible","menu","clamp","newPosition","bottom","currentPosition","right","offY","root","offX","overflowRight","overflowBottom","clampMenu","onshow","clampTimeout","offsetParent","rect","clampSubMenu","show","toggle","box","hide","validContextMenuTarget","isValid","tagName","contextmenu","contextmenuApi","defaultValue","matches","isRtf","mime","ToolbarContainer","ColorBox","width","height","color","RichText","createMenu","menuNew","menuOpen","disabled","menuSave","menuSaveAs","menuQuit","createApplication","proc","basic","toolbar","$content","win","make","translate","vfs","toolbarButtons","buttons","command","textCommand","createMutateSaveDialog","createSaveDialog","file","filename","fontName","foreColor","save","contents","writefile","load","readfile","rtfToHtml","setDocument","selectColor","selectFont","setProps","createNew","createOpenDialog","osjs","register","applicationName","metadata","iframeDocument","translatableFlat","__","hiliteColor","createToolbar","translatable","translations","createWindow","resource","dimension","focus","isFile","mimes","find","defaultFilename","saveMimeTypes","createDialog","modal","btn","ha","execCommand","wid","body","innerHTML","iframe","contentDocument","contentWindow","minSize","maxSize","unit","valueMap","alternateMap","queryCommandValue","states","carry"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,I,gBCjFrD,IAOIC,EACAC,EARAC,EAAUnC,EAAOD,QAAU,GAU/B,SAASqC,IACL,MAAM,IAAIC,MAAM,mCAEpB,SAASC,IACL,MAAM,IAAID,MAAM,qCAsBpB,SAASE,EAAWC,GAChB,GAAIP,IAAqBQ,WAErB,OAAOA,WAAWD,EAAK,GAG3B,IAAKP,IAAqBG,IAAqBH,IAAqBQ,WAEhE,OADAR,EAAmBQ,WACZA,WAAWD,EAAK,GAE3B,IAEI,OAAOP,EAAiBO,EAAK,GAC/B,MAAME,GACJ,IAEI,OAAOT,EAAiB7B,KAAK,KAAMoC,EAAK,GAC1C,MAAME,GAEJ,OAAOT,EAAiB7B,KAAKuC,KAAMH,EAAK,MAvCnD,WACG,IAEQP,EADsB,mBAAfQ,WACYA,WAEAL,EAEzB,MAAOM,GACLT,EAAmBG,EAEvB,IAEQF,EADwB,mBAAjBU,aACcA,aAEAN,EAE3B,MAAOI,GACLR,EAAqBI,GAjB7B,GAwEA,IAEIO,EAFAC,EAAQ,GACRC,GAAW,EAEXC,GAAc,EAElB,SAASC,IACAF,GAAaF,IAGlBE,GAAW,EACPF,EAAaK,OACbJ,EAAQD,EAAaM,OAAOL,GAE5BE,GAAc,EAEdF,EAAMI,QACNE,KAIR,SAASA,IACL,IAAIL,EAAJ,CAGA,IAAIM,EAAUd,EAAWU,GACzBF,GAAW,EAGX,IADA,IAAIO,EAAMR,EAAMI,OACVI,GAAK,CAGP,IAFAT,EAAeC,EACfA,EAAQ,KACCE,EAAaM,GACdT,GACAA,EAAaG,GAAYO,MAGjCP,GAAc,EACdM,EAAMR,EAAMI,OAEhBL,EAAe,KACfE,GAAW,EAnEf,SAAyBS,GACrB,GAAItB,IAAuBU,aAEvB,OAAOA,aAAaY,GAGxB,IAAKtB,IAAuBI,IAAwBJ,IAAuBU,aAEvE,OADAV,EAAqBU,aACdA,aAAaY,GAExB,IAEWtB,EAAmBsB,GAC5B,MAAOd,GACL,IAEI,OAAOR,EAAmB9B,KAAK,KAAMoD,GACvC,MAAOd,GAGL,OAAOR,EAAmB9B,KAAKuC,KAAMa,KAgD7CC,CAAgBJ,IAiBpB,SAASK,EAAKlB,EAAKmB,GACfhB,KAAKH,IAAMA,EACXG,KAAKgB,MAAQA,EAYjB,SAASC,KA5BTzB,EAAQ0B,SAAW,SAAUrB,GACzB,IAAIsB,EAAO,IAAIC,MAAMC,UAAUd,OAAS,GACxC,GAAIc,UAAUd,OAAS,EACnB,IAAK,IAAIjD,EAAI,EAAGA,EAAI+D,UAAUd,OAAQjD,IAClC6D,EAAK7D,EAAI,GAAK+D,UAAU/D,GAGhC6C,EAAMmB,KAAK,IAAIP,EAAKlB,EAAKsB,IACJ,IAAjBhB,EAAMI,QAAiBH,GACvBR,EAAWa,IASnBM,EAAK7B,UAAU0B,IAAM,WACjBZ,KAAKH,IAAI0B,MAAM,KAAMvB,KAAKgB,QAE9BxB,EAAQgC,MAAQ,UAChBhC,EAAQiC,SAAU,EAClBjC,EAAQkC,IAAM,GACdlC,EAAQmC,KAAO,GACfnC,EAAQoC,QAAU,GAClBpC,EAAQqC,SAAW,GAInBrC,EAAQsC,GAAKb,EACbzB,EAAQuC,YAAcd,EACtBzB,EAAQwC,KAAOf,EACfzB,EAAQyC,IAAMhB,EACdzB,EAAQ0C,eAAiBjB,EACzBzB,EAAQ2C,mBAAqBlB,EAC7BzB,EAAQ4C,KAAOnB,EACfzB,EAAQ6C,gBAAkBpB,EAC1BzB,EAAQ8C,oBAAsBrB,EAE9BzB,EAAQ+C,UAAY,SAAU1E,GAAQ,MAAO,IAE7C2B,EAAQgD,QAAU,SAAU3E,GACxB,MAAM,IAAI6B,MAAM,qCAGpBF,EAAQiD,IAAM,WAAc,MAAO,KACnCjD,EAAQkD,MAAQ,SAAUC,GACtB,MAAM,IAAIjD,MAAM,mCAEpBF,EAAQoD,MAAQ,WAAa,OAAO,I,cCvLpC,IAAIC,EAGJA,EAAI,WACH,OAAO7C,KADJ,GAIJ,IAEC6C,EAAIA,GAAK,IAAIC,SAAS,cAAb,GACR,MAAO/C,GAEc,iBAAXgD,SAAqBF,EAAIE,QAOrC1F,EAAOD,QAAUyF,G,6BCWjB,IAAIG,EAAM,EAAQ,GAIdC,EAAajF,OAAOkF,MAAQ,SAAUC,GACxC,IAAID,EAAO,GACX,IAAK,IAAIrE,KAAOsE,EACdD,EAAK5B,KAAKzC,GACX,OAAOqE,GAIV7F,EAAOD,QAAUgG,EAGjB,IAAIC,EAAOrF,OAAOY,OAAO,EAAQ,IACjCyE,EAAKC,SAAW,EAAQ,GAGxB,IAAIC,EAAW,EAAQ,IACnBC,EAAW,EAAQ,IAEvBH,EAAKC,SAASF,EAAQG,GAKpB,IADA,IAAIL,EAAOD,EAAWO,EAAStE,WACtBuE,EAAI,EAAGA,EAAIP,EAAK3C,OAAQkD,IAAK,CACpC,IAAIC,EAASR,EAAKO,GACbL,EAAOlE,UAAUwE,KAASN,EAAOlE,UAAUwE,GAAUF,EAAStE,UAAUwE,IAIjF,SAASN,EAAOO,GACd,KAAM3D,gBAAgBoD,GAAS,OAAO,IAAIA,EAAOO,GAEjDJ,EAAS9F,KAAKuC,KAAM2D,GACpBH,EAAS/F,KAAKuC,KAAM2D,GAEhBA,IAAgC,IAArBA,EAAQC,WAAoB5D,KAAK4D,UAAW,GAEvDD,IAAgC,IAArBA,EAAQE,WAAoB7D,KAAK6D,UAAW,GAE3D7D,KAAK8D,eAAgB,EACjBH,IAAqC,IAA1BA,EAAQG,gBAAyB9D,KAAK8D,eAAgB,GAErE9D,KAAKgC,KAAK,MAAO+B,GAcnB,SAASA,IAGH/D,KAAK8D,eAAiB9D,KAAKgE,eAAeC,OAI9CjB,EAAI9B,SAASgD,EAASlE,MAGxB,SAASkE,EAAQC,GACfA,EAAKC,MAtBPpG,OAAOC,eAAemF,EAAOlE,UAAW,wBAAyB,CAI/DhB,YAAY,EACZC,IAAK,WACH,OAAO6B,KAAKgE,eAAeK,iBAmB/BrG,OAAOC,eAAemF,EAAOlE,UAAW,YAAa,CACnDf,IAAK,WACH,YAA4BmG,IAAxBtE,KAAKuE,qBAAwDD,IAAxBtE,KAAKgE,iBAGvChE,KAAKuE,eAAeC,WAAaxE,KAAKgE,eAAeQ,YAE9DC,IAAK,SAAUlG,QAGe+F,IAAxBtE,KAAKuE,qBAAwDD,IAAxBtE,KAAKgE,iBAM9ChE,KAAKuE,eAAeC,UAAYjG,EAChCyB,KAAKgE,eAAeQ,UAAYjG,MAIpC6E,EAAOlE,UAAUwF,SAAW,SAAUC,EAAKC,GACzC5E,KAAKsB,KAAK,MACVtB,KAAKoE,MAELpB,EAAI9B,SAAS0D,EAAID,K,8BCjInB,YAIA,IAKI9F,EALAgG,EAAS,EAAQ,GACjBC,EAASD,EAAOC,OAEhBC,EAAQ,GAIZ,IAAKlG,KAAOgG,EACLA,EAAO1F,eAAeN,IACf,eAARA,GAAgC,WAARA,IAC5BkG,EAAMlG,GAAOgG,EAAOhG,IAGtB,IAAImG,EAAQD,EAAMD,OAAS,GAC3B,IAAKjG,KAAOiG,EACLA,EAAO3F,eAAeN,IACf,gBAARA,GAAiC,oBAARA,IAC7BmG,EAAMnG,GAAOiG,EAAOjG,IAqCtB,GAlCAkG,EAAMD,OAAO5F,UAAY4F,EAAO5F,UAE3B8F,EAAMC,MAAQD,EAAMC,OAASC,WAAWD,OAC3CD,EAAMC,KAAO,SAAU1G,EAAO4G,EAAkB5E,GAC9C,GAAqB,iBAAVhC,EACT,MAAM,IAAI6G,UAAU,yEAA2E7G,GAEjG,GAAIA,QAAiC,IAAjBA,EAAMgC,OACxB,MAAM,IAAI6E,UAAU,yHAA2H7G,GAEjJ,OAAOuG,EAAOvG,EAAO4G,EAAkB5E,KAItCyE,EAAMK,QACTL,EAAMK,MAAQ,SAAUC,EAAMC,EAAMC,GAClC,GAAoB,iBAATF,EACT,MAAM,IAAIF,UAAU,oEAAsEE,GAE5F,GAAIA,EAAO,GAAKA,GAAQ,GAAK,GAAK,IAChC,MAAM,IAAIG,WAAW,cAAgBH,EAAO,kCAE9C,IAAII,EAAMZ,EAAOQ,GAQjB,OAPKC,GAAwB,IAAhBA,EAAKhF,OAEa,iBAAbiF,EAChBE,EAAIH,KAAKA,EAAMC,GAEfE,EAAIH,KAAKA,GAJTG,EAAIH,KAAK,GAMJG,KAINX,EAAMY,iBACT,IACEZ,EAAMY,iBAAmBnG,EAAQgD,QAAQ,UAAUmD,iBACnD,MAAO5F,IAMNgF,EAAMa,YACTb,EAAMa,UAAY,CAChBC,WAAYd,EAAMe,YAEhBf,EAAMY,mBACRZ,EAAMa,UAAUG,kBAAoBhB,EAAMY,mBAI9CtI,EAAOD,QAAU2H,I,kCC5EjB,YAwGA,SAASiB,EAAejI,GACtB,OAAOC,OAAOkB,UAAU+G,SAASxI,KAAKM,GA3ExCX,EAAQ8I,QANR,SAAiBC,GACf,OAAI/E,MAAM8E,QACD9E,MAAM8E,QAAQC,GAEQ,mBAAxBH,EAAeG,IAOxB/I,EAAQgJ,UAHR,SAAmBD,GACjB,MAAsB,kBAARA,GAOhB/I,EAAQiJ,OAHR,SAAgBF,GACd,OAAe,OAARA,GAOT/I,EAAQkJ,kBAHR,SAA2BH,GACzB,OAAc,MAAPA,GAOT/I,EAAQmJ,SAHR,SAAkBJ,GAChB,MAAsB,iBAARA,GAOhB/I,EAAQoJ,SAHR,SAAkBL,GAChB,MAAsB,iBAARA,GAOhB/I,EAAQqJ,SAHR,SAAkBN,GAChB,MAAsB,iBAARA,GAOhB/I,EAAQsJ,YAHR,SAAqBP,GACnB,YAAe,IAARA,GAOT/I,EAAQuJ,SAHR,SAAkBC,GAChB,MAA8B,oBAAvBZ,EAAeY,IAOxBxJ,EAAQyJ,SAHR,SAAkBV,GAChB,MAAsB,iBAARA,GAA4B,OAARA,GAOpC/I,EAAQ0J,OAHR,SAAgBlJ,GACd,MAA6B,kBAAtBoI,EAAepI,IAOxBR,EAAQ2J,QAHR,SAAiBhH,GACf,MAA8B,mBAAtBiG,EAAejG,IAA2BA,aAAaL,OAOjEtC,EAAQ4J,WAHR,SAAoBb,GAClB,MAAsB,mBAARA,GAYhB/I,EAAQ6J,YARR,SAAqBd,GACnB,OAAe,OAARA,GACe,kBAARA,GACQ,iBAARA,GACQ,iBAARA,GACQ,iBAARA,QACQ,IAARA,GAIhB/I,EAAQ8J,SAAWpC,EAAOoC,W,sCCtGG,mBAAlBlJ,OAAOY,OAEhBvB,EAAOD,QAAU,SAAkB+J,EAAMC,GACnCA,IACFD,EAAKE,OAASD,EACdD,EAAKjI,UAAYlB,OAAOY,OAAOwI,EAAUlI,UAAW,CAClDoI,YAAa,CACX/I,MAAO4I,EACPjJ,YAAY,EACZ2F,UAAU,EACV0D,cAAc,OAOtBlK,EAAOD,QAAU,SAAkB+J,EAAMC,GACvC,GAAIA,EAAW,CACbD,EAAKE,OAASD,EACd,IAAII,EAAW,aACfA,EAAStI,UAAYkI,EAAUlI,UAC/BiI,EAAKjI,UAAY,IAAIsI,EACrBL,EAAKjI,UAAUoI,YAAcH,K,8BCvBnC,iBAEuB,IAAZ3H,IACNA,EAAQoC,SAC0B,IAAnCpC,EAAQoC,QAAQ6F,QAAQ,QACW,IAAnCjI,EAAQoC,QAAQ6F,QAAQ,QAAqD,IAArCjI,EAAQoC,QAAQ6F,QAAQ,SAClEpK,EAAOD,QAAU,CAAE8D,SAKrB,SAAkBwG,EAAIC,EAAMC,EAAMC,GAChC,GAAkB,mBAAPH,EACT,MAAM,IAAItC,UAAU,0CAEtB,IACIjE,EAAM7D,EADNqD,EAAMU,UAAUd,OAEpB,OAAQI,GACR,KAAK,EACL,KAAK,EACH,OAAOnB,EAAQ0B,SAASwG,GAC1B,KAAK,EACH,OAAOlI,EAAQ0B,UAAS,WACtBwG,EAAGjK,KAAK,KAAMkK,MAElB,KAAK,EACH,OAAOnI,EAAQ0B,UAAS,WACtBwG,EAAGjK,KAAK,KAAMkK,EAAMC,MAExB,KAAK,EACH,OAAOpI,EAAQ0B,UAAS,WACtBwG,EAAGjK,KAAK,KAAMkK,EAAMC,EAAMC,MAE9B,QAGE,IAFA1G,EAAO,IAAIC,MAAMT,EAAM,GACvBrD,EAAI,EACGA,EAAI6D,EAAKZ,QACdY,EAAK7D,KAAO+D,UAAU/D,GAExB,OAAOkC,EAAQ0B,UAAS,WACtBwG,EAAGnG,MAAM,KAAMJ,SAhCnB9D,EAAOD,QAAUoC,I,iCCPnB,IAAIqF,EAAS,EAAQ,GACjBC,EAASD,EAAOC,OAGpB,SAASgD,EAAWC,EAAKC,GACvB,IAAK,IAAInJ,KAAOkJ,EACdC,EAAInJ,GAAOkJ,EAAIlJ,GAWnB,SAASoJ,EAAY9B,EAAKhB,EAAkB5E,GAC1C,OAAOuE,EAAOqB,EAAKhB,EAAkB5E,GATnCuE,EAAOG,MAAQH,EAAOO,OAASP,EAAOoD,aAAepD,EAAOqD,gBAC9D9K,EAAOD,QAAUyH,GAGjBiD,EAAUjD,EAAQzH,GAClBA,EAAQ0H,OAASmD,GAQnBH,EAAUhD,EAAQmD,GAElBA,EAAWhD,KAAO,SAAUkB,EAAKhB,EAAkB5E,GACjD,GAAmB,iBAAR4F,EACT,MAAM,IAAIf,UAAU,iCAEtB,OAAON,EAAOqB,EAAKhB,EAAkB5E,IAGvC0H,EAAW5C,MAAQ,SAAUC,EAAMC,EAAMC,GACvC,GAAoB,iBAATF,EACT,MAAM,IAAIF,UAAU,6BAEtB,IAAIM,EAAMZ,EAAOQ,GAUjB,YATahB,IAATiB,EACsB,iBAAbC,EACTE,EAAIH,KAAKA,EAAMC,GAEfE,EAAIH,KAAKA,GAGXG,EAAIH,KAAK,GAEJG,GAGTuC,EAAWC,YAAc,SAAU5C,GACjC,GAAoB,iBAATA,EACT,MAAM,IAAIF,UAAU,6BAEtB,OAAON,EAAOQ,IAGhB2C,EAAWE,gBAAkB,SAAU7C,GACrC,GAAoB,iBAATA,EACT,MAAM,IAAIF,UAAU,6BAEtB,OAAOP,EAAOuD,WAAW9C,K,8BC5D3B;;;;;;;AAUA,IAAI+C,EAAS,EAAQ,IACjBC,EAAU,EAAQ,IAClBpC,EAAU,EAAQ,IAmDtB,SAASJ,IACP,OAAOhB,EAAOyD,oBACV,WACA,WAGN,SAASC,EAAcC,EAAMlI,GAC3B,GAAIuF,IAAevF,EACjB,MAAM,IAAIkF,WAAW,8BAcvB,OAZIX,EAAOyD,qBAETE,EAAO,IAAIvD,WAAW3E,IACjBmI,UAAY5D,EAAO5F,WAGX,OAATuJ,IACFA,EAAO,IAAI3D,EAAOvE,IAEpBkI,EAAKlI,OAASA,GAGTkI,EAaT,SAAS3D,EAAQqB,EAAKhB,EAAkB5E,GACtC,KAAKuE,EAAOyD,qBAAyBvI,gBAAgB8E,GACnD,OAAO,IAAIA,EAAOqB,EAAKhB,EAAkB5E,GAI3C,GAAmB,iBAAR4F,EAAkB,CAC3B,GAAgC,iBAArBhB,EACT,MAAM,IAAIzF,MACR,qEAGJ,OAAOwI,EAAYlI,KAAMmG,GAE3B,OAAOlB,EAAKjF,KAAMmG,EAAKhB,EAAkB5E,GAW3C,SAAS0E,EAAMwD,EAAMlK,EAAO4G,EAAkB5E,GAC5C,GAAqB,iBAAVhC,EACT,MAAM,IAAI6G,UAAU,yCAGtB,MAA2B,oBAAhBuD,aAA+BpK,aAAiBoK,YA6H7D,SAA0BF,EAAMzH,EAAO4H,EAAYrI,GAGjD,GAFAS,EAAM6H,WAEFD,EAAa,GAAK5H,EAAM6H,WAAaD,EACvC,MAAM,IAAInD,WAAW,6BAGvB,GAAIzE,EAAM6H,WAAaD,GAAcrI,GAAU,GAC7C,MAAM,IAAIkF,WAAW,6BAIrBzE,OADiBsD,IAAfsE,QAAuCtE,IAAX/D,EACtB,IAAI2E,WAAWlE,QACHsD,IAAX/D,EACD,IAAI2E,WAAWlE,EAAO4H,GAEtB,IAAI1D,WAAWlE,EAAO4H,EAAYrI,GAGxCuE,EAAOyD,qBAETE,EAAOzH,GACF0H,UAAY5D,EAAO5F,UAGxBuJ,EAAOK,EAAcL,EAAMzH,GAE7B,OAAOyH,EAvJEM,CAAgBN,EAAMlK,EAAO4G,EAAkB5E,GAGnC,iBAAVhC,EAwFb,SAAqBkK,EAAMO,EAAQxD,GACT,iBAAbA,GAAsC,KAAbA,IAClCA,EAAW,QAGb,IAAKV,EAAOmE,WAAWzD,GACrB,MAAM,IAAIJ,UAAU,8CAGtB,IAAI7E,EAAwC,EAA/BsI,EAAWG,EAAQxD,GAG5B0D,GAFJT,EAAOD,EAAaC,EAAMlI,IAER4I,MAAMH,EAAQxD,GAE5B0D,IAAW3I,IAIbkI,EAAOA,EAAKW,MAAM,EAAGF,IAGvB,OAAOT,EA5GEY,CAAWZ,EAAMlK,EAAO4G,GAsJnC,SAAqBsD,EAAMtF,GACzB,GAAI2B,EAAOoC,SAAS/D,GAAM,CACxB,IAAIxC,EAA4B,EAAtB2I,EAAQnG,EAAI5C,QAGtB,OAAoB,KAFpBkI,EAAOD,EAAaC,EAAM9H,IAEjBJ,OACAkI,GAGTtF,EAAIoG,KAAKd,EAAM,EAAG,EAAG9H,GACd8H,GAGT,GAAItF,EAAK,CACP,GAA4B,oBAAhBwF,aACRxF,EAAI0B,kBAAkB8D,aAAgB,WAAYxF,EACpD,MAA0B,iBAAfA,EAAI5C,SA+8CLiJ,EA/8CkCrG,EAAI5C,SAg9CrCiJ,EA/8CFhB,EAAaC,EAAM,GAErBK,EAAcL,EAAMtF,GAG7B,GAAiB,WAAbA,EAAIsG,MAAqBvD,EAAQ/C,EAAIuG,MACvC,OAAOZ,EAAcL,EAAMtF,EAAIuG,MAw8CrC,IAAgBF,EAp8Cd,MAAM,IAAIpE,UAAU,sFA9KbuE,CAAWlB,EAAMlK,GA4B1B,SAASqL,EAAYtE,GACnB,GAAoB,iBAATA,EACT,MAAM,IAAIF,UAAU,oCACf,GAAIE,EAAO,EAChB,MAAM,IAAIG,WAAW,wCA4BzB,SAASyC,EAAaO,EAAMnD,GAG1B,GAFAsE,EAAWtE,GACXmD,EAAOD,EAAaC,EAAMnD,EAAO,EAAI,EAAoB,EAAhBgE,EAAQhE,KAC5CR,EAAOyD,oBACV,IAAK,IAAIjL,EAAI,EAAGA,EAAIgI,IAAQhI,EAC1BmL,EAAKnL,GAAK,EAGd,OAAOmL,EAwCT,SAASK,EAAeL,EAAMzH,GAC5B,IAAIT,EAASS,EAAMT,OAAS,EAAI,EAA4B,EAAxB+I,EAAQtI,EAAMT,QAClDkI,EAAOD,EAAaC,EAAMlI,GAC1B,IAAK,IAAIjD,EAAI,EAAGA,EAAIiD,EAAQjD,GAAK,EAC/BmL,EAAKnL,GAAgB,IAAX0D,EAAM1D,GAElB,OAAOmL,EA+DT,SAASa,EAAS/I,GAGhB,GAAIA,GAAUuF,IACZ,MAAM,IAAIL,WAAW,0DACaK,IAAaG,SAAS,IAAM,UAEhE,OAAgB,EAAT1F,EAsFT,SAASsI,EAAYG,EAAQxD,GAC3B,GAAIV,EAAOoC,SAAS8B,GAClB,OAAOA,EAAOzI,OAEhB,GAA2B,oBAAhBoI,aAA6D,mBAAvBA,YAAYkB,SACxDlB,YAAYkB,OAAOb,IAAWA,aAAkBL,aACnD,OAAOK,EAAOH,WAEM,iBAAXG,IACTA,EAAS,GAAKA,GAGhB,IAAIrI,EAAMqI,EAAOzI,OACjB,GAAY,IAARI,EAAW,OAAO,EAItB,IADA,IAAImJ,GAAc,IAEhB,OAAQtE,GACN,IAAK,QACL,IAAK,SACL,IAAK,SACH,OAAO7E,EACT,IAAK,OACL,IAAK,QACL,UAAK2D,EACH,OAAOyF,EAAYf,GAAQzI,OAC7B,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAa,EAANI,EACT,IAAK,MACH,OAAOA,IAAQ,EACjB,IAAK,SACH,OAAOqJ,EAAchB,GAAQzI,OAC/B,QACE,GAAIuJ,EAAa,OAAOC,EAAYf,GAAQzI,OAC5CiF,GAAY,GAAKA,GAAUyE,cAC3BH,GAAc,GAMtB,SAASI,EAAc1E,EAAU2E,EAAO/F,GACtC,IAAI0F,GAAc,EAclB,SALcxF,IAAV6F,GAAuBA,EAAQ,KACjCA,EAAQ,GAINA,EAAQnK,KAAKO,OACf,MAAO,GAOT,SAJY+D,IAARF,GAAqBA,EAAMpE,KAAKO,UAClC6D,EAAMpE,KAAKO,QAGT6D,GAAO,EACT,MAAO,GAOT,IAHAA,KAAS,KACT+F,KAAW,GAGT,MAAO,GAKT,IAFK3E,IAAUA,EAAW,UAGxB,OAAQA,GACN,IAAK,MACH,OAAO4E,EAASpK,KAAMmK,EAAO/F,GAE/B,IAAK,OACL,IAAK,QACH,OAAOiG,EAAUrK,KAAMmK,EAAO/F,GAEhC,IAAK,QACH,OAAOkG,EAAWtK,KAAMmK,EAAO/F,GAEjC,IAAK,SACL,IAAK,SACH,OAAOmG,EAAYvK,KAAMmK,EAAO/F,GAElC,IAAK,SACH,OAAOoG,EAAYxK,KAAMmK,EAAO/F,GAElC,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAOqG,EAAazK,KAAMmK,EAAO/F,GAEnC,QACE,GAAI0F,EAAa,MAAM,IAAI1E,UAAU,qBAAuBI,GAC5DA,GAAYA,EAAW,IAAIyE,cAC3BH,GAAc,GAStB,SAASY,EAAMC,EAAG5L,EAAGrB,GACnB,IAAIJ,EAAIqN,EAAE5L,GACV4L,EAAE5L,GAAK4L,EAAEjN,GACTiN,EAAEjN,GAAKJ,EAmIT,SAASsN,EAAsB/F,EAAQ2E,EAAKZ,EAAYpD,EAAU7C,GAEhE,GAAsB,IAAlBkC,EAAOtE,OAAc,OAAQ,EAmBjC,GAhB0B,iBAAfqI,GACTpD,EAAWoD,EACXA,EAAa,GACJA,EAAa,WACtBA,EAAa,WACJA,GAAc,aACvBA,GAAc,YAEhBA,GAAcA,EACViC,MAAMjC,KAERA,EAAajG,EAAM,EAAKkC,EAAOtE,OAAS,GAItCqI,EAAa,IAAGA,EAAa/D,EAAOtE,OAASqI,GAC7CA,GAAc/D,EAAOtE,OAAQ,CAC/B,GAAIoC,EAAK,OAAQ,EACZiG,EAAa/D,EAAOtE,OAAS,OAC7B,GAAIqI,EAAa,EAAG,CACzB,IAAIjG,EACC,OAAQ,EADJiG,EAAa,EAUxB,GALmB,iBAARY,IACTA,EAAM1E,EAAOG,KAAKuE,EAAKhE,IAIrBV,EAAOoC,SAASsC,GAElB,OAAmB,IAAfA,EAAIjJ,QACE,EAEHuK,EAAajG,EAAQ2E,EAAKZ,EAAYpD,EAAU7C,GAClD,GAAmB,iBAAR6G,EAEhB,OADAA,GAAY,IACR1E,EAAOyD,qBACiC,mBAAjCrD,WAAWhG,UAAUuI,QAC1B9E,EACKuC,WAAWhG,UAAUuI,QAAQhK,KAAKoH,EAAQ2E,EAAKZ,GAE/C1D,WAAWhG,UAAU6L,YAAYtN,KAAKoH,EAAQ2E,EAAKZ,GAGvDkC,EAAajG,EAAQ,CAAE2E,GAAOZ,EAAYpD,EAAU7C,GAG7D,MAAM,IAAIyC,UAAU,wCAGtB,SAAS0F,EAAcE,EAAKxB,EAAKZ,EAAYpD,EAAU7C,GACrD,IA0BIrF,EA1BA2N,EAAY,EACZC,EAAYF,EAAIzK,OAChB4K,EAAY3B,EAAIjJ,OAEpB,QAAiB+D,IAAbkB,IAEe,UADjBA,EAAW4F,OAAO5F,GAAUyE,gBACY,UAAbzE,GACV,YAAbA,GAAuC,aAAbA,GAAyB,CACrD,GAAIwF,EAAIzK,OAAS,GAAKiJ,EAAIjJ,OAAS,EACjC,OAAQ,EAEV0K,EAAY,EACZC,GAAa,EACbC,GAAa,EACbvC,GAAc,EAIlB,SAASyC,EAAM3F,EAAKpI,GAClB,OAAkB,IAAd2N,EACKvF,EAAIpI,GAEJoI,EAAI4F,aAAahO,EAAI2N,GAKhC,GAAItI,EAAK,CACP,IAAI4I,GAAc,EAClB,IAAKjO,EAAIsL,EAAYtL,EAAI4N,EAAW5N,IAClC,GAAI+N,EAAKL,EAAK1N,KAAO+N,EAAK7B,GAAqB,IAAhB+B,EAAoB,EAAIjO,EAAIiO,IAEzD,IADoB,IAAhBA,IAAmBA,EAAajO,GAChCA,EAAIiO,EAAa,IAAMJ,EAAW,OAAOI,EAAaN,OAEtC,IAAhBM,IAAmBjO,GAAKA,EAAIiO,GAChCA,GAAc,OAKlB,IADI3C,EAAauC,EAAYD,IAAWtC,EAAasC,EAAYC,GAC5D7N,EAAIsL,EAAYtL,GAAK,EAAGA,IAAK,CAEhC,IADA,IAAIkO,GAAQ,EACHC,EAAI,EAAGA,EAAIN,EAAWM,IAC7B,GAAIJ,EAAKL,EAAK1N,EAAImO,KAAOJ,EAAK7B,EAAKiC,GAAI,CACrCD,GAAQ,EACR,MAGJ,GAAIA,EAAO,OAAOlO,EAItB,OAAQ,EAeV,SAASoO,EAAUhG,EAAKsD,EAAQ2C,EAAQpL,GACtCoL,EAASC,OAAOD,IAAW,EAC3B,IAAIE,EAAYnG,EAAInF,OAASoL,EACxBpL,GAGHA,EAASqL,OAAOrL,IACHsL,IACXtL,EAASsL,GAJXtL,EAASsL,EASX,IAAIC,EAAS9C,EAAOzI,OACpB,GAAIuL,EAAS,GAAM,EAAG,MAAM,IAAI1G,UAAU,sBAEtC7E,EAASuL,EAAS,IACpBvL,EAASuL,EAAS,GAEpB,IAAK,IAAIxO,EAAI,EAAGA,EAAIiD,IAAUjD,EAAG,CAC/B,IAAIyO,EAASC,SAAShD,EAAOiD,OAAW,EAAJ3O,EAAO,GAAI,IAC/C,GAAIuN,MAAMkB,GAAS,OAAOzO,EAC1BoI,EAAIiG,EAASrO,GAAKyO,EAEpB,OAAOzO,EAGT,SAAS4O,EAAWxG,EAAKsD,EAAQ2C,EAAQpL,GACvC,OAAO4L,EAAWpC,EAAYf,EAAQtD,EAAInF,OAASoL,GAASjG,EAAKiG,EAAQpL,GAG3E,SAAS6L,EAAY1G,EAAKsD,EAAQ2C,EAAQpL,GACxC,OAAO4L,EAq6BT,SAAuBE,GAErB,IADA,IAAIC,EAAY,GACPhP,EAAI,EAAGA,EAAI+O,EAAI9L,SAAUjD,EAEhCgP,EAAUhL,KAAyB,IAApB+K,EAAIE,WAAWjP,IAEhC,OAAOgP,EA36BWE,CAAaxD,GAAStD,EAAKiG,EAAQpL,GAGvD,SAASkM,EAAa/G,EAAKsD,EAAQ2C,EAAQpL,GACzC,OAAO6L,EAAW1G,EAAKsD,EAAQ2C,EAAQpL,GAGzC,SAASmM,EAAahH,EAAKsD,EAAQ2C,EAAQpL,GACzC,OAAO4L,EAAWnC,EAAchB,GAAStD,EAAKiG,EAAQpL,GAGxD,SAASoM,EAAWjH,EAAKsD,EAAQ2C,EAAQpL,GACvC,OAAO4L,EAk6BT,SAAyBE,EAAKO,GAG5B,IAFA,IAAIjP,EAAGkP,EAAIC,EACPR,EAAY,GACPhP,EAAI,EAAGA,EAAI+O,EAAI9L,WACjBqM,GAAS,GAAK,KADatP,EAGhCK,EAAI0O,EAAIE,WAAWjP,GACnBuP,EAAKlP,GAAK,EACVmP,EAAKnP,EAAI,IACT2O,EAAUhL,KAAKwL,GACfR,EAAUhL,KAAKuL,GAGjB,OAAOP,EA/6BWS,CAAe/D,EAAQtD,EAAInF,OAASoL,GAASjG,EAAKiG,EAAQpL,GAkF9E,SAASiK,EAAa9E,EAAKyE,EAAO/F,GAChC,OAAc,IAAV+F,GAAe/F,IAAQsB,EAAInF,OACtB8H,EAAO2E,cAActH,GAErB2C,EAAO2E,cAActH,EAAI0D,MAAMe,EAAO/F,IAIjD,SAASiG,EAAW3E,EAAKyE,EAAO/F,GAC9BA,EAAM6I,KAAKC,IAAIxH,EAAInF,OAAQ6D,GAI3B,IAHA,IAAI+I,EAAM,GAEN7P,EAAI6M,EACD7M,EAAI8G,GAAK,CACd,IAQMgJ,EAAYC,EAAWC,EAAYC,EARrCC,EAAY9H,EAAIpI,GAChBmQ,EAAY,KACZC,EAAoBF,EAAY,IAAQ,EACvCA,EAAY,IAAQ,EACpBA,EAAY,IAAQ,EACrB,EAEJ,GAAIlQ,EAAIoQ,GAAoBtJ,EAG1B,OAAQsJ,GACN,KAAK,EACCF,EAAY,MACdC,EAAYD,GAEd,MACF,KAAK,EAEyB,MAAV,KADlBJ,EAAa1H,EAAIpI,EAAI,OAEnBiQ,GAA6B,GAAZC,IAAqB,EAAoB,GAAbJ,GACzB,MAClBK,EAAYF,GAGhB,MACF,KAAK,EACHH,EAAa1H,EAAIpI,EAAI,GACrB+P,EAAY3H,EAAIpI,EAAI,GACQ,MAAV,IAAb8P,IAAsD,MAAV,IAAZC,KACnCE,GAA6B,GAAZC,IAAoB,IAAoB,GAAbJ,IAAsB,EAAmB,GAAZC,GACrD,OAAUE,EAAgB,OAAUA,EAAgB,SACtEE,EAAYF,GAGhB,MACF,KAAK,EACHH,EAAa1H,EAAIpI,EAAI,GACrB+P,EAAY3H,EAAIpI,EAAI,GACpBgQ,EAAa5H,EAAIpI,EAAI,GACO,MAAV,IAAb8P,IAAsD,MAAV,IAAZC,IAAsD,MAAV,IAAbC,KAClEC,GAA6B,GAAZC,IAAoB,IAAqB,GAAbJ,IAAsB,IAAmB,GAAZC,IAAqB,EAAoB,GAAbC,GAClF,OAAUC,EAAgB,UAC5CE,EAAYF,GAMJ,OAAdE,GAGFA,EAAY,MACZC,EAAmB,GACVD,EAAY,QAErBA,GAAa,MACbN,EAAI7L,KAAKmM,IAAc,GAAK,KAAQ,OACpCA,EAAY,MAAqB,KAAZA,GAGvBN,EAAI7L,KAAKmM,GACTnQ,GAAKoQ,EAGP,OAQF,SAAgCC,GAC9B,IAAIhN,EAAMgN,EAAWpN,OACrB,GAAII,GAJqB,KAKvB,OAAOyK,OAAOwC,aAAarM,MAAM6J,OAAQuC,GAI3C,IAAIR,EAAM,GACN7P,EAAI,EACR,KAAOA,EAAIqD,GACTwM,GAAO/B,OAAOwC,aAAarM,MACzB6J,OACAuC,EAAWvE,MAAM9L,EAAGA,GAdC,OAiBzB,OAAO6P,EAvBAU,CAAsBV,GA98B/B/P,EAAQ0H,OAASA,EACjB1H,EAAQgL,WAoTR,SAAqB7H,IACdA,GAAUA,IACbA,EAAS,GAEX,OAAOuE,EAAOO,OAAO9E,IAvTvBnD,EAAQ0Q,kBAAoB,GA0B5BhJ,EAAOyD,yBAAqDjE,IAA/ByJ,EAAOxF,oBAChCwF,EAAOxF,oBAQX,WACE,IACE,IAAIyC,EAAM,IAAI9F,WAAW,GAEzB,OADA8F,EAAItC,UAAY,CAACA,UAAWxD,WAAWhG,UAAW8O,IAAK,WAAc,OAAO,KACvD,KAAdhD,EAAIgD,OACiB,mBAAjBhD,EAAIiD,UACuB,IAAlCjD,EAAIiD,SAAS,EAAG,GAAGpF,WACvB,MAAO9I,GACP,OAAO,GAfPmO,GAKJ9Q,EAAQ0I,WAAaA,IAkErBhB,EAAOqJ,SAAW,KAGlBrJ,EAAOsJ,SAAW,SAAUpD,GAE1B,OADAA,EAAItC,UAAY5D,EAAO5F,UAChB8L,GA2BTlG,EAAOG,KAAO,SAAU1G,EAAO4G,EAAkB5E,GAC/C,OAAO0E,EAAK,KAAM1G,EAAO4G,EAAkB5E,IAGzCuE,EAAOyD,sBACTzD,EAAO5F,UAAUwJ,UAAYxD,WAAWhG,UACxC4F,EAAO4D,UAAYxD,WACG,oBAAX7G,QAA0BA,OAAOgQ,SACxCvJ,EAAOzG,OAAOgQ,WAAavJ,GAE7B9G,OAAOC,eAAe6G,EAAQzG,OAAOgQ,QAAS,CAC5C9P,MAAO,KACPgJ,cAAc,KAiCpBzC,EAAOO,MAAQ,SAAUC,EAAMC,EAAMC,GACnC,OArBF,SAAgBiD,EAAMnD,EAAMC,EAAMC,GAEhC,OADAoE,EAAWtE,GACPA,GAAQ,EACHkD,EAAaC,EAAMnD,QAEfhB,IAATiB,EAIyB,iBAAbC,EACVgD,EAAaC,EAAMnD,GAAMC,KAAKA,EAAMC,GACpCgD,EAAaC,EAAMnD,GAAMC,KAAKA,GAE7BiD,EAAaC,EAAMnD,GAQnBD,CAAM,KAAMC,EAAMC,EAAMC,IAiBjCV,EAAOoD,YAAc,SAAU5C,GAC7B,OAAO4C,EAAY,KAAM5C,IAK3BR,EAAOqD,gBAAkB,SAAU7C,GACjC,OAAO4C,EAAY,KAAM5C,IAiH3BR,EAAOoC,SAAW,SAAmByD,GACnC,QAAe,MAALA,IAAaA,EAAE2D,YAG3BxJ,EAAOyJ,QAAU,SAAkBC,EAAG7D,GACpC,IAAK7F,EAAOoC,SAASsH,KAAO1J,EAAOoC,SAASyD,GAC1C,MAAM,IAAIvF,UAAU,6BAGtB,GAAIoJ,IAAM7D,EAAG,OAAO,EAKpB,IAHA,IAAI8D,EAAID,EAAEjO,OACNmO,EAAI/D,EAAEpK,OAEDjD,EAAI,EAAGqD,EAAMsM,KAAKC,IAAIuB,EAAGC,GAAIpR,EAAIqD,IAAOrD,EAC/C,GAAIkR,EAAElR,KAAOqN,EAAErN,GAAI,CACjBmR,EAAID,EAAElR,GACNoR,EAAI/D,EAAErN,GACN,MAIJ,OAAImR,EAAIC,GAAW,EACfA,EAAID,EAAU,EACX,GAGT3J,EAAOmE,WAAa,SAAqBzD,GACvC,OAAQ4F,OAAO5F,GAAUyE,eACvB,IAAK,MACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAO,EACT,QACE,OAAO,IAIbnF,EAAOtE,OAAS,SAAiBmO,EAAMpO,GACrC,IAAK2F,EAAQyI,GACX,MAAM,IAAIvJ,UAAU,+CAGtB,GAAoB,IAAhBuJ,EAAKpO,OACP,OAAOuE,EAAOO,MAAM,GAGtB,IAAI/H,EACJ,QAAegH,IAAX/D,EAEF,IADAA,EAAS,EACJjD,EAAI,EAAGA,EAAIqR,EAAKpO,SAAUjD,EAC7BiD,GAAUoO,EAAKrR,GAAGiD,OAItB,IAAIsE,EAASC,EAAOoD,YAAY3H,GAC5BqO,EAAM,EACV,IAAKtR,EAAI,EAAGA,EAAIqR,EAAKpO,SAAUjD,EAAG,CAChC,IAAIoI,EAAMiJ,EAAKrR,GACf,IAAKwH,EAAOoC,SAASxB,GACnB,MAAM,IAAIN,UAAU,+CAEtBM,EAAI6D,KAAK1E,EAAQ+J,GACjBA,GAAOlJ,EAAInF,OAEb,OAAOsE,GA8CTC,EAAO+D,WAAaA,EA0EpB/D,EAAO5F,UAAUoP,WAAY,EAQ7BxJ,EAAO5F,UAAU2P,OAAS,WACxB,IAAIlO,EAAMX,KAAKO,OACf,GAAII,EAAM,GAAM,EACd,MAAM,IAAI8E,WAAW,6CAEvB,IAAK,IAAInI,EAAI,EAAGA,EAAIqD,EAAKrD,GAAK,EAC5BoN,EAAK1K,KAAM1C,EAAGA,EAAI,GAEpB,OAAO0C,MAGT8E,EAAO5F,UAAU4P,OAAS,WACxB,IAAInO,EAAMX,KAAKO,OACf,GAAII,EAAM,GAAM,EACd,MAAM,IAAI8E,WAAW,6CAEvB,IAAK,IAAInI,EAAI,EAAGA,EAAIqD,EAAKrD,GAAK,EAC5BoN,EAAK1K,KAAM1C,EAAGA,EAAI,GAClBoN,EAAK1K,KAAM1C,EAAI,EAAGA,EAAI,GAExB,OAAO0C,MAGT8E,EAAO5F,UAAU6P,OAAS,WACxB,IAAIpO,EAAMX,KAAKO,OACf,GAAII,EAAM,GAAM,EACd,MAAM,IAAI8E,WAAW,6CAEvB,IAAK,IAAInI,EAAI,EAAGA,EAAIqD,EAAKrD,GAAK,EAC5BoN,EAAK1K,KAAM1C,EAAGA,EAAI,GAClBoN,EAAK1K,KAAM1C,EAAI,EAAGA,EAAI,GACtBoN,EAAK1K,KAAM1C,EAAI,EAAGA,EAAI,GACtBoN,EAAK1K,KAAM1C,EAAI,EAAGA,EAAI,GAExB,OAAO0C,MAGT8E,EAAO5F,UAAU+G,SAAW,WAC1B,IAAI1F,EAAuB,EAAdP,KAAKO,OAClB,OAAe,IAAXA,EAAqB,GACA,IAArBc,UAAUd,OAAqB8J,EAAUrK,KAAM,EAAGO,GAC/C2J,EAAa3I,MAAMvB,KAAMqB,YAGlCyD,EAAO5F,UAAU8P,OAAS,SAAiBrE,GACzC,IAAK7F,EAAOoC,SAASyD,GAAI,MAAM,IAAIvF,UAAU,6BAC7C,OAAIpF,OAAS2K,GACsB,IAA5B7F,EAAOyJ,QAAQvO,KAAM2K,IAG9B7F,EAAO5F,UAAU+P,QAAU,WACzB,IAAI5C,EAAM,GACN6C,EAAM9R,EAAQ0Q,kBAKlB,OAJI9N,KAAKO,OAAS,IAChB8L,EAAMrM,KAAKiG,SAAS,MAAO,EAAGiJ,GAAKC,MAAM,SAASC,KAAK,KACnDpP,KAAKO,OAAS2O,IAAK7C,GAAO,UAEzB,WAAaA,EAAM,KAG5BvH,EAAO5F,UAAUqP,QAAU,SAAkBc,EAAQlF,EAAO/F,EAAKkL,EAAWC,GAC1E,IAAKzK,EAAOoC,SAASmI,GACnB,MAAM,IAAIjK,UAAU,6BAgBtB,QAbcd,IAAV6F,IACFA,EAAQ,QAEE7F,IAARF,IACFA,EAAMiL,EAASA,EAAO9O,OAAS,QAEf+D,IAAdgL,IACFA,EAAY,QAEEhL,IAAZiL,IACFA,EAAUvP,KAAKO,QAGb4J,EAAQ,GAAK/F,EAAMiL,EAAO9O,QAAU+O,EAAY,GAAKC,EAAUvP,KAAKO,OACtE,MAAM,IAAIkF,WAAW,sBAGvB,GAAI6J,GAAaC,GAAWpF,GAAS/F,EACnC,OAAO,EAET,GAAIkL,GAAaC,EACf,OAAQ,EAEV,GAAIpF,GAAS/F,EACX,OAAO,EAQT,GAAIpE,OAASqP,EAAQ,OAAO,EAS5B,IAPA,IAAIZ,GAJJc,KAAa,IADbD,KAAe,GAMXZ,GAPJtK,KAAS,IADT+F,KAAW,GASPxJ,EAAMsM,KAAKC,IAAIuB,EAAGC,GAElBc,EAAWxP,KAAKoJ,MAAMkG,EAAWC,GACjCE,EAAaJ,EAAOjG,MAAMe,EAAO/F,GAE5B9G,EAAI,EAAGA,EAAIqD,IAAOrD,EACzB,GAAIkS,EAASlS,KAAOmS,EAAWnS,GAAI,CACjCmR,EAAIe,EAASlS,GACboR,EAAIe,EAAWnS,GACf,MAIJ,OAAImR,EAAIC,GAAW,EACfA,EAAID,EAAU,EACX,GA6HT3J,EAAO5F,UAAUwQ,SAAW,SAAmBlG,EAAKZ,EAAYpD,GAC9D,OAAoD,IAA7CxF,KAAKyH,QAAQ+B,EAAKZ,EAAYpD,IAGvCV,EAAO5F,UAAUuI,QAAU,SAAkB+B,EAAKZ,EAAYpD,GAC5D,OAAOoF,EAAqB5K,KAAMwJ,EAAKZ,EAAYpD,GAAU,IAG/DV,EAAO5F,UAAU6L,YAAc,SAAsBvB,EAAKZ,EAAYpD,GACpE,OAAOoF,EAAqB5K,KAAMwJ,EAAKZ,EAAYpD,GAAU,IAkD/DV,EAAO5F,UAAUiK,MAAQ,SAAgBH,EAAQ2C,EAAQpL,EAAQiF,GAE/D,QAAelB,IAAXqH,EACFnG,EAAW,OACXjF,EAASP,KAAKO,OACdoL,EAAS,OAEJ,QAAerH,IAAX/D,GAA0C,iBAAXoL,EACxCnG,EAAWmG,EACXpL,EAASP,KAAKO,OACdoL,EAAS,MAEJ,KAAIgE,SAAShE,GAWlB,MAAM,IAAIjM,MACR,2EAXFiM,GAAkB,EACdgE,SAASpP,IACXA,GAAkB,OACD+D,IAAbkB,IAAwBA,EAAW,UAEvCA,EAAWjF,EACXA,OAAS+D,GASb,IAAIuH,EAAY7L,KAAKO,OAASoL,EAG9B,SAFerH,IAAX/D,GAAwBA,EAASsL,KAAWtL,EAASsL,GAEpD7C,EAAOzI,OAAS,IAAMA,EAAS,GAAKoL,EAAS,IAAOA,EAAS3L,KAAKO,OACrE,MAAM,IAAIkF,WAAW,0CAGlBD,IAAUA,EAAW,QAG1B,IADA,IAAIsE,GAAc,IAEhB,OAAQtE,GACN,IAAK,MACH,OAAOkG,EAAS1L,KAAMgJ,EAAQ2C,EAAQpL,GAExC,IAAK,OACL,IAAK,QACH,OAAO2L,EAAUlM,KAAMgJ,EAAQ2C,EAAQpL,GAEzC,IAAK,QACH,OAAO6L,EAAWpM,KAAMgJ,EAAQ2C,EAAQpL,GAE1C,IAAK,SACL,IAAK,SACH,OAAOkM,EAAYzM,KAAMgJ,EAAQ2C,EAAQpL,GAE3C,IAAK,SAEH,OAAOmM,EAAY1M,KAAMgJ,EAAQ2C,EAAQpL,GAE3C,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAOoM,EAAU3M,KAAMgJ,EAAQ2C,EAAQpL,GAEzC,QACE,GAAIuJ,EAAa,MAAM,IAAI1E,UAAU,qBAAuBI,GAC5DA,GAAY,GAAKA,GAAUyE,cAC3BH,GAAc,IAKtBhF,EAAO5F,UAAU0Q,OAAS,WACxB,MAAO,CACLnG,KAAM,SACNC,KAAMtI,MAAMlC,UAAUkK,MAAM3L,KAAKuC,KAAK6P,MAAQ7P,KAAM,KA4GxD,SAASsK,EAAY5E,EAAKyE,EAAO/F,GAC/B,IAAI0L,EAAM,GACV1L,EAAM6I,KAAKC,IAAIxH,EAAInF,OAAQ6D,GAE3B,IAAK,IAAI9G,EAAI6M,EAAO7M,EAAI8G,IAAO9G,EAC7BwS,GAAO1E,OAAOwC,aAAsB,IAATlI,EAAIpI,IAEjC,OAAOwS,EAGT,SAASvF,EAAa7E,EAAKyE,EAAO/F,GAChC,IAAI0L,EAAM,GACV1L,EAAM6I,KAAKC,IAAIxH,EAAInF,OAAQ6D,GAE3B,IAAK,IAAI9G,EAAI6M,EAAO7M,EAAI8G,IAAO9G,EAC7BwS,GAAO1E,OAAOwC,aAAalI,EAAIpI,IAEjC,OAAOwS,EAGT,SAAS1F,EAAU1E,EAAKyE,EAAO/F,GAC7B,IAAIzD,EAAM+E,EAAInF,SAET4J,GAASA,EAAQ,KAAGA,EAAQ,KAC5B/F,GAAOA,EAAM,GAAKA,EAAMzD,KAAKyD,EAAMzD,GAGxC,IADA,IAAIoP,EAAM,GACDzS,EAAI6M,EAAO7M,EAAI8G,IAAO9G,EAC7ByS,GAAOC,EAAMtK,EAAIpI,IAEnB,OAAOyS,EAGT,SAAStF,EAAc/E,EAAKyE,EAAO/F,GAGjC,IAFA,IAAI6L,EAAQvK,EAAI0D,MAAMe,EAAO/F,GACzB+I,EAAM,GACD7P,EAAI,EAAGA,EAAI2S,EAAM1P,OAAQjD,GAAK,EACrC6P,GAAO/B,OAAOwC,aAAaqC,EAAM3S,GAAoB,IAAf2S,EAAM3S,EAAI,IAElD,OAAO6P,EA0CT,SAAS+C,EAAavE,EAAQwE,EAAK5P,GACjC,GAAKoL,EAAS,GAAO,GAAKA,EAAS,EAAG,MAAM,IAAIlG,WAAW,sBAC3D,GAAIkG,EAASwE,EAAM5P,EAAQ,MAAM,IAAIkF,WAAW,yCA+JlD,SAAS2K,EAAU1K,EAAKnH,EAAOoN,EAAQwE,EAAKjB,EAAKhC,GAC/C,IAAKpI,EAAOoC,SAASxB,GAAM,MAAM,IAAIN,UAAU,+CAC/C,GAAI7G,EAAQ2Q,GAAO3Q,EAAQ2O,EAAK,MAAM,IAAIzH,WAAW,qCACrD,GAAIkG,EAASwE,EAAMzK,EAAInF,OAAQ,MAAM,IAAIkF,WAAW,sBAkDtD,SAAS4K,EAAmB3K,EAAKnH,EAAOoN,EAAQ2E,GAC1C/R,EAAQ,IAAGA,EAAQ,MAASA,EAAQ,GACxC,IAAK,IAAIjB,EAAI,EAAGmO,EAAIwB,KAAKC,IAAIxH,EAAInF,OAASoL,EAAQ,GAAIrO,EAAImO,IAAKnO,EAC7DoI,EAAIiG,EAASrO,IAAMiB,EAAS,KAAS,GAAK+R,EAAehT,EAAI,EAAIA,MAClC,GAA5BgT,EAAehT,EAAI,EAAIA,GA8B9B,SAASiT,EAAmB7K,EAAKnH,EAAOoN,EAAQ2E,GAC1C/R,EAAQ,IAAGA,EAAQ,WAAaA,EAAQ,GAC5C,IAAK,IAAIjB,EAAI,EAAGmO,EAAIwB,KAAKC,IAAIxH,EAAInF,OAASoL,EAAQ,GAAIrO,EAAImO,IAAKnO,EAC7DoI,EAAIiG,EAASrO,GAAMiB,IAAuC,GAA5B+R,EAAehT,EAAI,EAAIA,GAAU,IAmJnE,SAASkT,EAAc9K,EAAKnH,EAAOoN,EAAQwE,EAAKjB,EAAKhC,GACnD,GAAIvB,EAASwE,EAAMzK,EAAInF,OAAQ,MAAM,IAAIkF,WAAW,sBACpD,GAAIkG,EAAS,EAAG,MAAM,IAAIlG,WAAW,sBAGvC,SAASgL,EAAY/K,EAAKnH,EAAOoN,EAAQ2E,EAAcI,GAKrD,OAJKA,GACHF,EAAa9K,EAAKnH,EAAOoN,EAAQ,GAEnCrD,EAAQa,MAAMzD,EAAKnH,EAAOoN,EAAQ2E,EAAc,GAAI,GAC7C3E,EAAS,EAWlB,SAASgF,EAAajL,EAAKnH,EAAOoN,EAAQ2E,EAAcI,GAKtD,OAJKA,GACHF,EAAa9K,EAAKnH,EAAOoN,EAAQ,GAEnCrD,EAAQa,MAAMzD,EAAKnH,EAAOoN,EAAQ2E,EAAc,GAAI,GAC7C3E,EAAS,EA/clB7G,EAAO5F,UAAUkK,MAAQ,SAAgBe,EAAO/F,GAC9C,IAoBIwM,EApBAjQ,EAAMX,KAAKO,OAqBf,IApBA4J,IAAUA,GAGE,GACVA,GAASxJ,GACG,IAAGwJ,EAAQ,GACdA,EAAQxJ,IACjBwJ,EAAQxJ,IANVyD,OAAcE,IAARF,EAAoBzD,IAAQyD,GASxB,GACRA,GAAOzD,GACG,IAAGyD,EAAM,GACVA,EAAMzD,IACfyD,EAAMzD,GAGJyD,EAAM+F,IAAO/F,EAAM+F,GAGnBrF,EAAOyD,qBACTqI,EAAS5Q,KAAKiO,SAAS9D,EAAO/F,IACvBsE,UAAY5D,EAAO5F,cACrB,CACL,IAAI2R,EAAWzM,EAAM+F,EACrByG,EAAS,IAAI9L,EAAO+L,OAAUvM,GAC9B,IAAK,IAAIhH,EAAI,EAAGA,EAAIuT,IAAYvT,EAC9BsT,EAAOtT,GAAK0C,KAAK1C,EAAI6M,GAIzB,OAAOyG,GAWT9L,EAAO5F,UAAU4R,WAAa,SAAqBnF,EAAQ9C,EAAY6H,GACrE/E,GAAkB,EAClB9C,GAA0B,EACrB6H,GAAUR,EAAYvE,EAAQ9C,EAAY7I,KAAKO,QAKpD,IAHA,IAAIiJ,EAAMxJ,KAAK2L,GACXoF,EAAM,EACNzT,EAAI,IACCA,EAAIuL,IAAekI,GAAO,MACjCvH,GAAOxJ,KAAK2L,EAASrO,GAAKyT,EAG5B,OAAOvH,GAGT1E,EAAO5F,UAAU8R,WAAa,SAAqBrF,EAAQ9C,EAAY6H,GACrE/E,GAAkB,EAClB9C,GAA0B,EACrB6H,GACHR,EAAYvE,EAAQ9C,EAAY7I,KAAKO,QAKvC,IAFA,IAAIiJ,EAAMxJ,KAAK2L,IAAW9C,GACtBkI,EAAM,EACHlI,EAAa,IAAMkI,GAAO,MAC/BvH,GAAOxJ,KAAK2L,IAAW9C,GAAckI,EAGvC,OAAOvH,GAGT1E,EAAO5F,UAAU+R,UAAY,SAAoBtF,EAAQ+E,GAEvD,OADKA,GAAUR,EAAYvE,EAAQ,EAAG3L,KAAKO,QACpCP,KAAK2L,IAGd7G,EAAO5F,UAAUgS,aAAe,SAAuBvF,EAAQ+E,GAE7D,OADKA,GAAUR,EAAYvE,EAAQ,EAAG3L,KAAKO,QACpCP,KAAK2L,GAAW3L,KAAK2L,EAAS,IAAM,GAG7C7G,EAAO5F,UAAUoM,aAAe,SAAuBK,EAAQ+E,GAE7D,OADKA,GAAUR,EAAYvE,EAAQ,EAAG3L,KAAKO,QACnCP,KAAK2L,IAAW,EAAK3L,KAAK2L,EAAS,IAG7C7G,EAAO5F,UAAUiS,aAAe,SAAuBxF,EAAQ+E,GAG7D,OAFKA,GAAUR,EAAYvE,EAAQ,EAAG3L,KAAKO,SAElCP,KAAK2L,GACT3L,KAAK2L,EAAS,IAAM,EACpB3L,KAAK2L,EAAS,IAAM,IACD,SAAnB3L,KAAK2L,EAAS,IAGrB7G,EAAO5F,UAAUkS,aAAe,SAAuBzF,EAAQ+E,GAG7D,OAFKA,GAAUR,EAAYvE,EAAQ,EAAG3L,KAAKO,QAEpB,SAAfP,KAAK2L,IACT3L,KAAK2L,EAAS,IAAM,GACrB3L,KAAK2L,EAAS,IAAM,EACrB3L,KAAK2L,EAAS,KAGlB7G,EAAO5F,UAAUmS,UAAY,SAAoB1F,EAAQ9C,EAAY6H,GACnE/E,GAAkB,EAClB9C,GAA0B,EACrB6H,GAAUR,EAAYvE,EAAQ9C,EAAY7I,KAAKO,QAKpD,IAHA,IAAIiJ,EAAMxJ,KAAK2L,GACXoF,EAAM,EACNzT,EAAI,IACCA,EAAIuL,IAAekI,GAAO,MACjCvH,GAAOxJ,KAAK2L,EAASrO,GAAKyT,EAM5B,OAFIvH,IAFJuH,GAAO,OAESvH,GAAOyD,KAAKqE,IAAI,EAAG,EAAIzI,IAEhCW,GAGT1E,EAAO5F,UAAUqS,UAAY,SAAoB5F,EAAQ9C,EAAY6H,GACnE/E,GAAkB,EAClB9C,GAA0B,EACrB6H,GAAUR,EAAYvE,EAAQ9C,EAAY7I,KAAKO,QAKpD,IAHA,IAAIjD,EAAIuL,EACJkI,EAAM,EACNvH,EAAMxJ,KAAK2L,IAAWrO,GACnBA,EAAI,IAAMyT,GAAO,MACtBvH,GAAOxJ,KAAK2L,IAAWrO,GAAKyT,EAM9B,OAFIvH,IAFJuH,GAAO,OAESvH,GAAOyD,KAAKqE,IAAI,EAAG,EAAIzI,IAEhCW,GAGT1E,EAAO5F,UAAUsS,SAAW,SAAmB7F,EAAQ+E,GAErD,OADKA,GAAUR,EAAYvE,EAAQ,EAAG3L,KAAKO,QACtB,IAAfP,KAAK2L,IAC0B,GAA5B,IAAO3L,KAAK2L,GAAU,GADK3L,KAAK2L,IAI3C7G,EAAO5F,UAAUuS,YAAc,SAAsB9F,EAAQ+E,GACtDA,GAAUR,EAAYvE,EAAQ,EAAG3L,KAAKO,QAC3C,IAAIiJ,EAAMxJ,KAAK2L,GAAW3L,KAAK2L,EAAS,IAAM,EAC9C,OAAc,MAANnC,EAAsB,WAANA,EAAmBA,GAG7C1E,EAAO5F,UAAUwS,YAAc,SAAsB/F,EAAQ+E,GACtDA,GAAUR,EAAYvE,EAAQ,EAAG3L,KAAKO,QAC3C,IAAIiJ,EAAMxJ,KAAK2L,EAAS,GAAM3L,KAAK2L,IAAW,EAC9C,OAAc,MAANnC,EAAsB,WAANA,EAAmBA,GAG7C1E,EAAO5F,UAAUyS,YAAc,SAAsBhG,EAAQ+E,GAG3D,OAFKA,GAAUR,EAAYvE,EAAQ,EAAG3L,KAAKO,QAEnCP,KAAK2L,GACV3L,KAAK2L,EAAS,IAAM,EACpB3L,KAAK2L,EAAS,IAAM,GACpB3L,KAAK2L,EAAS,IAAM,IAGzB7G,EAAO5F,UAAU0S,YAAc,SAAsBjG,EAAQ+E,GAG3D,OAFKA,GAAUR,EAAYvE,EAAQ,EAAG3L,KAAKO,QAEnCP,KAAK2L,IAAW,GACrB3L,KAAK2L,EAAS,IAAM,GACpB3L,KAAK2L,EAAS,IAAM,EACpB3L,KAAK2L,EAAS,IAGnB7G,EAAO5F,UAAU2S,YAAc,SAAsBlG,EAAQ+E,GAE3D,OADKA,GAAUR,EAAYvE,EAAQ,EAAG3L,KAAKO,QACpC+H,EAAQ+C,KAAKrL,KAAM2L,GAAQ,EAAM,GAAI,IAG9C7G,EAAO5F,UAAU4S,YAAc,SAAsBnG,EAAQ+E,GAE3D,OADKA,GAAUR,EAAYvE,EAAQ,EAAG3L,KAAKO,QACpC+H,EAAQ+C,KAAKrL,KAAM2L,GAAQ,EAAO,GAAI,IAG/C7G,EAAO5F,UAAU6S,aAAe,SAAuBpG,EAAQ+E,GAE7D,OADKA,GAAUR,EAAYvE,EAAQ,EAAG3L,KAAKO,QACpC+H,EAAQ+C,KAAKrL,KAAM2L,GAAQ,EAAM,GAAI,IAG9C7G,EAAO5F,UAAU8S,aAAe,SAAuBrG,EAAQ+E,GAE7D,OADKA,GAAUR,EAAYvE,EAAQ,EAAG3L,KAAKO,QACpC+H,EAAQ+C,KAAKrL,KAAM2L,GAAQ,EAAO,GAAI,IAS/C7G,EAAO5F,UAAU+S,YAAc,SAAsB1T,EAAOoN,EAAQ9C,EAAY6H,IAC9EnS,GAASA,EACToN,GAAkB,EAClB9C,GAA0B,EACrB6H,IAEHN,EAASpQ,KAAMzB,EAAOoN,EAAQ9C,EADfoE,KAAKqE,IAAI,EAAG,EAAIzI,GAAc,EACO,GAGtD,IAAIkI,EAAM,EACNzT,EAAI,EAER,IADA0C,KAAK2L,GAAkB,IAARpN,IACNjB,EAAIuL,IAAekI,GAAO,MACjC/Q,KAAK2L,EAASrO,GAAMiB,EAAQwS,EAAO,IAGrC,OAAOpF,EAAS9C,GAGlB/D,EAAO5F,UAAUgT,YAAc,SAAsB3T,EAAOoN,EAAQ9C,EAAY6H,IAC9EnS,GAASA,EACToN,GAAkB,EAClB9C,GAA0B,EACrB6H,IAEHN,EAASpQ,KAAMzB,EAAOoN,EAAQ9C,EADfoE,KAAKqE,IAAI,EAAG,EAAIzI,GAAc,EACO,GAGtD,IAAIvL,EAAIuL,EAAa,EACjBkI,EAAM,EAEV,IADA/Q,KAAK2L,EAASrO,GAAa,IAARiB,IACVjB,GAAK,IAAMyT,GAAO,MACzB/Q,KAAK2L,EAASrO,GAAMiB,EAAQwS,EAAO,IAGrC,OAAOpF,EAAS9C,GAGlB/D,EAAO5F,UAAUiT,WAAa,SAAqB5T,EAAOoN,EAAQ+E,GAMhE,OALAnS,GAASA,EACToN,GAAkB,EACb+E,GAAUN,EAASpQ,KAAMzB,EAAOoN,EAAQ,EAAG,IAAM,GACjD7G,EAAOyD,sBAAqBhK,EAAQ0O,KAAKmF,MAAM7T,IACpDyB,KAAK2L,GAAmB,IAARpN,EACToN,EAAS,GAWlB7G,EAAO5F,UAAUmT,cAAgB,SAAwB9T,EAAOoN,EAAQ+E,GAUtE,OATAnS,GAASA,EACToN,GAAkB,EACb+E,GAAUN,EAASpQ,KAAMzB,EAAOoN,EAAQ,EAAG,MAAQ,GACpD7G,EAAOyD,qBACTvI,KAAK2L,GAAmB,IAARpN,EAChByB,KAAK2L,EAAS,GAAMpN,IAAU,GAE9B8R,EAAkBrQ,KAAMzB,EAAOoN,GAAQ,GAElCA,EAAS,GAGlB7G,EAAO5F,UAAUoT,cAAgB,SAAwB/T,EAAOoN,EAAQ+E,GAUtE,OATAnS,GAASA,EACToN,GAAkB,EACb+E,GAAUN,EAASpQ,KAAMzB,EAAOoN,EAAQ,EAAG,MAAQ,GACpD7G,EAAOyD,qBACTvI,KAAK2L,GAAWpN,IAAU,EAC1ByB,KAAK2L,EAAS,GAAc,IAARpN,GAEpB8R,EAAkBrQ,KAAMzB,EAAOoN,GAAQ,GAElCA,EAAS,GAUlB7G,EAAO5F,UAAUqT,cAAgB,SAAwBhU,EAAOoN,EAAQ+E,GAYtE,OAXAnS,GAASA,EACToN,GAAkB,EACb+E,GAAUN,EAASpQ,KAAMzB,EAAOoN,EAAQ,EAAG,WAAY,GACxD7G,EAAOyD,qBACTvI,KAAK2L,EAAS,GAAMpN,IAAU,GAC9ByB,KAAK2L,EAAS,GAAMpN,IAAU,GAC9ByB,KAAK2L,EAAS,GAAMpN,IAAU,EAC9ByB,KAAK2L,GAAmB,IAARpN,GAEhBgS,EAAkBvQ,KAAMzB,EAAOoN,GAAQ,GAElCA,EAAS,GAGlB7G,EAAO5F,UAAUsT,cAAgB,SAAwBjU,EAAOoN,EAAQ+E,GAYtE,OAXAnS,GAASA,EACToN,GAAkB,EACb+E,GAAUN,EAASpQ,KAAMzB,EAAOoN,EAAQ,EAAG,WAAY,GACxD7G,EAAOyD,qBACTvI,KAAK2L,GAAWpN,IAAU,GAC1ByB,KAAK2L,EAAS,GAAMpN,IAAU,GAC9ByB,KAAK2L,EAAS,GAAMpN,IAAU,EAC9ByB,KAAK2L,EAAS,GAAc,IAARpN,GAEpBgS,EAAkBvQ,KAAMzB,EAAOoN,GAAQ,GAElCA,EAAS,GAGlB7G,EAAO5F,UAAUuT,WAAa,SAAqBlU,EAAOoN,EAAQ9C,EAAY6H,GAG5E,GAFAnS,GAASA,EACToN,GAAkB,GACb+E,EAAU,CACb,IAAIgC,EAAQzF,KAAKqE,IAAI,EAAG,EAAIzI,EAAa,GAEzCuH,EAASpQ,KAAMzB,EAAOoN,EAAQ9C,EAAY6J,EAAQ,GAAIA,GAGxD,IAAIpV,EAAI,EACJyT,EAAM,EACN4B,EAAM,EAEV,IADA3S,KAAK2L,GAAkB,IAARpN,IACNjB,EAAIuL,IAAekI,GAAO,MAC7BxS,EAAQ,GAAa,IAARoU,GAAsC,IAAzB3S,KAAK2L,EAASrO,EAAI,KAC9CqV,EAAM,GAER3S,KAAK2L,EAASrO,IAAOiB,EAAQwS,GAAQ,GAAK4B,EAAM,IAGlD,OAAOhH,EAAS9C,GAGlB/D,EAAO5F,UAAU0T,WAAa,SAAqBrU,EAAOoN,EAAQ9C,EAAY6H,GAG5E,GAFAnS,GAASA,EACToN,GAAkB,GACb+E,EAAU,CACb,IAAIgC,EAAQzF,KAAKqE,IAAI,EAAG,EAAIzI,EAAa,GAEzCuH,EAASpQ,KAAMzB,EAAOoN,EAAQ9C,EAAY6J,EAAQ,GAAIA,GAGxD,IAAIpV,EAAIuL,EAAa,EACjBkI,EAAM,EACN4B,EAAM,EAEV,IADA3S,KAAK2L,EAASrO,GAAa,IAARiB,IACVjB,GAAK,IAAMyT,GAAO,MACrBxS,EAAQ,GAAa,IAARoU,GAAsC,IAAzB3S,KAAK2L,EAASrO,EAAI,KAC9CqV,EAAM,GAER3S,KAAK2L,EAASrO,IAAOiB,EAAQwS,GAAQ,GAAK4B,EAAM,IAGlD,OAAOhH,EAAS9C,GAGlB/D,EAAO5F,UAAU2T,UAAY,SAAoBtU,EAAOoN,EAAQ+E,GAO9D,OANAnS,GAASA,EACToN,GAAkB,EACb+E,GAAUN,EAASpQ,KAAMzB,EAAOoN,EAAQ,EAAG,KAAO,KAClD7G,EAAOyD,sBAAqBhK,EAAQ0O,KAAKmF,MAAM7T,IAChDA,EAAQ,IAAGA,EAAQ,IAAOA,EAAQ,GACtCyB,KAAK2L,GAAmB,IAARpN,EACToN,EAAS,GAGlB7G,EAAO5F,UAAU4T,aAAe,SAAuBvU,EAAOoN,EAAQ+E,GAUpE,OATAnS,GAASA,EACToN,GAAkB,EACb+E,GAAUN,EAASpQ,KAAMzB,EAAOoN,EAAQ,EAAG,OAAS,OACrD7G,EAAOyD,qBACTvI,KAAK2L,GAAmB,IAARpN,EAChByB,KAAK2L,EAAS,GAAMpN,IAAU,GAE9B8R,EAAkBrQ,KAAMzB,EAAOoN,GAAQ,GAElCA,EAAS,GAGlB7G,EAAO5F,UAAU6T,aAAe,SAAuBxU,EAAOoN,EAAQ+E,GAUpE,OATAnS,GAASA,EACToN,GAAkB,EACb+E,GAAUN,EAASpQ,KAAMzB,EAAOoN,EAAQ,EAAG,OAAS,OACrD7G,EAAOyD,qBACTvI,KAAK2L,GAAWpN,IAAU,EAC1ByB,KAAK2L,EAAS,GAAc,IAARpN,GAEpB8R,EAAkBrQ,KAAMzB,EAAOoN,GAAQ,GAElCA,EAAS,GAGlB7G,EAAO5F,UAAU8T,aAAe,SAAuBzU,EAAOoN,EAAQ+E,GAYpE,OAXAnS,GAASA,EACToN,GAAkB,EACb+E,GAAUN,EAASpQ,KAAMzB,EAAOoN,EAAQ,EAAG,YAAa,YACzD7G,EAAOyD,qBACTvI,KAAK2L,GAAmB,IAARpN,EAChByB,KAAK2L,EAAS,GAAMpN,IAAU,EAC9ByB,KAAK2L,EAAS,GAAMpN,IAAU,GAC9ByB,KAAK2L,EAAS,GAAMpN,IAAU,IAE9BgS,EAAkBvQ,KAAMzB,EAAOoN,GAAQ,GAElCA,EAAS,GAGlB7G,EAAO5F,UAAU+T,aAAe,SAAuB1U,EAAOoN,EAAQ+E,GAapE,OAZAnS,GAASA,EACToN,GAAkB,EACb+E,GAAUN,EAASpQ,KAAMzB,EAAOoN,EAAQ,EAAG,YAAa,YACzDpN,EAAQ,IAAGA,EAAQ,WAAaA,EAAQ,GACxCuG,EAAOyD,qBACTvI,KAAK2L,GAAWpN,IAAU,GAC1ByB,KAAK2L,EAAS,GAAMpN,IAAU,GAC9ByB,KAAK2L,EAAS,GAAMpN,IAAU,EAC9ByB,KAAK2L,EAAS,GAAc,IAARpN,GAEpBgS,EAAkBvQ,KAAMzB,EAAOoN,GAAQ,GAElCA,EAAS,GAgBlB7G,EAAO5F,UAAUgU,aAAe,SAAuB3U,EAAOoN,EAAQ+E,GACpE,OAAOD,EAAWzQ,KAAMzB,EAAOoN,GAAQ,EAAM+E,IAG/C5L,EAAO5F,UAAUiU,aAAe,SAAuB5U,EAAOoN,EAAQ+E,GACpE,OAAOD,EAAWzQ,KAAMzB,EAAOoN,GAAQ,EAAO+E,IAWhD5L,EAAO5F,UAAUkU,cAAgB,SAAwB7U,EAAOoN,EAAQ+E,GACtE,OAAOC,EAAY3Q,KAAMzB,EAAOoN,GAAQ,EAAM+E,IAGhD5L,EAAO5F,UAAUmU,cAAgB,SAAwB9U,EAAOoN,EAAQ+E,GACtE,OAAOC,EAAY3Q,KAAMzB,EAAOoN,GAAQ,EAAO+E,IAIjD5L,EAAO5F,UAAUqK,KAAO,SAAe8F,EAAQiE,EAAanJ,EAAO/F,GAQjE,GAPK+F,IAAOA,EAAQ,GACf/F,GAAe,IAARA,IAAWA,EAAMpE,KAAKO,QAC9B+S,GAAejE,EAAO9O,SAAQ+S,EAAcjE,EAAO9O,QAClD+S,IAAaA,EAAc,GAC5BlP,EAAM,GAAKA,EAAM+F,IAAO/F,EAAM+F,GAG9B/F,IAAQ+F,EAAO,OAAO,EAC1B,GAAsB,IAAlBkF,EAAO9O,QAAgC,IAAhBP,KAAKO,OAAc,OAAO,EAGrD,GAAI+S,EAAc,EAChB,MAAM,IAAI7N,WAAW,6BAEvB,GAAI0E,EAAQ,GAAKA,GAASnK,KAAKO,OAAQ,MAAM,IAAIkF,WAAW,6BAC5D,GAAIrB,EAAM,EAAG,MAAM,IAAIqB,WAAW,2BAG9BrB,EAAMpE,KAAKO,SAAQ6D,EAAMpE,KAAKO,QAC9B8O,EAAO9O,OAAS+S,EAAclP,EAAM+F,IACtC/F,EAAMiL,EAAO9O,OAAS+S,EAAcnJ,GAGtC,IACI7M,EADAqD,EAAMyD,EAAM+F,EAGhB,GAAInK,OAASqP,GAAUlF,EAAQmJ,GAAeA,EAAclP,EAE1D,IAAK9G,EAAIqD,EAAM,EAAGrD,GAAK,IAAKA,EAC1B+R,EAAO/R,EAAIgW,GAAetT,KAAK1C,EAAI6M,QAEhC,GAAIxJ,EAAM,MAASmE,EAAOyD,oBAE/B,IAAKjL,EAAI,EAAGA,EAAIqD,IAAOrD,EACrB+R,EAAO/R,EAAIgW,GAAetT,KAAK1C,EAAI6M,QAGrCjF,WAAWhG,UAAUuF,IAAIhH,KACvB4R,EACArP,KAAKiO,SAAS9D,EAAOA,EAAQxJ,GAC7B2S,GAIJ,OAAO3S,GAOTmE,EAAO5F,UAAUqG,KAAO,SAAeiE,EAAKW,EAAO/F,EAAKoB,GAEtD,GAAmB,iBAARgE,EAAkB,CAS3B,GARqB,iBAAVW,GACT3E,EAAW2E,EACXA,EAAQ,EACR/F,EAAMpE,KAAKO,QACa,iBAAR6D,IAChBoB,EAAWpB,EACXA,EAAMpE,KAAKO,QAEM,IAAfiJ,EAAIjJ,OAAc,CACpB,IAAIgT,EAAO/J,EAAI+C,WAAW,GACtBgH,EAAO,MACT/J,EAAM+J,GAGV,QAAiBjP,IAAbkB,GAA8C,iBAAbA,EACnC,MAAM,IAAIJ,UAAU,6BAEtB,GAAwB,iBAAbI,IAA0BV,EAAOmE,WAAWzD,GACrD,MAAM,IAAIJ,UAAU,qBAAuBI,OAErB,iBAARgE,IAChBA,GAAY,KAId,GAAIW,EAAQ,GAAKnK,KAAKO,OAAS4J,GAASnK,KAAKO,OAAS6D,EACpD,MAAM,IAAIqB,WAAW,sBAGvB,GAAIrB,GAAO+F,EACT,OAAOnK,KAQT,IAAI1C,EACJ,GANA6M,KAAkB,EAClB/F,OAAcE,IAARF,EAAoBpE,KAAKO,OAAS6D,IAAQ,EAE3CoF,IAAKA,EAAM,GAGG,iBAARA,EACT,IAAKlM,EAAI6M,EAAO7M,EAAI8G,IAAO9G,EACzB0C,KAAK1C,GAAKkM,MAEP,CACL,IAAIyG,EAAQnL,EAAOoC,SAASsC,GACxBA,EACAO,EAAY,IAAIjF,EAAO0E,EAAKhE,GAAUS,YACtCtF,EAAMsP,EAAM1P,OAChB,IAAKjD,EAAI,EAAGA,EAAI8G,EAAM+F,IAAS7M,EAC7B0C,KAAK1C,EAAI6M,GAAS8F,EAAM3S,EAAIqD,GAIhC,OAAOX,MAMT,IAAIwT,EAAoB,qBAmBxB,SAASxD,EAAOjR,GACd,OAAIA,EAAI,GAAW,IAAMA,EAAEkH,SAAS,IAC7BlH,EAAEkH,SAAS,IAGpB,SAAS8D,EAAaf,EAAQ4D,GAE5B,IAAIa,EADJb,EAAQA,GAAS6G,IAMjB,IAJA,IAAIlT,EAASyI,EAAOzI,OAChBmT,EAAgB,KAChBzD,EAAQ,GAEH3S,EAAI,EAAGA,EAAIiD,IAAUjD,EAAG,CAI/B,IAHAmQ,EAAYzE,EAAOuD,WAAWjP,IAGd,OAAUmQ,EAAY,MAAQ,CAE5C,IAAKiG,EAAe,CAElB,GAAIjG,EAAY,MAAQ,EAEjBb,GAAS,IAAM,GAAGqD,EAAM3O,KAAK,IAAM,IAAM,KAC9C,SACK,GAAIhE,EAAI,IAAMiD,EAAQ,EAEtBqM,GAAS,IAAM,GAAGqD,EAAM3O,KAAK,IAAM,IAAM,KAC9C,SAIFoS,EAAgBjG,EAEhB,SAIF,GAAIA,EAAY,MAAQ,EACjBb,GAAS,IAAM,GAAGqD,EAAM3O,KAAK,IAAM,IAAM,KAC9CoS,EAAgBjG,EAChB,SAIFA,EAAkE,OAArDiG,EAAgB,OAAU,GAAKjG,EAAY,YAC/CiG,IAEJ9G,GAAS,IAAM,GAAGqD,EAAM3O,KAAK,IAAM,IAAM,KAMhD,GAHAoS,EAAgB,KAGZjG,EAAY,IAAM,CACpB,IAAKb,GAAS,GAAK,EAAG,MACtBqD,EAAM3O,KAAKmM,QACN,GAAIA,EAAY,KAAO,CAC5B,IAAKb,GAAS,GAAK,EAAG,MACtBqD,EAAM3O,KACJmM,GAAa,EAAM,IACP,GAAZA,EAAmB,UAEhB,GAAIA,EAAY,MAAS,CAC9B,IAAKb,GAAS,GAAK,EAAG,MACtBqD,EAAM3O,KACJmM,GAAa,GAAM,IACnBA,GAAa,EAAM,GAAO,IACd,GAAZA,EAAmB,SAEhB,MAAIA,EAAY,SASrB,MAAM,IAAI/N,MAAM,sBARhB,IAAKkN,GAAS,GAAK,EAAG,MACtBqD,EAAM3O,KACJmM,GAAa,GAAO,IACpBA,GAAa,GAAM,GAAO,IAC1BA,GAAa,EAAM,GAAO,IACd,GAAZA,EAAmB,MAOzB,OAAOwC,EA4BT,SAASjG,EAAeqC,GACtB,OAAOhE,EAAOsL,YAhIhB,SAAsBtH,GAIpB,IAFAA,EAUF,SAAqBA,GACnB,OAAIA,EAAIuH,KAAavH,EAAIuH,OAClBvH,EAAIwH,QAAQ,aAAc,IAZ3BC,CAAWzH,GAAKwH,QAAQL,EAAmB,KAEzCjT,OAAS,EAAG,MAAO,GAE3B,KAAO8L,EAAI9L,OAAS,GAAM,GACxB8L,GAAY,IAEd,OAAOA,EAuHmB0H,CAAY1H,IAGxC,SAASF,EAAYpE,EAAKC,EAAK2D,EAAQpL,GACrC,IAAK,IAAIjD,EAAI,EAAGA,EAAIiD,KACbjD,EAAIqO,GAAU3D,EAAIzH,QAAYjD,GAAKyK,EAAIxH,UADhBjD,EAE5B0K,EAAI1K,EAAIqO,GAAU5D,EAAIzK,GAExB,OAAOA,K,8CC9tDT,IAAIwH,EAAS,EAAQ,GAAeA,OAGhCmE,EAAanE,EAAOmE,YAAc,SAAUzD,GAE9C,QADAA,EAAW,GAAKA,IACIA,EAASyE,eAC3B,IAAK,MAAM,IAAK,OAAO,IAAK,QAAQ,IAAK,QAAQ,IAAK,SAAS,IAAK,SAAS,IAAK,OAAO,IAAK,QAAQ,IAAK,UAAU,IAAK,WAAW,IAAK,MACxI,OAAO,EACT,QACE,OAAO,IA4Cb,SAAS+J,EAAcxO,GAErB,IAAIyO,EACJ,OAFAjU,KAAKwF,SAXP,SAA2B0O,GACzB,IAAIC,EA/BN,SAA4BD,GAC1B,IAAKA,EAAK,MAAO,OAEjB,IADA,IAAIE,IAEF,OAAQF,GACN,IAAK,OACL,IAAK,QACH,MAAO,OACT,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,MAAO,UACT,IAAK,SACL,IAAK,SACH,MAAO,SACT,IAAK,SACL,IAAK,QACL,IAAK,MACH,OAAOA,EACT,QACE,GAAIE,EAAS,OACbF,GAAO,GAAKA,GAAKjK,cACjBmK,GAAU,GAQLC,CAAmBH,GAC9B,GAAoB,iBAATC,IAAsBrP,EAAOmE,aAAeA,IAAeA,EAAWiL,IAAO,MAAM,IAAIxU,MAAM,qBAAuBwU,GAC/H,OAAOC,GAAQD,EAQCI,CAAkB9O,GAE1BxF,KAAKwF,UACX,IAAK,UACHxF,KAAKuU,KAAOC,EACZxU,KAAKoE,IAAMqQ,EACXR,EAAK,EACL,MACF,IAAK,OACHjU,KAAK0U,SAAWC,EAChBV,EAAK,EACL,MACF,IAAK,SACHjU,KAAKuU,KAAOK,EACZ5U,KAAKoE,IAAMyQ,EACXZ,EAAK,EACL,MACF,QAGE,OAFAjU,KAAKmJ,MAAQ2L,OACb9U,KAAKoE,IAAM2Q,GAGf/U,KAAKgV,SAAW,EAChBhV,KAAKiV,UAAY,EACjBjV,KAAKkV,SAAWpQ,EAAOoD,YAAY+L,GAoCrC,SAASkB,EAAcC,GACrB,OAAIA,GAAQ,IAAa,EAAWA,GAAQ,GAAM,EAAa,EAAWA,GAAQ,GAAM,GAAa,EAAWA,GAAQ,GAAM,GAAa,EACpIA,GAAQ,GAAM,GAAQ,GAAK,EA2DpC,SAAST,EAAajP,GACpB,IAAItG,EAAIY,KAAKiV,UAAYjV,KAAKgV,SAC1B5W,EAtBN,SAA6B+F,EAAMuB,EAAKtG,GACtC,GAAwB,MAAV,IAATsG,EAAI,IAEP,OADAvB,EAAK6Q,SAAW,EACT,IAET,GAAI7Q,EAAK6Q,SAAW,GAAKtP,EAAInF,OAAS,EAAG,CACvC,GAAwB,MAAV,IAATmF,EAAI,IAEP,OADAvB,EAAK6Q,SAAW,EACT,IAET,GAAI7Q,EAAK6Q,SAAW,GAAKtP,EAAInF,OAAS,GACZ,MAAV,IAATmF,EAAI,IAEP,OADAvB,EAAK6Q,SAAW,EACT,KASLK,CAAoBrV,KAAM0F,GAClC,YAAUpB,IAANlG,EAAwBA,EACxB4B,KAAKgV,UAAYtP,EAAInF,QACvBmF,EAAI6D,KAAKvJ,KAAKkV,SAAU9V,EAAG,EAAGY,KAAKgV,UAC5BhV,KAAKkV,SAASjP,SAASjG,KAAKwF,SAAU,EAAGxF,KAAKiV,aAEvDvP,EAAI6D,KAAKvJ,KAAKkV,SAAU9V,EAAG,EAAGsG,EAAInF,aAClCP,KAAKgV,UAAYtP,EAAInF,SA2BvB,SAASiU,EAAU9O,EAAKpI,GACtB,IAAKoI,EAAInF,OAASjD,GAAK,GAAM,EAAG,CAC9B,IAAIc,EAAIsH,EAAIO,SAAS,UAAW3I,GAChC,GAAIc,EAAG,CACL,IAAIT,EAAIS,EAAEmO,WAAWnO,EAAEmC,OAAS,GAChC,GAAI5C,GAAK,OAAUA,GAAK,MAKtB,OAJAqC,KAAKgV,SAAW,EAChBhV,KAAKiV,UAAY,EACjBjV,KAAKkV,SAAS,GAAKxP,EAAIA,EAAInF,OAAS,GACpCP,KAAKkV,SAAS,GAAKxP,EAAIA,EAAInF,OAAS,GAC7BnC,EAAEgL,MAAM,GAAI,GAGvB,OAAOhL,EAKT,OAHA4B,KAAKgV,SAAW,EAChBhV,KAAKiV,UAAY,EACjBjV,KAAKkV,SAAS,GAAKxP,EAAIA,EAAInF,OAAS,GAC7BmF,EAAIO,SAAS,UAAW3I,EAAGoI,EAAInF,OAAS,GAKjD,SAASkU,EAAS/O,GAChB,IAAItH,EAAIsH,GAAOA,EAAInF,OAASP,KAAKmJ,MAAMzD,GAAO,GAC9C,GAAI1F,KAAKgV,SAAU,CACjB,IAAI5Q,EAAMpE,KAAKiV,UAAYjV,KAAKgV,SAChC,OAAO5W,EAAI4B,KAAKkV,SAASjP,SAAS,UAAW,EAAG7B,GAElD,OAAOhG,EAGT,SAASwW,EAAWlP,EAAKpI,GACvB,IAAIyB,GAAK2G,EAAInF,OAASjD,GAAK,EAC3B,OAAU,IAANyB,EAAgB2G,EAAIO,SAAS,SAAU3I,IAC3C0C,KAAKgV,SAAW,EAAIjW,EACpBiB,KAAKiV,UAAY,EACP,IAANlW,EACFiB,KAAKkV,SAAS,GAAKxP,EAAIA,EAAInF,OAAS,IAEpCP,KAAKkV,SAAS,GAAKxP,EAAIA,EAAInF,OAAS,GACpCP,KAAKkV,SAAS,GAAKxP,EAAIA,EAAInF,OAAS,IAE/BmF,EAAIO,SAAS,SAAU3I,EAAGoI,EAAInF,OAASxB,IAGhD,SAAS8V,EAAUnP,GACjB,IAAItH,EAAIsH,GAAOA,EAAInF,OAASP,KAAKmJ,MAAMzD,GAAO,GAC9C,OAAI1F,KAAKgV,SAAiB5W,EAAI4B,KAAKkV,SAASjP,SAAS,SAAU,EAAG,EAAIjG,KAAKgV,UACpE5W,EAIT,SAAS0W,EAAYpP,GACnB,OAAOA,EAAIO,SAASjG,KAAKwF,UAG3B,SAASuP,EAAUrP,GACjB,OAAOA,GAAOA,EAAInF,OAASP,KAAKmJ,MAAMzD,GAAO,GAzN/CtI,EAAQ4W,cAAgBA,EA6BxBA,EAAc9U,UAAUiK,MAAQ,SAAUzD,GACxC,GAAmB,IAAfA,EAAInF,OAAc,MAAO,GAC7B,IAAInC,EACAd,EACJ,GAAI0C,KAAKgV,SAAU,CAEjB,QAAU1Q,KADVlG,EAAI4B,KAAK0U,SAAShP,IACG,MAAO,GAC5BpI,EAAI0C,KAAKgV,SACThV,KAAKgV,SAAW,OAEhB1X,EAAI,EAEN,OAAIA,EAAIoI,EAAInF,OAAenC,EAAIA,EAAI4B,KAAKuU,KAAK7O,EAAKpI,GAAK0C,KAAKuU,KAAK7O,EAAKpI,GAC/Dc,GAAK,IAGd4V,EAAc9U,UAAUkF,IAwGxB,SAAiBsB,GACf,IAAItH,EAAIsH,GAAOA,EAAInF,OAASP,KAAKmJ,MAAMzD,GAAO,GAC9C,OAAI1F,KAAKgV,SAAiB5W,EAAI,IACvBA,GAxGT4V,EAAc9U,UAAUqV,KA0FxB,SAAkB7O,EAAKpI,GACrB,IAAIgY,EArEN,SAA6BnR,EAAMuB,EAAKpI,GACtC,IAAImO,EAAI/F,EAAInF,OAAS,EACrB,GAAIkL,EAAInO,EAAG,OAAO,EAClB,IAAI2W,EAAKkB,EAAczP,EAAI+F,IAC3B,GAAIwI,GAAM,EAER,OADIA,EAAK,IAAG9P,EAAK6Q,SAAWf,EAAK,GAC1BA,EAET,KAAMxI,EAAInO,IAAa,IAAR2W,EAAW,OAAO,EAEjC,IADAA,EAAKkB,EAAczP,EAAI+F,MACb,EAER,OADIwI,EAAK,IAAG9P,EAAK6Q,SAAWf,EAAK,GAC1BA,EAET,KAAMxI,EAAInO,IAAa,IAAR2W,EAAW,OAAO,EAEjC,IADAA,EAAKkB,EAAczP,EAAI+F,MACb,EAIR,OAHIwI,EAAK,IACI,IAAPA,EAAUA,EAAK,EAAO9P,EAAK6Q,SAAWf,EAAK,GAE1CA,EAET,OAAO,EA+CKsB,CAAoBvV,KAAM0F,EAAKpI,GAC3C,IAAK0C,KAAKgV,SAAU,OAAOtP,EAAIO,SAAS,OAAQ3I,GAChD0C,KAAKiV,UAAYK,EACjB,IAAIlR,EAAMsB,EAAInF,QAAU+U,EAAQtV,KAAKgV,UAErC,OADAtP,EAAI6D,KAAKvJ,KAAKkV,SAAU,EAAG9Q,GACpBsB,EAAIO,SAAS,OAAQ3I,EAAG8G,IA7FjC4P,EAAc9U,UAAUwV,SAAW,SAAUhP,GAC3C,GAAI1F,KAAKgV,UAAYtP,EAAInF,OAEvB,OADAmF,EAAI6D,KAAKvJ,KAAKkV,SAAUlV,KAAKiV,UAAYjV,KAAKgV,SAAU,EAAGhV,KAAKgV,UACzDhV,KAAKkV,SAASjP,SAASjG,KAAKwF,SAAU,EAAGxF,KAAKiV,WAEvDvP,EAAI6D,KAAKvJ,KAAKkV,SAAUlV,KAAKiV,UAAYjV,KAAKgV,SAAU,EAAGtP,EAAInF,QAC/DP,KAAKgV,UAAYtP,EAAInF,S,+moBCtIvBnD,EAAUC,EAAOD,QAAU,EAAQ,KAC3BoY,OAASpY,EACjBA,EAAQmG,SAAWnG,EACnBA,EAAQoG,SAAW,EAAQ,IAC3BpG,EAAQgG,OAAS,EAAQ,GACzBhG,EAAQqY,UAAY,EAAQ,IAC5BrY,EAAQsY,YAAc,EAAQ,K,8BCN9B,cAyBA,IAAI1S,EAAM,EAAQ,GAGlB3F,EAAOD,QAAUmG,EAGjB,IAIIH,EAJA8C,EAAU,EAAQ,IAOtB3C,EAASoS,cAAgBA,EAGhB,EAAQ,IAAUC,aAA3B,IAEIC,EAAkB,SAAUC,EAASrM,GACvC,OAAOqM,EAAQvT,UAAUkH,GAAMlJ,QAK7BiV,EAAS,EAAQ,IAKjB1Q,EAAS,EAAQ,GAAeA,OAChCiR,EAAgBhI,EAAO7I,YAAc,aAWzC,IAAI7B,EAAOrF,OAAOY,OAAO,EAAQ,IACjCyE,EAAKC,SAAW,EAAQ,GAIxB,IAAI0S,EAAY,EAAQ,IACpBC,OAAQ,EAEVA,EADED,GAAaA,EAAUE,SACjBF,EAAUE,SAAS,UAEnB,aAIV,IAEIlC,EAFAmC,EAAa,EAAQ,IACrBC,EAAc,EAAQ,IAG1B/S,EAAKC,SAASC,EAAUiS,GAExB,IAAIa,EAAe,CAAC,QAAS,QAAS,UAAW,QAAS,UAc1D,SAASV,EAAchS,EAAS2S,GAG9B3S,EAAUA,GAAW,GAOrB,IAAI4S,EAAWD,aATflT,EAASA,GAAU,EAAQ,IAa3BpD,KAAKwW,aAAe7S,EAAQ6S,WAExBD,IAAUvW,KAAKwW,WAAaxW,KAAKwW,cAAgB7S,EAAQ8S,oBAI7D,IAAIC,EAAM/S,EAAQU,cACdsS,EAAchT,EAAQiT,sBACtBC,EAAa7W,KAAKwW,WAAa,GAAK,MAElBxW,KAAKqE,cAAvBqS,GAAe,IAARA,EAAgCA,EAAaH,IAAaI,GAA+B,IAAhBA,GAAyCA,EAAsCE,EAGnK7W,KAAKqE,cAAgB4I,KAAKmF,MAAMpS,KAAKqE,eAKrCrE,KAAK6E,OAAS,IAAIsR,EAClBnW,KAAKO,OAAS,EACdP,KAAK8W,MAAQ,KACb9W,KAAK+W,WAAa,EAClB/W,KAAKgX,QAAU,KACfhX,KAAKiE,OAAQ,EACbjE,KAAKiX,YAAa,EAClBjX,KAAKkX,SAAU,EAMflX,KAAKmX,MAAO,EAIZnX,KAAKoX,cAAe,EACpBpX,KAAKqX,iBAAkB,EACvBrX,KAAKsX,mBAAoB,EACzBtX,KAAKuX,iBAAkB,EAGvBvX,KAAKwE,WAAY,EAKjBxE,KAAKwX,gBAAkB7T,EAAQ6T,iBAAmB,OAGlDxX,KAAKyX,WAAa,EAGlBzX,KAAK0X,aAAc,EAEnB1X,KAAK2X,QAAU,KACf3X,KAAKwF,SAAW,KACZ7B,EAAQ6B,WACLwO,IAAeA,EAAgB,EAAQ,GAAmBA,eAC/DhU,KAAK2X,QAAU,IAAI3D,EAAcrQ,EAAQ6B,UACzCxF,KAAKwF,SAAW7B,EAAQ6B,UAI5B,SAASjC,EAASI,GAGhB,GAFAP,EAASA,GAAU,EAAQ,KAErBpD,gBAAgBuD,GAAW,OAAO,IAAIA,EAASI,GAErD3D,KAAKuE,eAAiB,IAAIoR,EAAchS,EAAS3D,MAGjDA,KAAK4D,UAAW,EAEZD,IAC0B,mBAAjBA,EAAQ0H,OAAqBrL,KAAK4X,MAAQjU,EAAQ0H,MAE9B,mBAApB1H,EAAQkU,UAAwB7X,KAAK0E,SAAWf,EAAQkU,UAGrErC,EAAO/X,KAAKuC,MA2Dd,SAAS8X,EAAiBxB,EAAQyB,EAAOvS,EAAUwS,EAAYC,GAC7D,IAKMC,EALFC,EAAQ7B,EAAO/R,eACL,OAAVwT,GACFI,EAAMjB,SAAU,EA0NpB,SAAoBZ,EAAQ6B,GAC1B,GAAIA,EAAMlU,MAAO,OACjB,GAAIkU,EAAMR,QAAS,CACjB,IAAII,EAAQI,EAAMR,QAAQvT,MACtB2T,GAASA,EAAMxX,SACjB4X,EAAMtT,OAAOvD,KAAKyW,GAClBI,EAAM5X,QAAU4X,EAAM3B,WAAa,EAAIuB,EAAMxX,QAGjD4X,EAAMlU,OAAQ,EAGdmU,EAAa9B,GArOX+B,CAAW/B,EAAQ6B,KAGdF,IAAgBC,EA2CzB,SAAsBC,EAAOJ,GAC3B,IAAIG,EApPiB/U,EAqPF4U,EApPZjT,EAAOoC,SAAS/D,IAAQA,aAAe4S,GAoPA,iBAAVgC,QAAgCzT,IAAVyT,GAAwBI,EAAM3B,aACtF0B,EAAK,IAAI9S,UAAU,oCAtPvB,IAAuBjC,EAwPrB,OAAO+U,EAhDqBI,CAAaH,EAAOJ,IAC1CG,EACF5B,EAAOlU,KAAK,QAAS8V,GACZC,EAAM3B,YAAcuB,GAASA,EAAMxX,OAAS,GAChC,iBAAVwX,GAAuBI,EAAM3B,YAAcxY,OAAOua,eAAeR,KAAWjT,EAAO5F,YAC5F6Y,EAhNR,SAA6BA,GAC3B,OAAOjT,EAAOG,KAAK8S,GA+MLS,CAAoBT,IAG1BC,EACEG,EAAMlB,WAAYX,EAAOlU,KAAK,QAAS,IAAI1C,MAAM,qCAA0C+Y,EAASnC,EAAQ6B,EAAOJ,GAAO,GACrHI,EAAMlU,MACfqS,EAAOlU,KAAK,QAAS,IAAI1C,MAAM,6BAE/ByY,EAAMjB,SAAU,EACZiB,EAAMR,UAAYnS,GACpBuS,EAAQI,EAAMR,QAAQxO,MAAM4O,GACxBI,EAAM3B,YAA+B,IAAjBuB,EAAMxX,OAAckY,EAASnC,EAAQ6B,EAAOJ,GAAO,GAAYW,EAAcpC,EAAQ6B,IAE7GM,EAASnC,EAAQ6B,EAAOJ,GAAO,KAGzBC,IACVG,EAAMjB,SAAU,IAIpB,OAgCF,SAAsBiB,GACpB,OAAQA,EAAMlU,QAAUkU,EAAMf,cAAgBe,EAAM5X,OAAS4X,EAAM9T,eAAkC,IAAjB8T,EAAM5X,QAjCnFoY,CAAaR,GAGtB,SAASM,EAASnC,EAAQ6B,EAAOJ,EAAOC,GAClCG,EAAMnB,SAA4B,IAAjBmB,EAAM5X,SAAiB4X,EAAMhB,MAChDb,EAAOlU,KAAK,OAAQ2V,GACpBzB,EAAOjL,KAAK,KAGZ8M,EAAM5X,QAAU4X,EAAM3B,WAAa,EAAIuB,EAAMxX,OACzCyX,EAAYG,EAAMtT,OAAO+T,QAAQb,GAAYI,EAAMtT,OAAOvD,KAAKyW,GAE/DI,EAAMf,cAAcgB,EAAa9B,IAEvCoC,EAAcpC,EAAQ6B,GAvGxBna,OAAOC,eAAesF,EAASrE,UAAW,YAAa,CACrDf,IAAK,WACH,YAA4BmG,IAAxBtE,KAAKuE,gBAGFvE,KAAKuE,eAAeC,WAE7BC,IAAK,SAAUlG,GAGRyB,KAAKuE,iBAMVvE,KAAKuE,eAAeC,UAAYjG,MAIpCgF,EAASrE,UAAU2Y,QAAUzB,EAAYyB,QACzCtU,EAASrE,UAAU2Z,WAAazC,EAAY0C,UAC5CvV,EAASrE,UAAUwF,SAAW,SAAUC,EAAKC,GAC3C5E,KAAKsB,KAAK,MACVsD,EAAGD,IAOLpB,EAASrE,UAAUoC,KAAO,SAAUyW,EAAOvS,GACzC,IACIyS,EADAE,EAAQnY,KAAKuE,eAgBjB,OAbK4T,EAAM3B,WAUTyB,GAAiB,EATI,iBAAVF,KACTvS,EAAWA,GAAY2S,EAAMX,mBACZW,EAAM3S,WACrBuS,EAAQjT,EAAOG,KAAK8S,EAAOvS,GAC3BA,EAAW,IAEbyS,GAAiB,GAMdH,EAAiB9X,KAAM+X,EAAOvS,GAAU,EAAOyS,IAIxD1U,EAASrE,UAAU0Z,QAAU,SAAUb,GACrC,OAAOD,EAAiB9X,KAAM+X,EAAO,MAAM,GAAM,IAwEnDxU,EAASrE,UAAU6Z,SAAW,WAC5B,OAAuC,IAAhC/Y,KAAKuE,eAAeyS,SAI7BzT,EAASrE,UAAU8Z,YAAc,SAAU9E,GAIzC,OAHKF,IAAeA,EAAgB,EAAQ,GAAmBA,eAC/DhU,KAAKuE,eAAeoT,QAAU,IAAI3D,EAAcE,GAChDlU,KAAKuE,eAAeiB,SAAW0O,EACxBlU,MAwBT,SAASiZ,EAAcla,EAAGoZ,GACxB,OAAIpZ,GAAK,GAAsB,IAAjBoZ,EAAM5X,QAAgB4X,EAAMlU,MAAc,EACpDkU,EAAM3B,WAAmB,EACzBzX,GAAMA,EAEJoZ,EAAMnB,SAAWmB,EAAM5X,OAAe4X,EAAMtT,OAAOqU,KAAKxP,KAAKnJ,OAAmB4X,EAAM5X,QAGxFxB,EAAIoZ,EAAM9T,gBAAe8T,EAAM9T,cA3BrC,SAAiCtF,GAc/B,OAbIA,GAFQ,QAGVA,EAHU,SAOVA,IACAA,GAAKA,IAAM,EACXA,GAAKA,IAAM,EACXA,GAAKA,IAAM,EACXA,GAAKA,IAAM,EACXA,GAAKA,IAAM,GACXA,KAEKA,EAa4Coa,CAAwBpa,IACvEA,GAAKoZ,EAAM5X,OAAexB,EAEzBoZ,EAAMlU,MAIJkU,EAAM5X,QAHX4X,EAAMf,cAAe,EACd,IA4HX,SAASgB,EAAa9B,GACpB,IAAI6B,EAAQ7B,EAAO/R,eACnB4T,EAAMf,cAAe,EAChBe,EAAMd,kBACTpB,EAAM,eAAgBkC,EAAMnB,SAC5BmB,EAAMd,iBAAkB,EACpBc,EAAMhB,KAAMnU,EAAI9B,SAASkY,EAAe9C,GAAa8C,EAAc9C,IAI3E,SAAS8C,EAAc9C,GACrBL,EAAM,iBACNK,EAAOlU,KAAK,YACZiX,EAAK/C,GASP,SAASoC,EAAcpC,EAAQ6B,GACxBA,EAAMT,cACTS,EAAMT,aAAc,EACpB1U,EAAI9B,SAASoY,EAAgBhD,EAAQ6B,IAIzC,SAASmB,EAAehD,EAAQ6B,GAE9B,IADA,IAAIxX,EAAMwX,EAAM5X,QACR4X,EAAMjB,UAAYiB,EAAMnB,UAAYmB,EAAMlU,OAASkU,EAAM5X,OAAS4X,EAAM9T,gBAC9E4R,EAAM,wBACNK,EAAOjL,KAAK,GACR1K,IAAQwX,EAAM5X,SAELI,EAAMwX,EAAM5X,OAE3B4X,EAAMT,aAAc,EAyOtB,SAAS6B,EAAiBpV,GACxB8R,EAAM,4BACN9R,EAAKkH,KAAK,GAsBZ,SAASmO,EAAQlD,EAAQ6B,GAClBA,EAAMjB,UACTjB,EAAM,iBACNK,EAAOjL,KAAK,IAGd8M,EAAMZ,iBAAkB,EACxBY,EAAMV,WAAa,EACnBnB,EAAOlU,KAAK,UACZiX,EAAK/C,GACD6B,EAAMnB,UAAYmB,EAAMjB,SAASZ,EAAOjL,KAAK,GAanD,SAASgO,EAAK/C,GACZ,IAAI6B,EAAQ7B,EAAO/R,eAEnB,IADA0R,EAAM,OAAQkC,EAAMnB,SACbmB,EAAMnB,SAA6B,OAAlBV,EAAOjL,UAmFjC,SAASoO,EAAS1a,EAAGoZ,GAEnB,OAAqB,IAAjBA,EAAM5X,OAAqB,MAG3B4X,EAAM3B,WAAY1G,EAAMqI,EAAMtT,OAAO6U,SAAkB3a,GAAKA,GAAKoZ,EAAM5X,QAEtDuP,EAAfqI,EAAMR,QAAeQ,EAAMtT,OAAOuK,KAAK,IAAqC,IAAxB+I,EAAMtT,OAAOtE,OAAoB4X,EAAMtT,OAAOqU,KAAKxP,KAAgByO,EAAMtT,OAAOrE,OAAO2X,EAAM5X,QACrJ4X,EAAMtT,OAAO8U,SAGb7J,EASJ,SAAyB/Q,EAAG4P,EAAMiL,GAChC,IAAI9J,EACA/Q,EAAI4P,EAAKuK,KAAKxP,KAAKnJ,QAErBuP,EAAMnB,EAAKuK,KAAKxP,KAAKN,MAAM,EAAGrK,GAC9B4P,EAAKuK,KAAKxP,KAAOiF,EAAKuK,KAAKxP,KAAKN,MAAMrK,IAGtC+Q,EAFS/Q,IAAM4P,EAAKuK,KAAKxP,KAAKnJ,OAExBoO,EAAK+K,QAGLE,EASV,SAA8B7a,EAAG4P,GAC/B,IAAIvP,EAAIuP,EAAKuK,KACTvb,EAAI,EACJmS,EAAM1Q,EAAEsK,KACZ3K,GAAK+Q,EAAIvP,OACT,KAAOnB,EAAIA,EAAEya,MAAM,CACjB,IAAIxN,EAAMjN,EAAEsK,KACRuK,EAAKlV,EAAIsN,EAAI9L,OAAS8L,EAAI9L,OAASxB,EAGvC,GAFIkV,IAAO5H,EAAI9L,OAAQuP,GAAOzD,EAASyD,GAAOzD,EAAIjD,MAAM,EAAGrK,GAEjD,KADVA,GAAKkV,GACQ,CACPA,IAAO5H,EAAI9L,UACX5C,EACEyB,EAAEya,KAAMlL,EAAKuK,KAAO9Z,EAAEya,KAAUlL,EAAKuK,KAAOvK,EAAKmL,KAAO,OAE5DnL,EAAKuK,KAAO9Z,EACZA,EAAEsK,KAAO2C,EAAIjD,MAAM6K,IAErB,QAEAtW,EAGJ,OADAgR,EAAKpO,QAAU5C,EACRmS,EAhCciK,CAAqBhb,EAAG4P,GAsC/C,SAAwB5P,EAAG4P,GACzB,IAAImB,EAAMhL,EAAOoD,YAAYnJ,GACzBK,EAAIuP,EAAKuK,KACTvb,EAAI,EACRyB,EAAEsK,KAAKH,KAAKuG,GACZ/Q,GAAKK,EAAEsK,KAAKnJ,OACZ,KAAOnB,EAAIA,EAAEya,MAAM,CACjB,IAAInU,EAAMtG,EAAEsK,KACRuK,EAAKlV,EAAI2G,EAAInF,OAASmF,EAAInF,OAASxB,EAGvC,GAFA2G,EAAI6D,KAAKuG,EAAKA,EAAIvP,OAASxB,EAAG,EAAGkV,GAEvB,KADVlV,GAAKkV,GACQ,CACPA,IAAOvO,EAAInF,UACX5C,EACEyB,EAAEya,KAAMlL,EAAKuK,KAAO9Z,EAAEya,KAAUlL,EAAKuK,KAAOvK,EAAKmL,KAAO,OAE5DnL,EAAKuK,KAAO9Z,EACZA,EAAEsK,KAAOhE,EAAI0D,MAAM6K,IAErB,QAEAtW,EAGJ,OADAgR,EAAKpO,QAAU5C,EACRmS,EA9D8CkK,CAAejb,EAAG4P,GAEvE,OAAOmB,EAtBCmK,CAAgBlb,EAAGoZ,EAAMtT,OAAQsT,EAAMR,SAGxC7H,GAVP,IAAIA,EA4FN,SAASoK,EAAY5D,GACnB,IAAI6B,EAAQ7B,EAAO/R,eAInB,GAAI4T,EAAM5X,OAAS,EAAG,MAAM,IAAIb,MAAM,8CAEjCyY,EAAMlB,aACTkB,EAAMlU,OAAQ,EACdjB,EAAI9B,SAASiZ,EAAehC,EAAO7B,IAIvC,SAAS6D,EAAchC,EAAO7B,GAEvB6B,EAAMlB,YAA+B,IAAjBkB,EAAM5X,SAC7B4X,EAAMlB,YAAa,EACnBX,EAAO1S,UAAW,EAClB0S,EAAOlU,KAAK,QAIhB,SAASqF,EAAQ2S,EAAI3L,GACnB,IAAK,IAAInR,EAAI,EAAGC,EAAI6c,EAAG7Z,OAAQjD,EAAIC,EAAGD,IACpC,GAAI8c,EAAG9c,KAAOmR,EAAG,OAAOnR,EAE1B,OAAQ,EApoBViG,EAASrE,UAAUmM,KAAO,SAAUtM,GAClCkX,EAAM,OAAQlX,GACdA,EAAIiN,SAASjN,EAAG,IAChB,IAAIoZ,EAAQnY,KAAKuE,eACb8V,EAAQtb,EAOZ,GALU,IAANA,IAASoZ,EAAMd,iBAAkB,GAK3B,IAANtY,GAAWoZ,EAAMf,eAAiBe,EAAM5X,QAAU4X,EAAM9T,eAAiB8T,EAAMlU,OAGjF,OAFAgS,EAAM,qBAAsBkC,EAAM5X,OAAQ4X,EAAMlU,OAC3B,IAAjBkU,EAAM5X,QAAgB4X,EAAMlU,MAAOiW,EAAYla,MAAWoY,EAAapY,MACpE,KAMT,GAAU,KAHVjB,EAAIka,EAAcla,EAAGoZ,KAGNA,EAAMlU,MAEnB,OADqB,IAAjBkU,EAAM5X,QAAc2Z,EAAYla,MAC7B,KA0BT,IA4BI8P,EA5BAwK,EAASnC,EAAMf,aAiDnB,OAhDAnB,EAAM,gBAAiBqE,IAGF,IAAjBnC,EAAM5X,QAAgB4X,EAAM5X,OAASxB,EAAIoZ,EAAM9T,gBAEjD4R,EAAM,6BADNqE,GAAS,GAMPnC,EAAMlU,OAASkU,EAAMjB,QAEvBjB,EAAM,mBADNqE,GAAS,GAEAA,IACTrE,EAAM,WACNkC,EAAMjB,SAAU,EAChBiB,EAAMhB,MAAO,EAEQ,IAAjBgB,EAAM5X,SAAc4X,EAAMf,cAAe,GAE7CpX,KAAK4X,MAAMO,EAAM9T,eACjB8T,EAAMhB,MAAO,EAGRgB,EAAMjB,UAASnY,EAAIka,EAAcoB,EAAOlC,KAMnC,QAFDrI,EAAP/Q,EAAI,EAAS0a,EAAS1a,EAAGoZ,GAAkB,OAG7CA,EAAMf,cAAe,EACrBrY,EAAI,GAEJoZ,EAAM5X,QAAUxB,EAGG,IAAjBoZ,EAAM5X,SAGH4X,EAAMlU,QAAOkU,EAAMf,cAAe,GAGnCiD,IAAUtb,GAAKoZ,EAAMlU,OAAOiW,EAAYla,OAGlC,OAAR8P,GAAc9P,KAAKoC,KAAK,OAAQ0N,GAE7BA,GAkETvM,EAASrE,UAAU0Y,MAAQ,SAAU7Y,GACnCiB,KAAKoC,KAAK,QAAS,IAAI1C,MAAM,gCAG/B6D,EAASrE,UAAUqb,KAAO,SAAUC,EAAMC,GACxC,IAAI1S,EAAM/H,KACNmY,EAAQnY,KAAKuE,eAEjB,OAAQ4T,EAAMpB,YACZ,KAAK,EACHoB,EAAMrB,MAAQ0D,EACd,MACF,KAAK,EACHrC,EAAMrB,MAAQ,CAACqB,EAAMrB,MAAO0D,GAC5B,MACF,QACErC,EAAMrB,MAAMxV,KAAKkZ,GAGrBrC,EAAMpB,YAAc,EACpBd,EAAM,wBAAyBkC,EAAMpB,WAAY0D,GAEjD,IAEIC,IAFUD,IAA6B,IAAjBA,EAASrW,MAAkBoW,IAAShb,EAAQmb,QAAUH,IAAShb,EAAQob,OAE7E7W,EAAQ8W,EAI5B,SAASC,EAASlX,EAAUmX,GAC1B9E,EAAM,YACFrS,IAAamE,GACXgT,IAAwC,IAA1BA,EAAWC,aAC3BD,EAAWC,YAAa,EAoB5B/E,EAAM,WAENuE,EAAKtY,eAAe,QAAS+Y,GAC7BT,EAAKtY,eAAe,SAAUgZ,GAC9BV,EAAKtY,eAAe,QAASiZ,GAC7BX,EAAKtY,eAAe,QAASkZ,GAC7BZ,EAAKtY,eAAe,SAAU4Y,GAC9B/S,EAAI7F,eAAe,MAAO6B,GAC1BgE,EAAI7F,eAAe,MAAO2Y,GAC1B9S,EAAI7F,eAAe,OAAQmZ,GAE3BC,GAAY,GAORnD,EAAMV,YAAgB+C,EAAKxW,iBAAkBwW,EAAKxW,eAAeuX,WAAYJ,KAhCnF,SAASpX,IACPkS,EAAM,SACNuE,EAAKpW,MAfH+T,EAAMlB,WAAYjU,EAAI9B,SAASwZ,GAAY3S,EAAI/F,KAAK,MAAO0Y,GAE/DF,EAAK1Y,GAAG,SAAUgZ,GAoBlB,IAAIK,EA4FN,SAAqBpT,GACnB,OAAO,WACL,IAAIoQ,EAAQpQ,EAAIxD,eAChB0R,EAAM,cAAekC,EAAMV,YACvBU,EAAMV,YAAYU,EAAMV,aACH,IAArBU,EAAMV,YAAoB5B,EAAgB9N,EAAK,UACjDoQ,EAAMnB,SAAU,EAChBqC,EAAKtR,KAnGKyT,CAAYzT,GAC1ByS,EAAK1Y,GAAG,QAASqZ,GAEjB,IAAIG,GAAY,EA2BhB,IAAIG,GAAsB,EAE1B,SAASJ,EAAOtD,GACd9B,EAAM,UACNwF,GAAsB,GAElB,IADMjB,EAAKrR,MAAM4O,IACC0D,KAKM,IAArBtD,EAAMpB,YAAoBoB,EAAMrB,QAAU0D,GAAQrC,EAAMpB,WAAa,IAAqC,IAAhCtP,EAAQ0Q,EAAMrB,MAAO0D,MAAkBc,IACpHrF,EAAM,8BAA+BlO,EAAIxD,eAAekT,YACxD1P,EAAIxD,eAAekT,aACnBgE,GAAsB,GAExB1T,EAAI2T,SAMR,SAASN,EAAQlD,GACfjC,EAAM,UAAWiC,GACjB2C,IACAL,EAAKtY,eAAe,QAASkZ,GACU,IAAnCvF,EAAgB2E,EAAM,UAAgBA,EAAKpY,KAAK,QAAS8V,GAO/D,SAAS+C,IACPT,EAAKtY,eAAe,SAAUgZ,GAC9BL,IAGF,SAASK,IACPjF,EAAM,YACNuE,EAAKtY,eAAe,QAAS+Y,GAC7BJ,IAIF,SAASA,IACP5E,EAAM,UACNlO,EAAI8S,OAAOL,GAYb,OA1DAzS,EAAIjG,GAAG,OAAQuZ,GA9gBjB,SAAyBvF,EAAS6F,EAAOjU,GAGvC,GAAuC,mBAA5BoO,EAAQzT,gBAAgC,OAAOyT,EAAQzT,gBAAgBsZ,EAAOjU,GAMpFoO,EAAQ8F,SAAY9F,EAAQ8F,QAAQD,GAAuCzV,EAAQ4P,EAAQ8F,QAAQD,IAAS7F,EAAQ8F,QAAQD,GAAO/C,QAAQlR,GAASoO,EAAQ8F,QAAQD,GAAS,CAACjU,EAAIoO,EAAQ8F,QAAQD,IAAtJ7F,EAAQhU,GAAG6Z,EAAOjU,GAkiBnErF,CAAgBmY,EAAM,QAASY,GAO/BZ,EAAKxY,KAAK,QAASiZ,GAMnBT,EAAKxY,KAAK,SAAUkZ,GAQpBV,EAAKpY,KAAK,OAAQ2F,GAGboQ,EAAMnB,UACTf,EAAM,eACNlO,EAAI8T,UAGCrB,GAeTjX,EAASrE,UAAU2b,OAAS,SAAUL,GACpC,IAAIrC,EAAQnY,KAAKuE,eACbwW,EAAa,CAAEC,YAAY,GAG/B,GAAyB,IAArB7C,EAAMpB,WAAkB,OAAO/W,KAGnC,GAAyB,IAArBmY,EAAMpB,WAER,OAAIyD,GAAQA,IAASrC,EAAMrB,MAAc9W,MAEpCwa,IAAMA,EAAOrC,EAAMrB,OAGxBqB,EAAMrB,MAAQ,KACdqB,EAAMpB,WAAa,EACnBoB,EAAMnB,SAAU,EACZwD,GAAMA,EAAKpY,KAAK,SAAUpC,KAAM+a,GAC7B/a,MAKT,IAAKwa,EAAM,CAET,IAAIsB,EAAQ3D,EAAMrB,MACdnW,EAAMwX,EAAMpB,WAChBoB,EAAMrB,MAAQ,KACdqB,EAAMpB,WAAa,EACnBoB,EAAMnB,SAAU,EAEhB,IAAK,IAAI1Z,EAAI,EAAGA,EAAIqD,EAAKrD,IACvBwe,EAAMxe,GAAG8E,KAAK,SAAUpC,KAAM+a,GAC/B,OAAO/a,KAIV,IAAI+b,EAAQtU,EAAQ0Q,EAAMrB,MAAO0D,GACjC,OAAe,IAAXuB,EAAqB/b,MAEzBmY,EAAMrB,MAAMkF,OAAOD,EAAO,GAC1B5D,EAAMpB,YAAc,EACK,IAArBoB,EAAMpB,aAAkBoB,EAAMrB,MAAQqB,EAAMrB,MAAM,IAEtD0D,EAAKpY,KAAK,SAAUpC,KAAM+a,GAEnB/a,OAKTuD,EAASrE,UAAU4C,GAAK,SAAUma,EAAIvU,GACpC,IAAIyF,EAAMqI,EAAOtW,UAAU4C,GAAGrE,KAAKuC,KAAMic,EAAIvU,GAE7C,GAAW,SAAPuU,GAEkC,IAAhCjc,KAAKuE,eAAeyS,SAAmBhX,KAAK6b,cAC3C,GAAW,aAAPI,EAAmB,CAC5B,IAAI9D,EAAQnY,KAAKuE,eACZ4T,EAAMlB,YAAekB,EAAMb,oBAC9Ba,EAAMb,kBAAoBa,EAAMf,cAAe,EAC/Ce,EAAMd,iBAAkB,EACnBc,EAAMjB,QAEAiB,EAAM5X,QACf6X,EAAapY,MAFbgD,EAAI9B,SAASqY,EAAkBvZ,OAOrC,OAAOmN,GAET5J,EAASrE,UAAU6C,YAAcwB,EAASrE,UAAU4C,GASpDyB,EAASrE,UAAU2c,OAAS,WAC1B,IAAI1D,EAAQnY,KAAKuE,eAMjB,OALK4T,EAAMnB,UACTf,EAAM,UACNkC,EAAMnB,SAAU,EAMpB,SAAgBV,EAAQ6B,GACjBA,EAAMZ,kBACTY,EAAMZ,iBAAkB,EACxBvU,EAAI9B,SAASsY,EAASlD,EAAQ6B,IAR9B0D,CAAO7b,KAAMmY,IAERnY,MAuBTuD,EAASrE,UAAUwc,MAAQ,WAOzB,OANAzF,EAAM,wBAAyBjW,KAAKuE,eAAeyS,UAC/C,IAAUhX,KAAKuE,eAAeyS,UAChCf,EAAM,SACNjW,KAAKuE,eAAeyS,SAAU,EAC9BhX,KAAKoC,KAAK,UAELpC,MAYTuD,EAASrE,UAAUgd,KAAO,SAAU5F,GAClC,IAAI6F,EAAQnc,KAERmY,EAAQnY,KAAKuE,eACb6X,GAAS,EA4Bb,IAAK,IAAI9e,KA1BTgZ,EAAOxU,GAAG,OAAO,WAEf,GADAmU,EAAM,eACFkC,EAAMR,UAAYQ,EAAMlU,MAAO,CACjC,IAAI8T,EAAQI,EAAMR,QAAQvT,MACtB2T,GAASA,EAAMxX,QAAQ4b,EAAM7a,KAAKyW,GAGxCoE,EAAM7a,KAAK,SAGbgV,EAAOxU,GAAG,QAAQ,SAAUiW,IAC1B9B,EAAM,gBACFkC,EAAMR,UAASI,EAAQI,EAAMR,QAAQxO,MAAM4O,IAG3CI,EAAM3B,YAAc,MAACuB,KAAyDI,EAAM3B,YAAgBuB,GAAUA,EAAMxX,UAE9G4b,EAAM7a,KAAKyW,KAEnBqE,GAAS,EACT9F,EAAOoF,aAMGpF,OACIhS,IAAZtE,KAAK1C,IAAyC,mBAAdgZ,EAAOhZ,KACzC0C,KAAK1C,GAAK,SAAUoG,GAClB,OAAO,WACL,OAAO4S,EAAO5S,GAAQnC,MAAM+U,EAAQjV,YAF9B,CAIR/D,IAKN,IAAK,IAAIyB,EAAI,EAAGA,EAAIsX,EAAa9V,OAAQxB,IACvCuX,EAAOxU,GAAGuU,EAAatX,GAAIiB,KAAKoC,KAAKtD,KAAKkB,KAAMqW,EAAatX,KAa/D,OARAiB,KAAK4X,MAAQ,SAAU7Y,GACrBkX,EAAM,gBAAiBlX,GACnBqd,IACFA,GAAS,EACT9F,EAAOuF,WAIJ7b,MAGThC,OAAOC,eAAesF,EAASrE,UAAW,wBAAyB,CAIjEhB,YAAY,EACZC,IAAK,WACH,OAAO6B,KAAKuE,eAAeF,iBAK/Bd,EAAS8Y,UAAY5C,I,oCCz3BrB,IAAIxT,EAAW,GAAGA,SAElB5I,EAAOD,QAAUgE,MAAM8E,SAAW,SAAU8E,GAC1C,MAA6B,kBAAtB/E,EAASxI,KAAKuN,K,6BCoBvB,IAOIsR,EAPAC,EAAuB,iBAAZC,QAAuBA,QAAU,KAC5CC,EAAeF,GAAwB,mBAAZA,EAAEhb,MAC7Bgb,EAAEhb,MACF,SAAsB8N,EAAQqN,EAAUvb,GACxC,OAAO2B,SAAS5D,UAAUqC,MAAM9D,KAAK4R,EAAQqN,EAAUvb,IAKzDmb,EADEC,GAA0B,mBAAdA,EAAEI,QACCJ,EAAEI,QACV3e,OAAO4e,sBACC,SAAwBvN,GACvC,OAAOrR,OAAO6e,oBAAoBxN,GAC/B7O,OAAOxC,OAAO4e,sBAAsBvN,KAGxB,SAAwBA,GACvC,OAAOrR,OAAO6e,oBAAoBxN,IAQtC,IAAIyN,EAAclR,OAAOf,OAAS,SAAqBtM,GACrD,OAAOA,GAAUA,GAGnB,SAASqX,IACPA,EAAamH,KAAKtf,KAAKuC,MAEzB3C,EAAOD,QAAUwY,EAGjBA,EAAaA,aAAeA,EAE5BA,EAAa1W,UAAU0c,aAAUtX,EACjCsR,EAAa1W,UAAU8d,aAAe,EACtCpH,EAAa1W,UAAU+d,mBAAgB3Y,EAIvC,IAAI4Y,EAAsB,GAE1B,SAASC,EAAcC,GACrB,GAAwB,mBAAbA,EACT,MAAM,IAAIhY,UAAU,0EAA4EgY,GAsCpG,SAASC,EAAiB5U,GACxB,YAA2BnE,IAAvBmE,EAAKwU,cACArH,EAAasH,oBACfzU,EAAKwU,cAmDd,SAASK,EAAajO,EAAQ5F,EAAM2T,EAAUG,GAC5C,IAAI7f,EACA8f,EACAC,EAzHsBC,EA+I1B,GApBAP,EAAcC,QAGC9Y,KADfkZ,EAASnO,EAAOuM,UAEd4B,EAASnO,EAAOuM,QAAU5d,OAAOY,OAAO,MACxCyQ,EAAO2N,aAAe,SAIK1Y,IAAvBkZ,EAAOG,cACTtO,EAAOjN,KAAK,cAAeqH,EACf2T,EAASA,SAAWA,EAASA,SAAWA,GAIpDI,EAASnO,EAAOuM,SAElB6B,EAAWD,EAAO/T,SAGHnF,IAAbmZ,EAEFA,EAAWD,EAAO/T,GAAQ2T,IACxB/N,EAAO2N,kBAeT,GAbwB,mBAAbS,EAETA,EAAWD,EAAO/T,GAChB8T,EAAU,CAACH,EAAUK,GAAY,CAACA,EAAUL,GAErCG,EACTE,EAAS7E,QAAQwE,GAEjBK,EAASnc,KAAK8b,IAIhB1f,EAAI2f,EAAiBhO,IACb,GAAKoO,EAASld,OAAS7C,IAAM+f,EAASG,OAAQ,CACpDH,EAASG,QAAS,EAGlB,IAAIC,EAAI,IAAIne,MAAM,+CACE+d,EAASld,OAAS,IAAM6K,OAAO3B,GAAQ,qEAG3DoU,EAAEhgB,KAAO,8BACTggB,EAAE/H,QAAUzG,EACZwO,EAAEpU,KAAOA,EACToU,EAAEC,MAAQL,EAASld,OA5KGmd,EA6KHG,EA5KnBE,SAAWA,QAAQC,MAAMD,QAAQC,KAAKN,GAgL1C,OAAOrO,EAcT,SAAS4O,IACP,IAAKje,KAAKke,MAGR,OAFAle,KAAKqP,OAAOnN,eAAelC,KAAKyJ,KAAMzJ,KAAKme,QAC3Cne,KAAKke,OAAQ,EACY,IAArB7c,UAAUd,OACLP,KAAKod,SAAS3f,KAAKuC,KAAKqP,QAC1BrP,KAAKod,SAAS7b,MAAMvB,KAAKqP,OAAQhO,WAI5C,SAAS+c,EAAU/O,EAAQ5F,EAAM2T,GAC/B,IAAIjF,EAAQ,CAAE+F,OAAO,EAAOC,YAAQ7Z,EAAW+K,OAAQA,EAAQ5F,KAAMA,EAAM2T,SAAUA,GACjFiB,EAAUJ,EAAYnf,KAAKqZ,GAG/B,OAFAkG,EAAQjB,SAAWA,EACnBjF,EAAMgG,OAASE,EACRA,EA0HT,SAASC,EAAWjP,EAAQ5F,EAAM8U,GAChC,IAAIf,EAASnO,EAAOuM,QAEpB,QAAetX,IAAXkZ,EACF,MAAO,GAET,IAAIgB,EAAahB,EAAO/T,GACxB,YAAmBnF,IAAfka,EACK,GAEiB,mBAAfA,EACFD,EAAS,CAACC,EAAWpB,UAAYoB,GAAc,CAACA,GAElDD,EAsDT,SAAyBvT,GAEvB,IADA,IAAI8E,EAAM,IAAI1O,MAAM4J,EAAIzK,QACfjD,EAAI,EAAGA,EAAIwS,EAAIvP,SAAUjD,EAChCwS,EAAIxS,GAAK0N,EAAI1N,GAAG8f,UAAYpS,EAAI1N,GAElC,OAAOwS,EA1DL2O,CAAgBD,GAAcE,EAAWF,EAAYA,EAAWje,QAoBpE,SAASoe,EAAclV,GACrB,IAAI+T,EAASxd,KAAK4b,QAElB,QAAetX,IAAXkZ,EAAsB,CACxB,IAAIgB,EAAahB,EAAO/T,GAExB,GAA0B,mBAAf+U,EACT,OAAO,EACF,QAAmBla,IAAfka,EACT,OAAOA,EAAWje,OAItB,OAAO,EAOT,SAASme,EAAW1T,EAAKjM,GAEvB,IADA,IAAIwK,EAAO,IAAInI,MAAMrC,GACZzB,EAAI,EAAGA,EAAIyB,IAAKzB,EACvBiM,EAAKjM,GAAK0N,EAAI1N,GAChB,OAAOiM,EApWTvL,OAAOC,eAAe2X,EAAc,sBAAuB,CACzD1X,YAAY,EACZC,IAAK,WACH,OAAO+e,GAETzY,IAAK,SAAS0B,GACZ,GAAmB,iBAARA,GAAoBA,EAAM,GAAK2W,EAAY3W,GACpD,MAAM,IAAIV,WAAW,kGAAoGU,EAAM,KAEjI+W,EAAsB/W,KAI1ByP,EAAamH,KAAO,gBAEGzY,IAAjBtE,KAAK4b,SACL5b,KAAK4b,UAAY5d,OAAOua,eAAevY,MAAM4b,UAC/C5b,KAAK4b,QAAU5d,OAAOY,OAAO,MAC7BoB,KAAKgd,aAAe,GAGtBhd,KAAKid,cAAgBjd,KAAKid,oBAAiB3Y,GAK7CsR,EAAa1W,UAAU0f,gBAAkB,SAAyB7f,GAChE,GAAiB,iBAANA,GAAkBA,EAAI,GAAK+d,EAAY/d,GAChD,MAAM,IAAI0G,WAAW,gFAAkF1G,EAAI,KAG7G,OADAiB,KAAKid,cAAgBle,EACdiB,MAST4V,EAAa1W,UAAU2f,gBAAkB,WACvC,OAAOxB,EAAiBrd,OAG1B4V,EAAa1W,UAAUkD,KAAO,SAAcqH,GAE1C,IADA,IAAItI,EAAO,GACF7D,EAAI,EAAGA,EAAI+D,UAAUd,OAAQjD,IAAK6D,EAAKG,KAAKD,UAAU/D,IAC/D,IAAIwhB,EAAoB,UAATrV,EAEX+T,EAASxd,KAAK4b,QAClB,QAAetX,IAAXkZ,EACFsB,EAAWA,QAA4Bxa,IAAjBkZ,EAAOuB,WAC1B,IAAKD,EACR,OAAO,EAGT,GAAIA,EAAS,CACX,IAAI5G,EAGJ,GAFI/W,EAAKZ,OAAS,IAChB2X,EAAK/W,EAAK,IACR+W,aAAcxY,MAGhB,MAAMwY,EAGR,IAAIvT,EAAM,IAAIjF,MAAM,oBAAsBwY,EAAK,KAAOA,EAAG8G,QAAU,IAAM,KAEzE,MADAra,EAAIsa,QAAU/G,EACRvT,EAGR,IAAIua,EAAU1B,EAAO/T,GAErB,QAAgBnF,IAAZ4a,EACF,OAAO,EAET,GAAuB,mBAAZA,EACTzC,EAAayC,EAASlf,KAAMmB,OAE5B,KAAIR,EAAMue,EAAQ3e,OACdgC,EAAYmc,EAAWQ,EAASve,GACpC,IAASrD,EAAI,EAAGA,EAAIqD,IAAOrD,EACzBmf,EAAala,EAAUjF,GAAI0C,KAAMmB,GAGrC,OAAO,GAiETyU,EAAa1W,UAAU6C,YAAc,SAAqB0H,EAAM2T,GAC9D,OAAOE,EAAatd,KAAMyJ,EAAM2T,GAAU,IAG5CxH,EAAa1W,UAAU4C,GAAK8T,EAAa1W,UAAU6C,YAEnD6T,EAAa1W,UAAUmD,gBACnB,SAAyBoH,EAAM2T,GAC7B,OAAOE,EAAatd,KAAMyJ,EAAM2T,GAAU,IAqBhDxH,EAAa1W,UAAU8C,KAAO,SAAcyH,EAAM2T,GAGhD,OAFAD,EAAcC,GACdpd,KAAK8B,GAAG2H,EAAM2U,EAAUpe,KAAMyJ,EAAM2T,IAC7Bpd,MAGT4V,EAAa1W,UAAUoD,oBACnB,SAA6BmH,EAAM2T,GAGjC,OAFAD,EAAcC,GACdpd,KAAKqC,gBAAgBoH,EAAM2U,EAAUpe,KAAMyJ,EAAM2T,IAC1Cpd,MAIb4V,EAAa1W,UAAUgD,eACnB,SAAwBuH,EAAM2T,GAC5B,IAAIzO,EAAM6O,EAAQ2B,EAAU7hB,EAAG8hB,EAK/B,GAHAjC,EAAcC,QAGC9Y,KADfkZ,EAASxd,KAAK4b,SAEZ,OAAO5b,KAGT,QAAasE,KADbqK,EAAO6O,EAAO/T,IAEZ,OAAOzJ,KAET,GAAI2O,IAASyO,GAAYzO,EAAKyO,WAAaA,EACb,KAAtBpd,KAAKgd,aACThd,KAAK4b,QAAU5d,OAAOY,OAAO,cAEtB4e,EAAO/T,GACV+T,EAAOtb,gBACTlC,KAAKoC,KAAK,iBAAkBqH,EAAMkF,EAAKyO,UAAYA,SAElD,GAAoB,mBAATzO,EAAqB,CAGrC,IAFAwQ,GAAY,EAEP7hB,EAAIqR,EAAKpO,OAAS,EAAGjD,GAAK,EAAGA,IAChC,GAAIqR,EAAKrR,KAAO8f,GAAYzO,EAAKrR,GAAG8f,WAAaA,EAAU,CACzDgC,EAAmBzQ,EAAKrR,GAAG8f,SAC3B+B,EAAW7hB,EACX,MAIJ,GAAI6hB,EAAW,EACb,OAAOnf,KAEQ,IAAbmf,EACFxQ,EAAK+K,QAiIf,SAAmB/K,EAAMoN,GACvB,KAAOA,EAAQ,EAAIpN,EAAKpO,OAAQwb,IAC9BpN,EAAKoN,GAASpN,EAAKoN,EAAQ,GAC7BpN,EAAK0Q,MAlIGC,CAAU3Q,EAAMwQ,GAGE,IAAhBxQ,EAAKpO,SACPid,EAAO/T,GAAQkF,EAAK,SAEQrK,IAA1BkZ,EAAOtb,gBACTlC,KAAKoC,KAAK,iBAAkBqH,EAAM2V,GAAoBhC,GAG1D,OAAOpd,MAGb4V,EAAa1W,UAAU+C,IAAM2T,EAAa1W,UAAUgD,eAEpD0T,EAAa1W,UAAUiD,mBACnB,SAA4BsH,GAC1B,IAAIlH,EAAWib,EAAQlgB,EAGvB,QAAegH,KADfkZ,EAASxd,KAAK4b,SAEZ,OAAO5b,KAGT,QAA8BsE,IAA1BkZ,EAAOtb,eAUT,OATyB,IAArBb,UAAUd,QACZP,KAAK4b,QAAU5d,OAAOY,OAAO,MAC7BoB,KAAKgd,aAAe,QACM1Y,IAAjBkZ,EAAO/T,KACY,KAAtBzJ,KAAKgd,aACThd,KAAK4b,QAAU5d,OAAOY,OAAO,aAEtB4e,EAAO/T,IAEXzJ,KAIT,GAAyB,IAArBqB,UAAUd,OAAc,CAC1B,IACI1B,EADAqE,EAAOlF,OAAOkF,KAAKsa,GAEvB,IAAKlgB,EAAI,EAAGA,EAAI4F,EAAK3C,SAAUjD,EAEjB,oBADZuB,EAAMqE,EAAK5F,KAEX0C,KAAKmC,mBAAmBtD,GAK1B,OAHAmB,KAAKmC,mBAAmB,kBACxBnC,KAAK4b,QAAU5d,OAAOY,OAAO,MAC7BoB,KAAKgd,aAAe,EACbhd,KAKT,GAAyB,mBAFzBuC,EAAYib,EAAO/T,IAGjBzJ,KAAKkC,eAAeuH,EAAMlH,QACrB,QAAkB+B,IAAd/B,EAET,IAAKjF,EAAIiF,EAAUhC,OAAS,EAAGjD,GAAK,EAAGA,IACrC0C,KAAKkC,eAAeuH,EAAMlH,EAAUjF,IAIxC,OAAO0C,MAoBb4V,EAAa1W,UAAUqD,UAAY,SAAmBkH,GACpD,OAAO6U,EAAWte,KAAMyJ,GAAM,IAGhCmM,EAAa1W,UAAUqgB,aAAe,SAAsB9V,GAC1D,OAAO6U,EAAWte,KAAMyJ,GAAM,IAGhCmM,EAAa+I,cAAgB,SAAS7I,EAASrM,GAC7C,MAAqC,mBAA1BqM,EAAQ6I,cACV7I,EAAQ6I,cAAclV,GAEtBkV,EAAclhB,KAAKqY,EAASrM,IAIvCmM,EAAa1W,UAAUyf,cAAgBA,EAiBvC/I,EAAa1W,UAAUsgB,WAAa,WAClC,OAAOxf,KAAKgd,aAAe,EAAIV,EAAetc,KAAK4b,SAAW,K,gBCvahEve,EAAOD,QAAU,EAAQ,IAAUwY,c,6BCInC,IAAI5S,EAAM,EAAQ,GA8DlB,SAASyc,EAAYtb,EAAMQ,GACzBR,EAAK/B,KAAK,QAASuC,GAGrBtH,EAAOD,QAAU,CACfya,QA/DF,SAAiBlT,EAAKC,GACpB,IAAIuX,EAAQnc,KAER0f,EAAoB1f,KAAKuE,gBAAkBvE,KAAKuE,eAAeC,UAC/Dmb,EAAoB3f,KAAKgE,gBAAkBhE,KAAKgE,eAAeQ,UAEnE,OAAIkb,GAAqBC,GACnB/a,EACFA,EAAGD,IACMA,GAAS3E,KAAKgE,gBAAmBhE,KAAKgE,eAAe4b,cAC9D5c,EAAI9B,SAASue,EAAazf,KAAM2E,GAE3B3E,OAMLA,KAAKuE,iBACPvE,KAAKuE,eAAeC,WAAY,GAI9BxE,KAAKgE,iBACPhE,KAAKgE,eAAeQ,WAAY,GAGlCxE,KAAK0E,SAASC,GAAO,MAAM,SAAUA,IAC9BC,GAAMD,GACT3B,EAAI9B,SAASue,EAAatD,EAAOxX,GAC7BwX,EAAMnY,iBACRmY,EAAMnY,eAAe4b,cAAe,IAE7Bhb,GACTA,EAAGD,MAIA3E,OA0BP8Y,UAvBF,WACM9Y,KAAKuE,iBACPvE,KAAKuE,eAAeC,WAAY,EAChCxE,KAAKuE,eAAe2S,SAAU,EAC9BlX,KAAKuE,eAAeN,OAAQ,EAC5BjE,KAAKuE,eAAe0S,YAAa,GAG/BjX,KAAKgE,iBACPhE,KAAKgE,eAAeQ,WAAY,EAChCxE,KAAKgE,eAAeC,OAAQ,EAC5BjE,KAAKgE,eAAe6b,QAAS,EAC7B7f,KAAKgE,eAAe8b,UAAW,EAC/B9f,KAAKgE,eAAe4b,cAAe,M,8BC9DvC,gBA6BA,IAAI5c,EAAM,EAAQ,GAelB,SAAS+c,EAAc5H,GACrB,IAAIgE,EAAQnc,KAEZA,KAAK6Z,KAAO,KACZ7Z,KAAKggB,MAAQ,KACbhgB,KAAKigB,OAAS,YAolBhB,SAAwBC,EAAS/H,EAAOxT,GACtC,IAAIqb,EAAQE,EAAQF,MACpBE,EAAQF,MAAQ,KAChB,KAAOA,GAAO,CACZ,IAAIpb,EAAKob,EAAMG,SACfhI,EAAMiI,YACNxb,EAAGD,GACHqb,EAAQA,EAAMnG,KAEZ1B,EAAMkI,mBACRlI,EAAMkI,mBAAmBxG,KAAOqG,EAEhC/H,EAAMkI,mBAAqBH,EA/lB3BI,CAAenE,EAAOhE,IAlB1B9a,EAAOD,QAAUoG,EAwBjB,IAIIJ,EAJAmd,GAAc/gB,EAAQiC,SAAW,CAAC,QAAS,SAASgG,QAAQjI,EAAQoC,QAAQwH,MAAM,EAAG,KAAO,EAAIoX,EAAexd,EAAI9B,SAOvHsC,EAASid,cAAgBA,EAGzB,IAAIpd,EAAOrF,OAAOY,OAAO,EAAQ,IACjCyE,EAAKC,SAAW,EAAQ,GAIxB,IAAIod,EAAe,CACjBC,UAAW,EAAQ,KAKjBnL,EAAS,EAAQ,IAKjB1Q,EAAS,EAAQ,GAAeA,OAChCiR,EAAgBhI,EAAO7I,YAAc,aAUzC,IA2II0b,EA3IAxK,EAAc,EAAQ,IAI1B,SAASyK,KAET,SAASJ,EAAc9c,EAAS2S,GAC9BlT,EAASA,GAAU,EAAQ,GAE3BO,EAAUA,GAAW,GAOrB,IAAI4S,EAAWD,aAAkBlT,EAIjCpD,KAAKwW,aAAe7S,EAAQ6S,WAExBD,IAAUvW,KAAKwW,WAAaxW,KAAKwW,cAAgB7S,EAAQmd,oBAK7D,IAAIpK,EAAM/S,EAAQU,cACd0c,EAAcpd,EAAQqd,sBACtBnK,EAAa7W,KAAKwW,WAAa,GAAK,MAElBxW,KAAKqE,cAAvBqS,GAAe,IAARA,EAAgCA,EAAaH,IAAawK,GAA+B,IAAhBA,GAAyCA,EAAsClK,EAGnK7W,KAAKqE,cAAgB4I,KAAKmF,MAAMpS,KAAKqE,eAGrCrE,KAAKihB,aAAc,EAGnBjhB,KAAKub,WAAY,EAEjBvb,KAAK6f,QAAS,EAEd7f,KAAKiE,OAAQ,EAEbjE,KAAK8f,UAAW,EAGhB9f,KAAKwE,WAAY,EAKjB,IAAI0c,GAAqC,IAA1Bvd,EAAQwd,cACvBnhB,KAAKmhB,eAAiBD,EAKtBlhB,KAAKwX,gBAAkB7T,EAAQ6T,iBAAmB,OAKlDxX,KAAKO,OAAS,EAGdP,KAAKohB,SAAU,EAGfphB,KAAKqhB,OAAS,EAMdrhB,KAAKmX,MAAO,EAKZnX,KAAKshB,kBAAmB,EAGxBthB,KAAKuhB,QAAU,SAAUrJ,IA4R3B,SAAiB5B,EAAQ4B,GACvB,IAAIC,EAAQ7B,EAAOtS,eACfmT,EAAOgB,EAAMhB,KACbvS,EAAKuT,EAAMqJ,QAIf,GAdF,SAA4BrJ,GAC1BA,EAAMiJ,SAAU,EAChBjJ,EAAMqJ,QAAU,KAChBrJ,EAAM5X,QAAU4X,EAAMsJ,SACtBtJ,EAAMsJ,SAAW,EAQjBC,CAAmBvJ,GAEfD,GAtCN,SAAsB5B,EAAQ6B,EAAOhB,EAAMe,EAAItT,KAC3CuT,EAAMiI,UAEJjJ,GAGFnU,EAAI9B,SAAS0D,EAAIsT,GAGjBlV,EAAI9B,SAASygB,EAAarL,EAAQ6B,GAClC7B,EAAOtS,eAAe4b,cAAe,EACrCtJ,EAAOlU,KAAK,QAAS8V,KAIrBtT,EAAGsT,GACH5B,EAAOtS,eAAe4b,cAAe,EACrCtJ,EAAOlU,KAAK,QAAS8V,GAGrByJ,EAAYrL,EAAQ6B,IAkBdyJ,CAAatL,EAAQ6B,EAAOhB,EAAMe,EAAItT,OAAS,CAErD,IAAIkb,EAAW+B,EAAW1J,GAErB2H,GAAa3H,EAAMkJ,QAAWlJ,EAAMmJ,mBAAoBnJ,EAAM2J,iBACjEC,EAAYzL,EAAQ6B,GAGlBhB,EAEFoJ,EAAWyB,EAAY1L,EAAQ6B,EAAO2H,EAAUlb,GAGhDod,EAAW1L,EAAQ6B,EAAO2H,EAAUlb,IA/StC2c,CAAQjL,EAAQ4B,IAIlBlY,KAAKwhB,QAAU,KAGfxhB,KAAKyhB,SAAW,EAEhBzhB,KAAK8hB,gBAAkB,KACvB9hB,KAAKiiB,oBAAsB,KAI3BjiB,KAAKogB,UAAY,EAIjBpgB,KAAKkiB,aAAc,EAGnBliB,KAAK4f,cAAe,EAGpB5f,KAAKmiB,qBAAuB,EAI5BniB,KAAKqgB,mBAAqB,IAAIN,EAAc/f,MA0C9C,SAASwD,EAASG,GAUhB,GATAP,EAASA,GAAU,EAAQ,KAStBwd,EAAgBnjB,KAAK+F,EAAUxD,OAAWA,gBAAgBoD,GAC7D,OAAO,IAAII,EAASG,GAGtB3D,KAAKgE,eAAiB,IAAIyc,EAAc9c,EAAS3D,MAGjDA,KAAK6D,UAAW,EAEZF,IAC2B,mBAAlBA,EAAQwF,QAAsBnJ,KAAKoiB,OAASze,EAAQwF,OAEjC,mBAAnBxF,EAAQ0e,SAAuBriB,KAAKsiB,QAAU3e,EAAQ0e,QAElC,mBAApB1e,EAAQkU,UAAwB7X,KAAK0E,SAAWf,EAAQkU,SAEtC,mBAAlBlU,EAAQ4e,QAAsBviB,KAAKwiB,OAAS7e,EAAQ4e,QAGjE/M,EAAO/X,KAAKuC,MAgJd,SAASyiB,EAAQnM,EAAQ6B,EAAOkK,EAAQ1hB,EAAKoX,EAAOvS,EAAUZ,GAC5DuT,EAAMsJ,SAAW9gB,EACjBwX,EAAMqJ,QAAU5c,EAChBuT,EAAMiJ,SAAU,EAChBjJ,EAAMhB,MAAO,EACTkL,EAAQ/L,EAAOgM,QAAQvK,EAAOI,EAAMoJ,SAAcjL,EAAO8L,OAAOrK,EAAOvS,EAAU2S,EAAMoJ,SAC3FpJ,EAAMhB,MAAO,EA2Df,SAAS6K,EAAW1L,EAAQ6B,EAAO2H,EAAUlb,GACtCkb,GASP,SAAsBxJ,EAAQ6B,GACP,IAAjBA,EAAM5X,QAAgB4X,EAAMoD,YAC9BpD,EAAMoD,WAAY,EAClBjF,EAAOlU,KAAK,UAZCsgB,CAAapM,EAAQ6B,GACpCA,EAAMiI,YACNxb,IACA+c,EAAYrL,EAAQ6B,GActB,SAAS4J,EAAYzL,EAAQ6B,GAC3BA,EAAMmJ,kBAAmB,EACzB,IAAItB,EAAQ7H,EAAM2J,gBAElB,GAAIxL,EAAOgM,SAAWtC,GAASA,EAAMnG,KAAM,CAEzC,IAAItc,EAAI4a,EAAMgK,qBACVtd,EAAS,IAAIzD,MAAM7D,GACnBolB,EAASxK,EAAMkI,mBACnBsC,EAAO3C,MAAQA,EAIf,IAFA,IAAIlC,EAAQ,EACR8E,GAAa,EACV5C,GACLnb,EAAOiZ,GAASkC,EACXA,EAAM6C,QAAOD,GAAa,GAC/B5C,EAAQA,EAAMnG,KACdiE,GAAS,EAEXjZ,EAAO+d,WAAaA,EAEpBH,EAAQnM,EAAQ6B,GAAO,EAAMA,EAAM5X,OAAQsE,EAAQ,GAAI8d,EAAO1C,QAI9D9H,EAAMiI,YACNjI,EAAM8J,oBAAsB,KACxBU,EAAO9I,MACT1B,EAAMkI,mBAAqBsC,EAAO9I,KAClC8I,EAAO9I,KAAO,MAEd1B,EAAMkI,mBAAqB,IAAIN,EAAc5H,GAE/CA,EAAMgK,qBAAuB,MACxB,CAEL,KAAOnC,GAAO,CACZ,IAAIjI,EAAQiI,EAAMjI,MACdvS,EAAWwa,EAAMxa,SACjBZ,EAAKob,EAAMG,SAUf,GAPAsC,EAAQnM,EAAQ6B,GAAO,EAFbA,EAAM3B,WAAa,EAAIuB,EAAMxX,OAEJwX,EAAOvS,EAAUZ,GACpDob,EAAQA,EAAMnG,KACd1B,EAAMgK,uBAKFhK,EAAMiJ,QACR,MAIU,OAAVpB,IAAgB7H,EAAM8J,oBAAsB,MAGlD9J,EAAM2J,gBAAkB9B,EACxB7H,EAAMmJ,kBAAmB,EAiC3B,SAASO,EAAW1J,GAClB,OAAOA,EAAM0H,QAA2B,IAAjB1H,EAAM5X,QAA0C,OAA1B4X,EAAM2J,kBAA6B3J,EAAM2H,WAAa3H,EAAMiJ,QAE3G,SAAS0B,EAAUxM,EAAQ6B,GACzB7B,EAAOkM,QAAO,SAAU7d,GACtBwT,EAAMiI,YACFzb,GACF2R,EAAOlU,KAAK,QAASuC,GAEvBwT,EAAM+J,aAAc,EACpB5L,EAAOlU,KAAK,aACZuf,EAAYrL,EAAQ6B,MAgBxB,SAASwJ,EAAYrL,EAAQ6B,GAC3B,IAAI4K,EAAOlB,EAAW1J,GAQtB,OAPI4K,KAfN,SAAmBzM,EAAQ6B,GACpBA,EAAM+J,aAAgB/J,EAAM8I,cACF,mBAAlB3K,EAAOkM,QAChBrK,EAAMiI,YACNjI,EAAM8I,aAAc,EACpBje,EAAI9B,SAAS4hB,EAAWxM,EAAQ6B,KAEhCA,EAAM+J,aAAc,EACpB5L,EAAOlU,KAAK,eAQd4gB,CAAU1M,EAAQ6B,GACM,IAApBA,EAAMiI,YACRjI,EAAM2H,UAAW,EACjBxJ,EAAOlU,KAAK,YAGT2gB,EAzhBT1f,EAAKC,SAASE,EAAUgS,GAmHxBiL,EAAcvhB,UAAU+jB,UAAY,WAGlC,IAFA,IAAIC,EAAUljB,KAAK8hB,gBACf/R,EAAM,GACHmT,GACLnT,EAAIzO,KAAK4hB,GACTA,EAAUA,EAAQrJ,KAEpB,OAAO9J,GAGT,WACE,IACE/R,OAAOC,eAAewiB,EAAcvhB,UAAW,SAAU,CACvDf,IAAKuiB,EAAaC,WAAU,WAC1B,OAAO3gB,KAAKijB,cACX,6EAAmF,aAExF,MAAOE,KAPX,GAasB,mBAAX9kB,QAAyBA,OAAO+kB,aAAiE,mBAA3CtgB,SAAS5D,UAAUb,OAAO+kB,cACzFxC,EAAkB9d,SAAS5D,UAAUb,OAAO+kB,aAC5CplB,OAAOC,eAAeuF,EAAUnF,OAAO+kB,YAAa,CAClD7kB,MAAO,SAAUS,GACf,QAAI4hB,EAAgBnjB,KAAKuC,KAAMhB,IAC3BgB,OAASwD,IAENxE,GAAUA,EAAOgF,0BAA0Byc,OAItDG,EAAkB,SAAU5hB,GAC1B,OAAOA,aAAkBgB,MAqC7BwD,EAAStE,UAAUqb,KAAO,WACxBva,KAAKoC,KAAK,QAAS,IAAI1C,MAAM,+BA8B/B8D,EAAStE,UAAUiK,MAAQ,SAAU4O,EAAOvS,EAAUZ,GACpD,IAnOqBzB,EAmOjBgV,EAAQnY,KAAKgE,eACb8L,GAAM,EACN+S,GAAS1K,EAAM3B,aArOErT,EAqO0B4U,EApOxCjT,EAAOoC,SAAS/D,IAAQA,aAAe4S,GAwP9C,OAlBI8M,IAAU/d,EAAOoC,SAAS6Q,KAC5BA,EA3OJ,SAA6BA,GAC3B,OAAOjT,EAAOG,KAAK8S,GA0OTS,CAAoBT,IAGN,mBAAbvS,IACTZ,EAAKY,EACLA,EAAW,MAGTqd,EAAOrd,EAAW,SAAmBA,IAAUA,EAAW2S,EAAMX,iBAElD,mBAAP5S,IAAmBA,EAAKic,GAE/B1I,EAAMlU,MA7CZ,SAAuBqS,EAAQ1R,GAC7B,IAAIsT,EAAK,IAAIxY,MAAM,mBAEnB4W,EAAOlU,KAAK,QAAS8V,GACrBlV,EAAI9B,SAAS0D,EAAIsT,GAyCAmL,CAAcrjB,KAAM4E,IAAaie,GAnCpD,SAAoBvM,EAAQ6B,EAAOJ,EAAOnT,GACxC,IAAI0e,GAAQ,EACRpL,GAAK,EAYT,OAVc,OAAVH,EACFG,EAAK,IAAI9S,UAAU,uCACO,iBAAV2S,QAAgCzT,IAAVyT,GAAwBI,EAAM3B,aACpE0B,EAAK,IAAI9S,UAAU,oCAEjB8S,IACF5B,EAAOlU,KAAK,QAAS8V,GACrBlV,EAAI9B,SAAS0D,EAAIsT,GACjBoL,GAAQ,GAEHA,EAqBoDC,CAAWvjB,KAAMmY,EAAOJ,EAAOnT,MACxFuT,EAAMiI,YACNtQ,EAkDJ,SAAuBwG,EAAQ6B,EAAO0K,EAAO9K,EAAOvS,EAAUZ,GAC5D,IAAKie,EAAO,CACV,IAAIW,EAtBR,SAAqBrL,EAAOJ,EAAOvS,GAC5B2S,EAAM3B,aAAsC,IAAxB2B,EAAMgJ,eAA4C,iBAAVpJ,IAC/DA,EAAQjT,EAAOG,KAAK8S,EAAOvS,IAE7B,OAAOuS,EAkBU0L,CAAYtL,EAAOJ,EAAOvS,GACrCuS,IAAUyL,IACZX,GAAQ,EACRrd,EAAW,SACXuS,EAAQyL,GAGZ,IAAI7iB,EAAMwX,EAAM3B,WAAa,EAAIuB,EAAMxX,OAEvC4X,EAAM5X,QAAUI,EAEhB,IAAImP,EAAMqI,EAAM5X,OAAS4X,EAAM9T,cAE1ByL,IAAKqI,EAAMoD,WAAY,GAE5B,GAAIpD,EAAMiJ,SAAWjJ,EAAMkJ,OAAQ,CACjC,IAAIqC,EAAOvL,EAAM8J,oBACjB9J,EAAM8J,oBAAsB,CAC1BlK,MAAOA,EACPvS,SAAUA,EACVqd,MAAOA,EACP1C,SAAUvb,EACViV,KAAM,MAEJ6J,EACFA,EAAK7J,KAAO1B,EAAM8J,oBAElB9J,EAAM2J,gBAAkB3J,EAAM8J,oBAEhC9J,EAAMgK,sBAAwB,OAE9BM,EAAQnM,EAAQ6B,GAAO,EAAOxX,EAAKoX,EAAOvS,EAAUZ,GAGtD,OAAOkL,EAtFC6T,CAAc3jB,KAAMmY,EAAO0K,EAAO9K,EAAOvS,EAAUZ,IAGpDkL,GAGTtM,EAAStE,UAAU0kB,KAAO,WACZ5jB,KAAKgE,eAEXqd,UAGR7d,EAAStE,UAAU2kB,OAAS,WAC1B,IAAI1L,EAAQnY,KAAKgE,eAEbmU,EAAMkJ,SACRlJ,EAAMkJ,SAEDlJ,EAAMiJ,SAAYjJ,EAAMkJ,QAAWlJ,EAAM2H,UAAa3H,EAAMmJ,mBAAoBnJ,EAAM2J,iBAAiBC,EAAY/hB,KAAMmY,KAIlI3U,EAAStE,UAAU4kB,mBAAqB,SAA4Bte,GAGlE,GADwB,iBAAbA,IAAuBA,EAAWA,EAASyE,iBAChD,CAAC,MAAO,OAAQ,QAAS,QAAS,SAAU,SAAU,OAAQ,QAAS,UAAW,WAAY,OAAOxC,SAASjC,EAAW,IAAIyE,gBAAkB,GAAI,MAAM,IAAI7E,UAAU,qBAAuBI,GAEpM,OADAxF,KAAKgE,eAAewT,gBAAkBhS,EAC/BxF,MAUThC,OAAOC,eAAeuF,EAAStE,UAAW,wBAAyB,CAIjEhB,YAAY,EACZC,IAAK,WACH,OAAO6B,KAAKgE,eAAeK,iBA8L/Bb,EAAStE,UAAUkjB,OAAS,SAAUrK,EAAOvS,EAAUZ,GACrDA,EAAG,IAAIlF,MAAM,iCAGf8D,EAAStE,UAAUojB,QAAU,KAE7B9e,EAAStE,UAAUkF,IAAM,SAAU2T,EAAOvS,EAAUZ,GAClD,IAAIuT,EAAQnY,KAAKgE,eAEI,mBAAV+T,GACTnT,EAAKmT,EACLA,EAAQ,KACRvS,EAAW,MACkB,mBAAbA,IAChBZ,EAAKY,EACLA,EAAW,MAGTuS,SAAuC/X,KAAKmJ,MAAM4O,EAAOvS,GAGzD2S,EAAMkJ,SACRlJ,EAAMkJ,OAAS,EACfrhB,KAAK6jB,UAIF1L,EAAM0H,QAAW1H,EAAM2H,UA0C9B,SAAqBxJ,EAAQ6B,EAAOvT,GAClCuT,EAAM0H,QAAS,EACf8B,EAAYrL,EAAQ6B,GAChBvT,IACEuT,EAAM2H,SAAU9c,EAAI9B,SAAS0D,GAAS0R,EAAOtU,KAAK,SAAU4C,IAElEuT,EAAMlU,OAAQ,EACdqS,EAAOzS,UAAW,EAjDoBkgB,CAAY/jB,KAAMmY,EAAOvT,IAoEjE5G,OAAOC,eAAeuF,EAAStE,UAAW,YAAa,CACrDf,IAAK,WACH,YAA4BmG,IAAxBtE,KAAKgE,gBAGFhE,KAAKgE,eAAeQ,WAE7BC,IAAK,SAAUlG,GAGRyB,KAAKgE,iBAMVhE,KAAKgE,eAAeQ,UAAYjG,MAIpCiF,EAAStE,UAAU2Y,QAAUzB,EAAYyB,QACzCrU,EAAStE,UAAU2Z,WAAazC,EAAY0C,UAC5CtV,EAAStE,UAAUwF,SAAW,SAAUC,EAAKC,GAC3C5E,KAAKoE,MACLQ,EAAGD,M,sEC5mBLtH,EAAOD,QAAUqY,EAEjB,IAAIrS,EAAS,EAAQ,GAGjBC,EAAOrF,OAAOY,OAAO,EAAQ,IAMjC,SAASolB,EAAe9L,EAAIxO,GAC1B,IAAIua,EAAKjkB,KAAKkkB,gBACdD,EAAGE,cAAe,EAElB,IAAIvf,EAAKqf,EAAGzC,QAEZ,IAAK5c,EACH,OAAO5E,KAAKoC,KAAK,QAAS,IAAI1C,MAAM,yCAGtCukB,EAAGG,WAAa,KAChBH,EAAGzC,QAAU,KAED,MAAR9X,GACF1J,KAAKsB,KAAKoI,GAEZ9E,EAAGsT,GAEH,IAAImM,EAAKrkB,KAAKuE,eACd8f,EAAGnN,SAAU,GACTmN,EAAGjN,cAAgBiN,EAAG9jB,OAAS8jB,EAAGhgB,gBACpCrE,KAAK4X,MAAMyM,EAAGhgB,eAIlB,SAASoR,EAAU9R,GACjB,KAAM3D,gBAAgByV,GAAY,OAAO,IAAIA,EAAU9R,GAEvDP,EAAO3F,KAAKuC,KAAM2D,GAElB3D,KAAKkkB,gBAAkB,CACrBF,eAAgBA,EAAellB,KAAKkB,MACpCskB,eAAe,EACfH,cAAc,EACd3C,QAAS,KACT4C,WAAY,KACZG,cAAe,MAIjBvkB,KAAKuE,eAAe6S,cAAe,EAKnCpX,KAAKuE,eAAe4S,MAAO,EAEvBxT,IAC+B,mBAAtBA,EAAQ6gB,YAA0BxkB,KAAKykB,WAAa9gB,EAAQ6gB,WAE1C,mBAAlB7gB,EAAQ+gB,QAAsB1kB,KAAK2kB,OAAShhB,EAAQ+gB,QAIjE1kB,KAAK8B,GAAG,YAAakhB,GAGvB,SAASA,IACP,IAAI7G,EAAQnc,KAEe,mBAAhBA,KAAK2kB,OACd3kB,KAAK2kB,QAAO,SAAUzM,EAAIxO,GACxBkb,EAAKzI,EAAOjE,EAAIxO,MAGlBkb,EAAK5kB,KAAM,KAAM,MA2DrB,SAAS4kB,EAAKtO,EAAQ4B,EAAIxO,GACxB,GAAIwO,EAAI,OAAO5B,EAAOlU,KAAK,QAAS8V,GAOpC,GALY,MAARxO,GACF4M,EAAOhV,KAAKoI,GAIV4M,EAAOtS,eAAezD,OAAQ,MAAM,IAAIb,MAAM,8CAElD,GAAI4W,EAAO4N,gBAAgBC,aAAc,MAAM,IAAIzkB,MAAM,kDAEzD,OAAO4W,EAAOhV,KAAK,MA7IrB+B,EAAKC,SAAW,EAAQ,GAGxBD,EAAKC,SAASmS,EAAWrS,GAuEzBqS,EAAUvW,UAAUoC,KAAO,SAAUyW,EAAOvS,GAE1C,OADAxF,KAAKkkB,gBAAgBI,eAAgB,EAC9BlhB,EAAOlE,UAAUoC,KAAK7D,KAAKuC,KAAM+X,EAAOvS,IAajDiQ,EAAUvW,UAAUulB,WAAa,SAAU1M,EAAOvS,EAAUZ,GAC1D,MAAM,IAAIlF,MAAM,oCAGlB+V,EAAUvW,UAAUkjB,OAAS,SAAUrK,EAAOvS,EAAUZ,GACtD,IAAIqf,EAAKjkB,KAAKkkB,gBAId,GAHAD,EAAGzC,QAAU5c,EACbqf,EAAGG,WAAarM,EAChBkM,EAAGM,cAAgB/e,GACdye,EAAGE,aAAc,CACpB,IAAIE,EAAKrkB,KAAKuE,gBACV0f,EAAGK,eAAiBD,EAAGjN,cAAgBiN,EAAG9jB,OAAS8jB,EAAGhgB,gBAAerE,KAAK4X,MAAMyM,EAAGhgB,iBAO3FoR,EAAUvW,UAAU0Y,MAAQ,SAAU7Y,GACpC,IAAIklB,EAAKjkB,KAAKkkB,gBAEQ,OAAlBD,EAAGG,YAAuBH,EAAGzC,UAAYyC,EAAGE,cAC9CF,EAAGE,cAAe,EAClBnkB,KAAKykB,WAAWR,EAAGG,WAAYH,EAAGM,cAAeN,EAAGD,iBAIpDC,EAAGK,eAAgB,GAIvB7O,EAAUvW,UAAUwF,SAAW,SAAUC,EAAKC,GAC5C,IAAIigB,EAAS7kB,KAEboD,EAAOlE,UAAUwF,SAASjH,KAAKuC,KAAM2E,GAAK,SAAUmgB,GAClDlgB,EAAGkgB,GACHD,EAAOziB,KAAK,c,6BChKhB/E,EAAOD,QAlCP,MACE,YAAa2nB,GACX/kB,KAAK+kB,OAASA,EACd/kB,KAAKglB,QAAU,GACfhlB,KAAKilB,MAAQ,GACbjlB,KAAKklB,OAAS,GACdllB,KAAKmlB,MAAQ,GACbnlB,KAAKolB,UAAY,KAEnB,IAAKvnB,GACH,OAAqB,MAAdmC,KAAKnC,GAAgBmC,KAAKnC,GAAQmC,KAAK+kB,OAAO5mB,IAAIN,GAE3D,QAASwnB,GACP,OAA0B,MAAnBrlB,KAAKilB,MAAMI,GAAerlB,KAAKilB,MAAMI,GAAOrlB,KAAK+kB,OAAOO,QAAQD,GAEzE,SAAUA,GACR,OAA2B,MAApBrlB,KAAKklB,OAAOG,GAAerlB,KAAKklB,OAAOG,GAAOrlB,KAAK+kB,OAAOO,QAAQD,GAE3E,SAAUxnB,GACR,OAAKA,EACsB,MAApBmC,KAAKmlB,MAAMtnB,GAAgBmC,KAAKmlB,MAAMtnB,GAAQmC,KAAK+kB,OAAOQ,SAAS1nB,GADxDG,OAAOwnB,OAAO,GAAIxlB,KAAK+kB,OAAOQ,WAAYvlB,KAAKmlB,OAGnE,aACEnlB,KAAKmlB,MAAQ,GAEf,WAAYM,GACVA,EAAKN,MAAQnnB,OAAOwnB,OAAO,GAAIxlB,KAAKulB,YACpCE,EAAKN,MAAMO,KAAO1lB,KAAKslB,QAAQG,EAAKN,MAAMO,MAC1CD,EAAKN,MAAMQ,WAAa3lB,KAAK4lB,SAASH,EAAKN,MAAMQ,YACjDF,EAAKN,MAAMU,WAAa7lB,KAAK4lB,SAASH,EAAKN,MAAMU,YACjD7lB,KAAKglB,QAAQ1jB,KAAKmkB,M,6BCtBtBpoB,EAAOD,QARP,MACE,YAAa0oB,GACNA,IAAMA,EAAO,IAClB9lB,KAAKmlB,MAAQW,EAAKX,OAAS,GAC3BnlB,KAAKglB,QAAU,M,iBCNnB,YAqBA,IAAIe,EAA4B/nB,OAAO+nB,2BACrC,SAAmC5iB,GAGjC,IAFA,IAAID,EAAOlF,OAAOkF,KAAKC,GACnB6iB,EAAc,GACT1oB,EAAI,EAAGA,EAAI4F,EAAK3C,OAAQjD,IAC/B0oB,EAAY9iB,EAAK5F,IAAMU,OAAOioB,yBAAyB9iB,EAAKD,EAAK5F,IAEnE,OAAO0oB,GAGPE,EAAe,WACnB9oB,EAAQ+oB,OAAS,SAASC,GACxB,IAAK5f,EAAS4f,GAAI,CAEhB,IADA,IAAIC,EAAU,GACL/oB,EAAI,EAAGA,EAAI+D,UAAUd,OAAQjD,IACpC+oB,EAAQ/kB,KAAK2N,EAAQ5N,UAAU/D,KAEjC,OAAO+oB,EAAQjX,KAAK,KAGlB9R,EAAI,EAmBR,IAnBA,IACI6D,EAAOE,UACPV,EAAMQ,EAAKZ,OACX8L,EAAMjB,OAAOgb,GAAGvS,QAAQqS,GAAc,SAASzX,GACjD,GAAU,OAANA,EAAY,MAAO,IACvB,GAAInR,GAAKqD,EAAK,OAAO8N,EACrB,OAAQA,GACN,IAAK,KAAM,OAAOrD,OAAOjK,EAAK7D,MAC9B,IAAK,KAAM,OAAOsO,OAAOzK,EAAK7D,MAC9B,IAAK,KACH,IACE,OAAOgpB,KAAKC,UAAUplB,EAAK7D,MAC3B,MAAO6lB,GACP,MAAO,aAEX,QACE,OAAO1U,MAGJA,EAAItN,EAAK7D,GAAIA,EAAIqD,EAAK8N,EAAItN,IAAO7D,GACpC+I,EAAOoI,KAAO5H,EAAS4H,GACzBpC,GAAO,IAAMoC,EAEbpC,GAAO,IAAM4C,EAAQR,GAGzB,OAAOpC,GAOTjP,EAAQujB,UAAY,SAASjZ,EAAI8e,GAC/B,QAAuB,IAAZhnB,IAAqD,IAA1BA,EAAQinB,cAC5C,OAAO/e,EAIT,QAAuB,IAAZlI,EACT,OAAO,WACL,OAAOpC,EAAQujB,UAAUjZ,EAAI8e,GAAKjlB,MAAMvB,KAAMqB,YAIlD,IAAIuc,GAAS,EAeb,OAdA,WACE,IAAKA,EAAQ,CACX,GAAIpe,EAAQknB,iBACV,MAAM,IAAIhnB,MAAM8mB,GACPhnB,EAAQmnB,iBACjB5I,QAAQ6I,MAAMJ,GAEdzI,QAAQgB,MAAMyH,GAEhB5I,GAAS,EAEX,OAAOlW,EAAGnG,MAAMvB,KAAMqB,aAO1B,IACIwlB,EADAC,EAAS,GA6Bb,SAAS7X,EAAQ9L,EAAK2iB,GAEpB,IAAIiB,EAAM,CACRC,KAAM,GACNC,QAASC,GAkBX,OAfI7lB,UAAUd,QAAU,IAAGwmB,EAAII,MAAQ9lB,UAAU,IAC7CA,UAAUd,QAAU,IAAGwmB,EAAI7B,OAAS7jB,UAAU,IAC9C+E,EAAU0f,GAEZiB,EAAIK,WAAatB,EACRA,GAET1oB,EAAQiqB,QAAQN,EAAKjB,GAGnBpf,EAAYqgB,EAAIK,cAAaL,EAAIK,YAAa,GAC9C1gB,EAAYqgB,EAAII,SAAQJ,EAAII,MAAQ,GACpCzgB,EAAYqgB,EAAI7B,UAAS6B,EAAI7B,QAAS,GACtCxe,EAAYqgB,EAAIO,iBAAgBP,EAAIO,eAAgB,GACpDP,EAAI7B,SAAQ6B,EAAIE,QAAUM,GACvBC,EAAYT,EAAK5jB,EAAK4jB,EAAII,OAoCnC,SAASI,EAAiBlb,EAAKob,GAC7B,IAAItC,EAAQlW,EAAQyY,OAAOD,GAE3B,OAAItC,EACK,KAAYlW,EAAQiW,OAAOC,GAAO,GAAK,IAAM9Y,EAC7C,KAAY4C,EAAQiW,OAAOC,GAAO,GAAK,IAEvC9Y,EAKX,SAAS6a,EAAe7a,EAAKob,GAC3B,OAAOpb,EAeT,SAASmb,EAAYT,EAAKxoB,EAAOopB,GAG/B,GAAIZ,EAAIO,eACJ/oB,GACAyI,EAAWzI,EAAM0Q,UAEjB1Q,EAAM0Q,UAAY7R,EAAQ6R,WAExB1Q,EAAM+I,aAAe/I,EAAM+I,YAAYpI,YAAcX,GAAQ,CACjE,IAAIuR,EAAMvR,EAAM0Q,QAAQ0Y,EAAcZ,GAItC,OAHKvgB,EAASsJ,KACZA,EAAM0X,EAAYT,EAAKjX,EAAK6X,IAEvB7X,EAIT,IAAI8X,EA+FN,SAAyBb,EAAKxoB,GAC5B,GAAImI,EAAYnI,GACd,OAAOwoB,EAAIE,QAAQ,YAAa,aAClC,GAAIzgB,EAASjI,GAAQ,CACnB,IAAIspB,EAAS,IAAOvB,KAAKC,UAAUhoB,GAAOsV,QAAQ,SAAU,IAClBA,QAAQ,KAAM,OACdA,QAAQ,OAAQ,KAAO,IACjE,OAAOkT,EAAIE,QAAQY,EAAQ,UAE7B,GAAIthB,EAAShI,GACX,OAAOwoB,EAAIE,QAAQ,GAAK1oB,EAAO,UACjC,GAAI6H,EAAU7H,GACZ,OAAOwoB,EAAIE,QAAQ,GAAK1oB,EAAO,WAEjC,GAAI8H,EAAO9H,GACT,OAAOwoB,EAAIE,QAAQ,OAAQ,QA9Gba,CAAgBf,EAAKxoB,GACrC,GAAIqpB,EACF,OAAOA,EAIT,IAAI1kB,EAAOlF,OAAOkF,KAAK3E,GACnBwpB,EApCN,SAAqB/mB,GACnB,IAAIgnB,EAAO,GAMX,OAJAhnB,EAAMinB,SAAQ,SAASze,EAAK0e,GAC1BF,EAAKxe,IAAO,KAGPwe,EA6BWG,CAAYjlB,GAQ9B,GANI6jB,EAAIK,aACNlkB,EAAOlF,OAAO6e,oBAAoBte,IAKhCwI,EAAQxI,KACJ2E,EAAKuE,QAAQ,YAAc,GAAKvE,EAAKuE,QAAQ,gBAAkB,GACrE,OAAO2gB,EAAY7pB,GAIrB,GAAoB,IAAhB2E,EAAK3C,OAAc,CACrB,GAAIyG,EAAWzI,GAAQ,CACrB,IAAIV,EAAOU,EAAMV,KAAO,KAAOU,EAAMV,KAAO,GAC5C,OAAOkpB,EAAIE,QAAQ,YAAcppB,EAAO,IAAK,WAE/C,GAAI8I,EAASpI,GACX,OAAOwoB,EAAIE,QAAQoB,OAAOnpB,UAAU+G,SAASxI,KAAKc,GAAQ,UAE5D,GAAIuI,EAAOvI,GACT,OAAOwoB,EAAIE,QAAQqB,KAAKppB,UAAU+G,SAASxI,KAAKc,GAAQ,QAE1D,GAAIwI,EAAQxI,GACV,OAAO6pB,EAAY7pB,GAIvB,IA2CIgqB,EA3CAC,EAAO,GAAIxnB,GAAQ,EAAOynB,EAAS,CAAC,IAAK,MAGzCviB,EAAQ3H,KACVyC,GAAQ,EACRynB,EAAS,CAAC,IAAK,MAIbzhB,EAAWzI,MAEbiqB,EAAO,cADCjqB,EAAMV,KAAO,KAAOU,EAAMV,KAAO,IACf,KAkB5B,OAdI8I,EAASpI,KACXiqB,EAAO,IAAMH,OAAOnpB,UAAU+G,SAASxI,KAAKc,IAI1CuI,EAAOvI,KACTiqB,EAAO,IAAMF,KAAKppB,UAAUwpB,YAAYjrB,KAAKc,IAI3CwI,EAAQxI,KACViqB,EAAO,IAAMJ,EAAY7pB,IAGP,IAAhB2E,EAAK3C,QAAkBS,GAAyB,GAAhBzC,EAAMgC,OAItConB,EAAe,EACbhhB,EAASpI,GACJwoB,EAAIE,QAAQoB,OAAOnpB,UAAU+G,SAASxI,KAAKc,GAAQ,UAEnDwoB,EAAIE,QAAQ,WAAY,YAInCF,EAAIC,KAAK1lB,KAAK/C,GAIZgqB,EADEvnB,EAsCN,SAAqB+lB,EAAKxoB,EAAOopB,EAAcI,EAAa7kB,GAE1D,IADA,IAAIqlB,EAAS,GACJjrB,EAAI,EAAGC,EAAIgB,EAAMgC,OAAQjD,EAAIC,IAAKD,EACrC6B,EAAeZ,EAAO6M,OAAO9N,IAC/BirB,EAAOjnB,KAAKqnB,EAAe5B,EAAKxoB,EAAOopB,EAAcI,EACjD3c,OAAO9N,IAAI,IAEfirB,EAAOjnB,KAAK,IAShB,OANA4B,EAAK+kB,SAAQ,SAASppB,GACfA,EAAIsQ,MAAM,UACboZ,EAAOjnB,KAAKqnB,EAAe5B,EAAKxoB,EAAOopB,EAAcI,EACjDlpB,GAAK,OAGN0pB,EArDIK,CAAY7B,EAAKxoB,EAAOopB,EAAcI,EAAa7kB,GAEnDA,EAAK2lB,KAAI,SAAShqB,GACzB,OAAO8pB,EAAe5B,EAAKxoB,EAAOopB,EAAcI,EAAalpB,EAAKmC,MAItE+lB,EAAIC,KAAK3H,MA6GX,SAA8BkJ,EAAQC,EAAMC,GAQ1C,GANaF,EAAOO,QAAO,SAASC,EAAMC,GAGxC,OADIA,EAAIvhB,QAAQ,OAAS,GAAGwhB,EACrBF,EAAOC,EAAInV,QAAQ,kBAAmB,IAAItT,OAAS,IACzD,GAEU,GACX,OAAOkoB,EAAO,IACG,KAATD,EAAc,GAAKA,EAAO,OAC3B,IACAD,EAAOnZ,KAAK,SACZ,IACAqZ,EAAO,GAGhB,OAAOA,EAAO,GAAKD,EAAO,IAAMD,EAAOnZ,KAAK,MAAQ,IAAMqZ,EAAO,GA5H1DS,CAAqBX,EAAQC,EAAMC,IAxBjCA,EAAO,GAAKD,EAAOC,EAAO,GA+CrC,SAASL,EAAY7pB,GACnB,MAAO,IAAMmB,MAAMR,UAAU+G,SAASxI,KAAKc,GAAS,IAwBtD,SAASoqB,EAAe5B,EAAKxoB,EAAOopB,EAAcI,EAAalpB,EAAKmC,GAClE,IAAInD,EAAMwO,EAAK8c,EAsCf,IArCAA,EAAOnrB,OAAOioB,yBAAyB1nB,EAAOM,IAAQ,CAAEN,MAAOA,EAAMM,KAC5DV,IAELkO,EADE8c,EAAK1kB,IACDsiB,EAAIE,QAAQ,kBAAmB,WAE/BF,EAAIE,QAAQ,WAAY,WAG5BkC,EAAK1kB,MACP4H,EAAM0a,EAAIE,QAAQ,WAAY,YAG7B9nB,EAAe4oB,EAAalpB,KAC/BhB,EAAO,IAAMgB,EAAM,KAEhBwN,IACC0a,EAAIC,KAAKvf,QAAQ0hB,EAAK5qB,OAAS,GAE/B8N,EADEhG,EAAOshB,GACHH,EAAYT,EAAKoC,EAAK5qB,MAAO,MAE7BipB,EAAYT,EAAKoC,EAAK5qB,MAAOopB,EAAe,IAE5ClgB,QAAQ,OAAS,IAErB4E,EADErL,EACIqL,EAAI+c,MAAM,MAAMP,KAAI,SAASQ,GACjC,MAAO,KAAOA,KACbja,KAAK,MAAMnD,OAAO,GAEf,KAAOI,EAAI+c,MAAM,MAAMP,KAAI,SAASQ,GACxC,MAAO,MAAQA,KACdja,KAAK,OAIZ/C,EAAM0a,EAAIE,QAAQ,aAAc,YAGhCvgB,EAAY7I,GAAO,CACrB,GAAImD,GAASnC,EAAIsQ,MAAM,SACrB,OAAO9C,GAETxO,EAAOyoB,KAAKC,UAAU,GAAK1nB,IAClBsQ,MAAM,iCACbtR,EAAOA,EAAKoO,OAAO,EAAGpO,EAAK0C,OAAS,GACpC1C,EAAOkpB,EAAIE,QAAQppB,EAAM,UAEzBA,EAAOA,EAAKgW,QAAQ,KAAM,OACdA,QAAQ,OAAQ,KAChBA,QAAQ,WAAY,KAChChW,EAAOkpB,EAAIE,QAAQppB,EAAM,WAI7B,OAAOA,EAAO,KAAOwO,EA2BvB,SAASnG,EAAQojB,GACf,OAAOloB,MAAM8E,QAAQojB,GAIvB,SAASljB,EAAUD,GACjB,MAAsB,kBAARA,EAIhB,SAASE,EAAOF,GACd,OAAe,OAARA,EAST,SAASI,EAASJ,GAChB,MAAsB,iBAARA,EAIhB,SAASK,EAASL,GAChB,MAAsB,iBAARA,EAShB,SAASO,EAAYP,GACnB,YAAe,IAARA,EAIT,SAASQ,EAASC,GAChB,OAAOC,EAASD,IAA8B,oBAAvBZ,EAAeY,GAIxC,SAASC,EAASV,GAChB,MAAsB,iBAARA,GAA4B,OAARA,EAIpC,SAASW,EAAOlJ,GACd,OAAOiJ,EAASjJ,IAA4B,kBAAtBoI,EAAepI,GAIvC,SAASmJ,EAAQhH,GACf,OAAO8G,EAAS9G,KACW,mBAAtBiG,EAAejG,IAA2BA,aAAaL,OAI9D,SAASsH,EAAWb,GAClB,MAAsB,mBAARA,EAgBhB,SAASH,EAAejI,GACtB,OAAOC,OAAOkB,UAAU+G,SAASxI,KAAKM,GAIxC,SAASwrB,EAAIxqB,GACX,OAAOA,EAAI,GAAK,IAAMA,EAAEkH,SAAS,IAAMlH,EAAEkH,SAAS,IApbpD7I,EAAQ8Y,SAAW,SAASzR,GAI1B,GAHIiC,EAAYmgB,KACdA,EAAernB,EAAQkC,IAAI8nB,YAAc,IAC3C/kB,EAAMA,EAAIglB,eACL3C,EAAOriB,GACV,GAAI,IAAI4jB,OAAO,MAAQ5jB,EAAM,MAAO,KAAKilB,KAAK7C,GAAe,CAC3D,IAAI8C,EAAMnqB,EAAQmqB,IAClB7C,EAAOriB,GAAO,WACZ,IAAI+hB,EAAMppB,EAAQ+oB,OAAO5kB,MAAMnE,EAASiE,WACxC0c,QAAQgB,MAAM,YAAata,EAAKklB,EAAKnD,SAGvCM,EAAOriB,GAAO,aAGlB,OAAOqiB,EAAOriB,IAoChBrH,EAAQ6R,QAAUA,EAIlBA,EAAQiW,OAAS,CACf,KAAS,CAAC,EAAG,IACb,OAAW,CAAC,EAAG,IACf,UAAc,CAAC,EAAG,IAClB,QAAY,CAAC,EAAG,IAChB,MAAU,CAAC,GAAI,IACf,KAAS,CAAC,GAAI,IACd,MAAU,CAAC,GAAI,IACf,KAAS,CAAC,GAAI,IACd,KAAS,CAAC,GAAI,IACd,MAAU,CAAC,GAAI,IACf,QAAY,CAAC,GAAI,IACjB,IAAQ,CAAC,GAAI,IACb,OAAW,CAAC,GAAI,KAIlBjW,EAAQyY,OAAS,CACf,QAAW,OACX,OAAU,SACV,QAAW,SACX,UAAa,OACb,KAAQ,OACR,OAAU,QACV,KAAQ,UAER,OAAU,OAkRZtqB,EAAQ8I,QAAUA,EAKlB9I,EAAQgJ,UAAYA,EAKpBhJ,EAAQiJ,OAASA,EAKjBjJ,EAAQkJ,kBAHR,SAA2BH,GACzB,OAAc,MAAPA,GAOT/I,EAAQmJ,SAAWA,EAKnBnJ,EAAQoJ,SAAWA,EAKnBpJ,EAAQqJ,SAHR,SAAkBN,GAChB,MAAsB,iBAARA,GAOhB/I,EAAQsJ,YAAcA,EAKtBtJ,EAAQuJ,SAAWA,EAKnBvJ,EAAQyJ,SAAWA,EAKnBzJ,EAAQ0J,OAASA,EAMjB1J,EAAQ2J,QAAUA,EAKlB3J,EAAQ4J,WAAaA,EAUrB5J,EAAQ6J,YARR,SAAqBd,GACnB,OAAe,OAARA,GACe,kBAARA,GACQ,iBAARA,GACQ,iBAARA,GACQ,iBAARA,QACQ,IAARA,GAIhB/I,EAAQ8J,SAAW,EAAQ,IAY3B,IAAI0iB,EAAS,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACxD,MAAO,MAAO,OAG5B,SAASC,IACP,IAAIjsB,EAAI,IAAI0qB,KACRwB,EAAO,CAACP,EAAI3rB,EAAEmsB,YACNR,EAAI3rB,EAAEosB,cACNT,EAAI3rB,EAAEqsB,eAAe7a,KAAK,KACtC,MAAO,CAACxR,EAAEssB,UAAWN,EAAOhsB,EAAEusB,YAAaL,GAAM1a,KAAK,KAqCxD,SAASjQ,EAAegE,EAAKinB,GAC3B,OAAOpsB,OAAOkB,UAAUC,eAAe1B,KAAK0F,EAAKinB,GAjCnDhtB,EAAQitB,IAAM,WACZtM,QAAQsM,IAAI,UAAWR,IAAazsB,EAAQ+oB,OAAO5kB,MAAMnE,EAASiE,aAiBpEjE,EAAQkG,SAAW,EAAQ,IAE3BlG,EAAQiqB,QAAU,SAASiD,EAAQC,GAEjC,IAAKA,IAAQ1jB,EAAS0jB,GAAM,OAAOD,EAInC,IAFA,IAAIpnB,EAAOlF,OAAOkF,KAAKqnB,GACnBjtB,EAAI4F,EAAK3C,OACNjD,KACLgtB,EAAOpnB,EAAK5F,IAAMitB,EAAIrnB,EAAK5F,IAE7B,OAAOgtB,GAOT,IAAIE,EAA6C,oBAAXnsB,OAAyBA,OAAO,8BAA2BiG,EA0DjG,SAASmmB,EAAsBC,EAAQ9lB,GAKrC,IAAK8lB,EAAQ,CACX,IAAIC,EAAY,IAAIjrB,MAAM,2CAC1BirB,EAAUD,OAASA,EACnBA,EAASC,EAEX,OAAO/lB,EAAG8lB,GAlEZttB,EAAQwtB,UAAY,SAAmBC,GACrC,GAAwB,mBAAbA,EACT,MAAM,IAAIzlB,UAAU,oDAEtB,GAAIolB,GAA4BK,EAASL,GAA2B,CAClE,IAAI9iB,EACJ,GAAkB,mBADdA,EAAKmjB,EAASL,IAEhB,MAAM,IAAIplB,UAAU,iEAKtB,OAHApH,OAAOC,eAAeyJ,EAAI8iB,EAA0B,CAClDjsB,MAAOmJ,EAAIxJ,YAAY,EAAO2F,UAAU,EAAO0D,cAAc,IAExDG,EAGT,SAASA,IAQP,IAPA,IAAIojB,EAAgBC,EAChBC,EAAU,IAAIC,SAAQ,SAAUC,EAASC,GAC3CL,EAAiBI,EACjBH,EAAgBI,KAGdhqB,EAAO,GACF7D,EAAI,EAAGA,EAAI+D,UAAUd,OAAQjD,IACpC6D,EAAKG,KAAKD,UAAU/D,IAEtB6D,EAAKG,MAAK,SAAUqD,EAAKpG,GACnBoG,EACFomB,EAAcpmB,GAEdmmB,EAAevsB,MAInB,IACEssB,EAAStpB,MAAMvB,KAAMmB,GACrB,MAAOwD,GACPomB,EAAcpmB,GAGhB,OAAOqmB,EAQT,OALAhtB,OAAOotB,eAAe1jB,EAAI1J,OAAOua,eAAesS,IAE5CL,GAA0BxsB,OAAOC,eAAeyJ,EAAI8iB,EAA0B,CAChFjsB,MAAOmJ,EAAIxJ,YAAY,EAAO2F,UAAU,EAAO0D,cAAc,IAExDvJ,OAAOqtB,iBACZ3jB,EACAqe,EAA0B8E,KAI9BztB,EAAQwtB,UAAUU,OAASd,EAiD3BptB,EAAQmuB,YAlCR,SAAqBV,GACnB,GAAwB,mBAAbA,EACT,MAAM,IAAIzlB,UAAU,oDAMtB,SAASomB,IAEP,IADA,IAAIrqB,EAAO,GACF7D,EAAI,EAAGA,EAAI+D,UAAUd,OAAQjD,IACpC6D,EAAKG,KAAKD,UAAU/D,IAGtB,IAAImuB,EAAUtqB,EAAKke,MACnB,GAAuB,mBAAZoM,EACT,MAAM,IAAIrmB,UAAU,8CAEtB,IAAIjB,EAAOnE,KACP4E,EAAK,WACP,OAAO6mB,EAAQlqB,MAAM4C,EAAM9C,YAI7BwpB,EAAStpB,MAAMvB,KAAMmB,GAClBuqB,MAAK,SAAS5b,GAAOtQ,EAAQ0B,SAAS0D,EAAI,KAAMkL,MAC3C,SAAS6b,GAAOnsB,EAAQ0B,SAASupB,EAAuBkB,EAAK/mB,MAMvE,OAHA5G,OAAOotB,eAAeI,EAAextB,OAAOua,eAAesS,IAC3D7sB,OAAOqtB,iBAAiBG,EACAzF,EAA0B8E,IAC3CW,K,yogBC7qBTnuB,EAAOD,QAfP,SAAyB+F,EAAKtE,EAAKN,GAYjC,OAXIM,KAAOsE,EACTnF,OAAOC,eAAekF,EAAKtE,EAAK,CAC9BN,MAAOA,EACPL,YAAY,EACZqJ,cAAc,EACd1D,UAAU,IAGZV,EAAItE,GAAON,EAGN4E,I,gBCZT,IAAIyoB,EAAoB,EAAQ,IAE5BC,EAAkB,EAAQ,IAE1BC,EAAoB,EAAQ,IAMhCzuB,EAAOD,QAJP,SAA4B4N,GAC1B,OAAO4gB,EAAkB5gB,IAAQ6gB,EAAgB7gB,IAAQ8gB,M,gBCP3D,IAAIC,EAAiB,EAAQ,IAEzBC,EAAuB,EAAQ,IAE/BC,EAAkB,EAAQ,IAM9B5uB,EAAOD,QAJP,SAAwB4N,EAAK1N,GAC3B,OAAOyuB,EAAe/gB,IAAQghB,EAAqBhhB,EAAK1N,IAAM2uB,M,cCPhE5uB,EAAOD,QAAU8uB,M,iFCCjB,MAAMC,EAAQ,EAAQ,IAChBC,EAAY,EAAQ,IA8B1B,SAASC,EAAevG,EAAMlhB,GAC5B,MAAO,CAACD,EAAK2nB,KACX,GAAI3nB,EAAK,OAAOC,EAAGD,GACnB,IACE,OAAOC,EAAG,KAAMwnB,EAAUE,EAAKxG,IAC/B,MAAOyG,GACP,OAAO3nB,EAAG2nB,KAlChBlvB,EAAOD,QAIP,SAAmB0oB,EAAMlhB,GACE,IAArBvD,UAAUd,SACZqE,EAAKkhB,EACLA,EAAO,MAET,OAAOqG,EAAME,EAAcvG,EAAMlhB,KARnCvH,EAAOD,QAAQovB,WAWf,SAAqBlW,EAAQwP,EAAMlhB,GACR,IAArBvD,UAAUd,SACZqE,EAAKkhB,EACLA,EAAO,MAET,OAAOqG,EAAM7V,OAAOA,EAAQ+V,EAAcvG,EAAMlhB,KAflDvH,EAAOD,QAAQiM,WAkBf,SAAqBL,EAAQ8c,EAAMlhB,GACR,IAArBvD,UAAUd,SACZqE,EAAKkhB,EACLA,EAAO,MAET,OAAOqG,EAAMnjB,OAAOA,EAAQqjB,EAAcvG,EAAMlhB,M,+CCnBlDvH,EAAOD,QAVP,SAA4B4N,GAC1B,GAAI5J,MAAM8E,QAAQ8E,GAAM,CACtB,IAAK,IAAI1N,EAAI,EAAGmvB,EAAO,IAAIrrB,MAAM4J,EAAIzK,QAASjD,EAAI0N,EAAIzK,OAAQjD,IAC5DmvB,EAAKnvB,GAAK0N,EAAI1N,GAGhB,OAAOmvB,K,cCFXpvB,EAAOD,QAJP,SAA0BsvB,GACxB,GAAIruB,OAAOsuB,YAAY3uB,OAAO0uB,IAAkD,uBAAzC1uB,OAAOkB,UAAU+G,SAASxI,KAAKivB,GAAgC,OAAOtrB,MAAM6D,KAAKynB,K,cCG1HrvB,EAAOD,QAJP,WACE,MAAM,IAAIgI,UAAU,qD,cCGtB/H,EAAOD,QAJP,SAAyB4N,GACvB,GAAI5J,MAAM8E,QAAQ8E,GAAM,OAAOA,I,cC6BjC3N,EAAOD,QA9BP,SAA+B4N,EAAK1N,GAClC,GAAMe,OAAOsuB,YAAY3uB,OAAOgN,IAAgD,uBAAxChN,OAAOkB,UAAU+G,SAASxI,KAAKuN,GAAvE,CAIA,IAAI6E,EAAO,GACP+c,GAAK,EACLC,GAAK,EACLC,OAAKxoB,EAET,IACE,IAAK,IAAiCyoB,EAA7BC,EAAKhiB,EAAI3M,OAAOsuB,cAAmBC,GAAMG,EAAKC,EAAGnT,QAAQ+K,QAChE/U,EAAKvO,KAAKyrB,EAAGxuB,QAETjB,GAAKuS,EAAKtP,SAAWjD,GAH8CsvB,GAAK,IAK9E,MAAOjoB,GACPkoB,GAAK,EACLC,EAAKnoB,EACL,QACA,IACOioB,GAAsB,MAAhBI,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIH,EAAI,MAAMC,GAIlB,OAAOjd,K,cCvBTxS,EAAOD,QAJP,WACE,MAAM,IAAIgI,UAAU,0D,6BCAtB,MAAM6nB,EAAY,EAAQ,IACpBC,EAAc,EAAQ,IACtBC,EAAiB,EAAQ,IAc/B,SAAShB,EAAOvnB,GACd,IAAIwoB,GAAU,EACd,MAAMC,EAAe1oB,IACfyoB,IACJA,GAAU,EACVE,EAAOzS,OAAO0S,GACdA,EAAYnpB,MACZQ,EAAGD,KAEC6oB,EAAW,IAAIN,EACfI,EAAS,IAAIL,EACnBK,EAAOtrB,KAAK,QAASqrB,GACrB,MAAME,EAAc,IAAIJ,EAAeK,GAMvC,OALAD,EAAYzrB,GAAG,QAASurB,GACxBE,EAAYzrB,GAAG,SAAU,KAClBsrB,GAASxoB,EAAG,KAAM4oB,KAEzBF,EAAO/S,KAAKgT,GACLD,EA9BTjwB,EAAOD,QAAU+uB,EACjBA,EAAMnjB,OAGN,SAAsBA,EAAQpE,GAC5BunB,EAAMvnB,GAAIR,IAAI4E,IAHhBmjB,EAAM7V,OAMN,SAAsBA,EAAQ1R,GAC5B0R,EAAOiE,KAAK4R,EAAMvnB,M,6BCbpB,MAAM6Q,EAAY,EAAQ,IAAmBA,UA6K7CpY,EAAOD,QA3KP,cAAwBqY,EACtB,cACEgY,MAAM,CAACjX,YAAY,IACnBxW,KAAKuU,KAAO,GACZvU,KAAK0tB,YAAc,GACnB1tB,KAAK2tB,iBAAmB,GACxB3tB,KAAK4tB,QAAU,GACf5tB,KAAK6tB,YAAc7tB,KAAK8tB,UACxB9tB,KAAK+tB,KAAO,EACZ/tB,KAAKguB,IAAM,EACXhuB,KAAKiuB,IAAM,EAEb,WAAYvoB,EAAKF,EAAUof,GACzB,MAAMrQ,EAAO7O,EAAIO,SAAS,SAC1B,IAAK,IAAIioB,EAAK,EAAGA,EAAK3Z,EAAKhU,SAAU2tB,IACjCluB,KAAK+tB,KACU,OAAbxZ,EAAK2Z,MACLluB,KAAKguB,IACPhuB,KAAKiuB,IAAM,KAETjuB,KAAKiuB,IAETjuB,KAAK6tB,YAAYtZ,EAAK2Z,IAExBtJ,IAEF,OAAQA,GACY,OAAd5kB,KAAKuU,MAAmBvU,KAAKmuB,WACjCvJ,IAEF,UAAWmJ,GACI,OAATA,EACF/tB,KAAK6tB,YAAc7tB,KAAKouB,aACN,MAATL,EACT/tB,KAAKquB,iBACa,MAATN,EACT/tB,KAAKsuB,eACa,OAATP,GAA4B,OAATA,IAG5B/tB,KAAKuU,MAAQwZ,GAIjB,aAAcA,GACC,OAATA,GAA0B,MAATA,GAAyB,MAATA,GACnC/tB,KAAKuU,MAAQwZ,EACb/tB,KAAK6tB,YAAc7tB,KAAK8tB,YAExB9tB,KAAK6tB,YAAc7tB,KAAKuuB,mBACxBvuB,KAAKuuB,mBAAmBR,IAG5B,mBAAoBA,GACL,MAATA,GACF/tB,KAAKuU,MAAQ,IACbvU,KAAK6tB,YAAc7tB,KAAK8tB,WACN,MAATC,EACT/tB,KAAKuU,MAAQ,IACK,MAATwZ,EACT/tB,KAAKuU,MAAQ,IACK,MAATwZ,GACT/tB,KAAKwuB,gBACLxuB,KAAK6tB,YAAc7tB,KAAK8tB,WACN,MAATC,EACT/tB,KAAK6tB,YAAc7tB,KAAKyuB,aACN,MAATV,GACT/tB,KAAK0uB,cACL1uB,KAAK6tB,YAAc7tB,KAAK8tB,WACN,MAATC,GACT/tB,KAAK2uB,oBACL3uB,KAAK6tB,YAAc7tB,KAAK8tB,WACN,OAATC,GACT/tB,KAAK4uB,mBACL5uB,KAAK6tB,YAAc7tB,KAAK8tB,WACN,OAATC,GACT/tB,KAAK4uB,mBACL5uB,KAAK6tB,YAAc7tB,KAAK8tB,YAExB9tB,KAAK6tB,YAAc7tB,KAAK6uB,iBACxB7uB,KAAK6uB,iBAAiBd,IAG1B,aAAcA,GACR,gBAAgBrE,KAAKqE,IACvB/tB,KAAK4tB,SAAWG,EACZ/tB,KAAK4tB,QAAQrtB,QAAU,IACzBP,KAAK8uB,cACL9uB,KAAK6tB,YAAc7tB,KAAK8tB,aAG1B9tB,KAAK+uB,UAAU,sBAAsBhB,sBACrC/tB,KAAK6tB,YAAc7tB,KAAK8tB,WAG5B,iBAAkBC,GACH,MAATA,GACF/tB,KAAKgvB,kBACLhvB,KAAK6tB,YAAc7tB,KAAK8tB,WACf,UAAUpE,KAAKqE,IACxB/tB,KAAK6tB,YAAc7tB,KAAKivB,sBACxBjvB,KAAK2tB,kBAAoBI,GAChB,aAAarE,KAAKqE,GAC3B/tB,KAAK0tB,aAAeK,GAEpB/tB,KAAKgvB,kBACLhvB,KAAK6tB,YAAc7tB,KAAK8tB,UACxB9tB,KAAK8tB,UAAUC,IAGnB,sBAAuBA,GACjB,OAAOrE,KAAKqE,GACd/tB,KAAK2tB,kBAAoBI,EACP,MAATA,GACT/tB,KAAKgvB,kBACLhvB,KAAK6tB,YAAc7tB,KAAK8tB,YAExB9tB,KAAKgvB,kBACLhvB,KAAK6tB,YAAc7tB,KAAK8tB,UACxB9tB,KAAK8tB,UAAUC,IAGnB,WACoB,KAAd/tB,KAAKuU,OACTvU,KAAKsB,KAAK,CAACmI,KAAM,OAAQlL,MAAOyB,KAAKuU,KAAM3F,IAAK5O,KAAK+tB,KAAMC,IAAKhuB,KAAKguB,IAAKC,IAAKjuB,KAAKiuB,MACpFjuB,KAAKuU,KAAO,IAEd,kBACEvU,KAAKmuB,WACoB,KAArBnuB,KAAK0tB,YACP1tB,KAAK+uB,UAAU,sBAEf/uB,KAAKsB,KAAK,CACRmI,KAAM,eACNlL,MAAOyB,KAAK0tB,YACZwB,MAAiC,KAA1BlvB,KAAK2tB,kBAA2B/hB,OAAO5L,KAAK2tB,kBACnD/e,IAAK5O,KAAK+tB,KACVC,IAAKhuB,KAAKguB,IACVC,IAAKjuB,KAAKiuB,MAGdjuB,KAAK0tB,YAAc,GACnB1tB,KAAK2tB,iBAAmB,GAE1B,iBACE3tB,KAAKmuB,WACLnuB,KAAKsB,KAAK,CAACmI,KAAM,cAAemF,IAAK5O,KAAK+tB,KAAMC,IAAKhuB,KAAKguB,IAAKC,IAAKjuB,KAAKiuB,MAE3E,eACEjuB,KAAKmuB,WACLnuB,KAAKsB,KAAK,CAACmI,KAAM,YAAamF,IAAK5O,KAAK+tB,KAAMC,IAAKhuB,KAAKguB,IAAKC,IAAKjuB,KAAKiuB,MAEzE,gBACEjuB,KAAKmuB,WACLnuB,KAAKsB,KAAK,CAACmI,KAAM,YAAamF,IAAK5O,KAAK+tB,KAAMC,IAAKhuB,KAAKguB,IAAKC,IAAKjuB,KAAKiuB,MAEzE,cACEjuB,KAAKmuB,WACLnuB,KAAKsB,KAAK,CAACmI,KAAM,UAAWlL,MAAOyB,KAAK4tB,QAAShf,IAAK5O,KAAK+tB,KAAMC,IAAKhuB,KAAKguB,IAAKC,IAAKjuB,KAAKiuB,MAC1FjuB,KAAK4tB,QAAU,GAEjB,UAAW5O,GACThf,KAAKmuB,WACLnuB,KAAKsB,KAAK,CAACmI,KAAM,QAASlL,MAAOygB,EAASgP,IAAKhuB,KAAKguB,IAAKC,IAAKjuB,KAAKiuB,IAAKF,KAAM/tB,KAAK+tB,KAAMoB,OAAO,IAAIzvB,OAAQyvB,QAE9G,mBACEnvB,KAAKmuB,WACLnuB,KAAKsB,KAAK,CAACmI,KAAM,gBAAiBmF,IAAK5O,KAAK+tB,KAAMC,IAAKhuB,KAAKguB,IAAKC,IAAKjuB,KAAKiuB,S,6BCxK/E7wB,EAAQyL,WAuCR,SAAqBumB,GACnB,IAAIC,EAAOC,EAAQF,GACfG,EAAWF,EAAK,GAChBG,EAAkBH,EAAK,GAC3B,OAAuC,GAA9BE,EAAWC,GAAuB,EAAKA,GA1ClDpyB,EAAQuW,YAiDR,SAAsByb,GACpB,IAAIK,EAcAnyB,EAbA+xB,EAAOC,EAAQF,GACfG,EAAWF,EAAK,GAChBG,EAAkBH,EAAK,GAEvBrkB,EAAM,IAAI0kB,EAVhB,SAAsBN,EAAKG,EAAUC,GACnC,OAAuC,GAA9BD,EAAWC,GAAuB,EAAKA,EAS9BG,CAAYP,EAAKG,EAAUC,IAEzCI,EAAU,EAGVjvB,EAAM6uB,EAAkB,EACxBD,EAAW,EACXA,EAGJ,IAAKjyB,EAAI,EAAGA,EAAIqD,EAAKrD,GAAK,EACxBmyB,EACGI,EAAUT,EAAI7iB,WAAWjP,KAAO,GAChCuyB,EAAUT,EAAI7iB,WAAWjP,EAAI,KAAO,GACpCuyB,EAAUT,EAAI7iB,WAAWjP,EAAI,KAAO,EACrCuyB,EAAUT,EAAI7iB,WAAWjP,EAAI,IAC/B0N,EAAI4kB,KAAcH,GAAO,GAAM,IAC/BzkB,EAAI4kB,KAAcH,GAAO,EAAK,IAC9BzkB,EAAI4kB,KAAmB,IAANH,EAGK,IAApBD,IACFC,EACGI,EAAUT,EAAI7iB,WAAWjP,KAAO,EAChCuyB,EAAUT,EAAI7iB,WAAWjP,EAAI,KAAO,EACvC0N,EAAI4kB,KAAmB,IAANH,GAGK,IAApBD,IACFC,EACGI,EAAUT,EAAI7iB,WAAWjP,KAAO,GAChCuyB,EAAUT,EAAI7iB,WAAWjP,EAAI,KAAO,EACpCuyB,EAAUT,EAAI7iB,WAAWjP,EAAI,KAAO,EACvC0N,EAAI4kB,KAAcH,GAAO,EAAK,IAC9BzkB,EAAI4kB,KAAmB,IAANH,GAGnB,OAAOzkB,GA3FT5N,EAAQ4P,cAkHR,SAAwB8iB,GAQtB,IAPA,IAAIL,EACA9uB,EAAMmvB,EAAMvvB,OACZwvB,EAAapvB,EAAM,EACnBqvB,EAAQ,GAIH1yB,EAAI,EAAG2yB,EAAOtvB,EAAMovB,EAAYzyB,EAAI2yB,EAAM3yB,GAH9B,MAInB0yB,EAAM1uB,KAAK4uB,EACTJ,EAAOxyB,EAAIA,EALM,MAKgB2yB,EAAOA,EAAQ3yB,EAL/B,QAUF,IAAfyyB,GACFN,EAAMK,EAAMnvB,EAAM,GAClBqvB,EAAM1uB,KACJ6uB,EAAOV,GAAO,GACdU,EAAQV,GAAO,EAAK,IACpB,OAEsB,IAAfM,IACTN,GAAOK,EAAMnvB,EAAM,IAAM,GAAKmvB,EAAMnvB,EAAM,GAC1CqvB,EAAM1uB,KACJ6uB,EAAOV,GAAO,IACdU,EAAQV,GAAO,EAAK,IACpBU,EAAQV,GAAO,EAAK,IACpB,MAIJ,OAAOO,EAAM5gB,KAAK,KA3IpB,IALA,IAAI+gB,EAAS,GACTN,EAAY,GACZH,EAA4B,oBAAfxqB,WAA6BA,WAAa9D,MAEvDmS,EAAO,mEACFjW,EAAI,EAAGqD,EAAM4S,EAAKhT,OAAQjD,EAAIqD,IAAOrD,EAC5C6yB,EAAO7yB,GAAKiW,EAAKjW,GACjBuyB,EAAUtc,EAAKhH,WAAWjP,IAAMA,EAQlC,SAASgyB,EAASF,GAChB,IAAIzuB,EAAMyuB,EAAI7uB,OAEd,GAAII,EAAM,EAAI,EACZ,MAAM,IAAIjB,MAAM,kDAKlB,IAAI6vB,EAAWH,EAAI3nB,QAAQ,KAO3B,OANkB,IAAd8nB,IAAiBA,EAAW5uB,GAMzB,CAAC4uB,EAJcA,IAAa5uB,EAC/B,EACA,EAAK4uB,EAAW,GAsEtB,SAASW,EAAaJ,EAAO3lB,EAAO/F,GAGlC,IAFA,IAAIqrB,EARoBpK,EASpBkD,EAAS,GACJjrB,EAAI6M,EAAO7M,EAAI8G,EAAK9G,GAAK,EAChCmyB,GACIK,EAAMxyB,IAAM,GAAM,WAClBwyB,EAAMxyB,EAAI,IAAM,EAAK,QACP,IAAfwyB,EAAMxyB,EAAI,IACbirB,EAAOjnB,KAdF6uB,GADiB9K,EAeMoK,IAdT,GAAK,IACxBU,EAAO9K,GAAO,GAAK,IACnB8K,EAAO9K,GAAO,EAAI,IAClB8K,EAAa,GAAN9K,IAaT,OAAOkD,EAAOnZ,KAAK,IAjGrBygB,EAAU,IAAItjB,WAAW,IAAM,GAC/BsjB,EAAU,IAAItjB,WAAW,IAAM,I,cCnB/BnP,EAAQiO,KAAO,SAAUxG,EAAQ8G,EAAQykB,EAAMC,EAAMC,GACnD,IAAIvwB,EAAGrC,EACH6yB,EAAiB,EAATD,EAAcD,EAAO,EAC7BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBE,GAAS,EACTpzB,EAAI8yB,EAAQE,EAAS,EAAK,EAC1B1yB,EAAIwyB,GAAQ,EAAI,EAChB/wB,EAAIwF,EAAO8G,EAASrO,GAOxB,IALAA,GAAKM,EAELmC,EAAIV,GAAM,IAAOqxB,GAAU,EAC3BrxB,KAAQqxB,EACRA,GAASH,EACFG,EAAQ,EAAG3wB,EAAS,IAAJA,EAAW8E,EAAO8G,EAASrO,GAAIA,GAAKM,EAAG8yB,GAAS,GAKvE,IAHAhzB,EAAIqC,GAAM,IAAO2wB,GAAU,EAC3B3wB,KAAQ2wB,EACRA,GAASL,EACFK,EAAQ,EAAGhzB,EAAS,IAAJA,EAAWmH,EAAO8G,EAASrO,GAAIA,GAAKM,EAAG8yB,GAAS,GAEvE,GAAU,IAAN3wB,EACFA,EAAI,EAAI0wB,MACH,IAAI1wB,IAAMywB,EACf,OAAO9yB,EAAIizB,IAAsBld,KAAdpU,GAAK,EAAI,GAE5B3B,GAAQuP,KAAKqE,IAAI,EAAG+e,GACpBtwB,GAAQ0wB,EAEV,OAAQpxB,GAAK,EAAI,GAAK3B,EAAIuP,KAAKqE,IAAI,EAAGvR,EAAIswB,IAG5CjzB,EAAQ+L,MAAQ,SAAUtE,EAAQtG,EAAOoN,EAAQykB,EAAMC,EAAMC,GAC3D,IAAIvwB,EAAGrC,EAAGC,EACN4yB,EAAiB,EAATD,EAAcD,EAAO,EAC7BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBI,EAAe,KAATP,EAAcpjB,KAAKqE,IAAI,GAAI,IAAMrE,KAAKqE,IAAI,GAAI,IAAM,EAC1DhU,EAAI8yB,EAAO,EAAKE,EAAS,EACzB1yB,EAAIwyB,EAAO,GAAK,EAChB/wB,EAAId,EAAQ,GAAgB,IAAVA,GAAe,EAAIA,EAAQ,EAAK,EAAI,EAmC1D,IAjCAA,EAAQ0O,KAAK4jB,IAAItyB,GAEbsM,MAAMtM,IAAUA,IAAUkV,KAC5B/V,EAAImN,MAAMtM,GAAS,EAAI,EACvBwB,EAAIywB,IAEJzwB,EAAIkN,KAAKmF,MAAMnF,KAAKod,IAAI9rB,GAAS0O,KAAK6jB,KAClCvyB,GAASZ,EAAIsP,KAAKqE,IAAI,GAAIvR,IAAM,IAClCA,IACApC,GAAK,IAGLY,GADEwB,EAAI0wB,GAAS,EACNG,EAAKjzB,EAELizB,EAAK3jB,KAAKqE,IAAI,EAAG,EAAImf,IAEpB9yB,GAAK,IACfoC,IACApC,GAAK,GAGHoC,EAAI0wB,GAASD,GACf9yB,EAAI,EACJqC,EAAIywB,GACKzwB,EAAI0wB,GAAS,GACtB/yB,GAAMa,EAAQZ,EAAK,GAAKsP,KAAKqE,IAAI,EAAG+e,GACpCtwB,GAAQ0wB,IAER/yB,EAAIa,EAAQ0O,KAAKqE,IAAI,EAAGmf,EAAQ,GAAKxjB,KAAKqE,IAAI,EAAG+e,GACjDtwB,EAAI,IAIDswB,GAAQ,EAAGxrB,EAAO8G,EAASrO,GAAS,IAAJI,EAAUJ,GAAKM,EAAGF,GAAK,IAAK2yB,GAAQ,GAI3E,IAFAtwB,EAAKA,GAAKswB,EAAQ3yB,EAClB6yB,GAAQF,EACDE,EAAO,EAAG1rB,EAAO8G,EAASrO,GAAS,IAAJyC,EAAUzC,GAAKM,EAAGmC,GAAK,IAAKwwB,GAAQ,GAE1E1rB,EAAO8G,EAASrO,EAAIM,IAAU,IAAJyB,I,6CC9E5B,IAAIyF,EAAS,EAAQ,GAAeA,OAChCzB,EAAO,EAAQ,IAMnBhG,EAAOD,QAAU,WACf,SAAS+Y,KAVX,SAAyB4a,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAI5rB,UAAU,qCAW5G6rB,CAAgBjxB,KAAMmW,GAEtBnW,KAAKkZ,KAAO,KACZlZ,KAAK8Z,KAAO,KACZ9Z,KAAKO,OAAS,EAqDhB,OAlDA4V,EAAWjX,UAAUoC,KAAO,SAAcmC,GACxC,IAAIuc,EAAQ,CAAEtW,KAAMjG,EAAGoW,KAAM,MACzB7Z,KAAKO,OAAS,EAAGP,KAAK8Z,KAAKD,KAAOmG,EAAWhgB,KAAKkZ,KAAO8G,EAC7DhgB,KAAK8Z,KAAOkG,IACVhgB,KAAKO,QAGT4V,EAAWjX,UAAU0Z,QAAU,SAAiBnV,GAC9C,IAAIuc,EAAQ,CAAEtW,KAAMjG,EAAGoW,KAAM7Z,KAAKkZ,MACd,IAAhBlZ,KAAKO,SAAcP,KAAK8Z,KAAOkG,GACnChgB,KAAKkZ,KAAO8G,IACVhgB,KAAKO,QAGT4V,EAAWjX,UAAUwa,MAAQ,WAC3B,GAAoB,IAAhB1Z,KAAKO,OAAT,CACA,IAAIuP,EAAM9P,KAAKkZ,KAAKxP,KAGpB,OAFoB,IAAhB1J,KAAKO,OAAcP,KAAKkZ,KAAOlZ,KAAK8Z,KAAO,KAAU9Z,KAAKkZ,KAAOlZ,KAAKkZ,KAAKW,OAC7E7Z,KAAKO,OACAuP,IAGTqG,EAAWjX,UAAUya,MAAQ,WAC3B3Z,KAAKkZ,KAAOlZ,KAAK8Z,KAAO,KACxB9Z,KAAKO,OAAS,GAGhB4V,EAAWjX,UAAUkQ,KAAO,SAAc/P,GACxC,GAAoB,IAAhBW,KAAKO,OAAc,MAAO,GAG9B,IAFA,IAAInB,EAAIY,KAAKkZ,KACTpJ,EAAM,GAAK1Q,EAAEsK,KACVtK,EAAIA,EAAEya,MACX/J,GAAOzQ,EAAID,EAAEsK,KACd,OAAOoG,GAGVqG,EAAWjX,UAAUsB,OAAS,SAAgBzB,GAC5C,GAAoB,IAAhBiB,KAAKO,OAAc,OAAOuE,EAAOO,MAAM,GAC3C,GAAoB,IAAhBrF,KAAKO,OAAc,OAAOP,KAAKkZ,KAAKxP,KAIxC,IAHA,IApDgB3B,EAAKsH,EAAQ1D,EAoDzBmE,EAAMhL,EAAOoD,YAAYnJ,IAAM,GAC/BK,EAAIY,KAAKkZ,KACT5b,EAAI,EACD8B,GAvDS2I,EAwDH3I,EAAEsK,KAxDM2F,EAwDAS,EAxDQnE,EAwDHrO,EAvD5ByK,EAAIwB,KAAK8F,EAAQ1D,GAwDbrO,GAAK8B,EAAEsK,KAAKnJ,OACZnB,EAAIA,EAAEya,KAER,OAAO/J,GAGFqG,EA3DQ,GA8Db9S,GAAQA,EAAK4L,SAAW5L,EAAK4L,QAAQqc,SACvCjuB,EAAOD,QAAQ8B,UAAUmE,EAAK4L,QAAQqc,QAAU,WAC9C,IAAInoB,EAAME,EAAK4L,QAAQ,CAAE1O,OAAQP,KAAKO,SACtC,OAAOP,KAAKsH,YAAYzJ,KAAO,IAAMsF,K,iCC5EzC,iCAC6B,oBAATgB,MAAwBA,MAChCpB,OACRxB,EAAQuB,SAAS5D,UAAUqC,MAiB/B,SAAS2vB,EAAQC,EAAIC,GACnBpxB,KAAKqxB,IAAMF,EACXnxB,KAAKsxB,SAAWF,EAflBh0B,EAAQ0C,WAAa,WACnB,OAAO,IAAIoxB,EAAQ3vB,EAAM9D,KAAKqC,WAAYyxB,EAAOlwB,WAAYpB,eAE/D7C,EAAQo0B,YAAc,WACpB,OAAO,IAAIN,EAAQ3vB,EAAM9D,KAAK+zB,YAAaD,EAAOlwB,WAAYowB,gBAEhEr0B,EAAQ6C,aACR7C,EAAQq0B,cAAgB,SAAS/wB,GAC3BA,GACFA,EAAQgxB,SAQZR,EAAQhyB,UAAUyyB,MAAQT,EAAQhyB,UAAU0yB,IAAM,aAClDV,EAAQhyB,UAAUwyB,MAAQ,WACxB1xB,KAAKsxB,SAAS7zB,KAAK8zB,EAAOvxB,KAAKqxB,MAIjCj0B,EAAQy0B,OAAS,SAASC,EAAMC,GAC9B9xB,aAAa6xB,EAAKE,gBAClBF,EAAKG,aAAeF,GAGtB30B,EAAQ80B,SAAW,SAASJ,GAC1B7xB,aAAa6xB,EAAKE,gBAClBF,EAAKG,cAAgB,GAGvB70B,EAAQ+0B,aAAe/0B,EAAQg1B,OAAS,SAASN,GAC/C7xB,aAAa6xB,EAAKE,gBAElB,IAAID,EAAQD,EAAKG,aACbF,GAAS,IACXD,EAAKE,eAAiBlyB,YAAW,WAC3BgyB,EAAKO,YACPP,EAAKO,eACNN,KAKP,EAAQ,IAIR30B,EAAQojB,aAAgC,oBAATrc,MAAwBA,KAAKqc,mBAClB,IAAXzS,GAA0BA,EAAOyS,cACxCxgB,MAAQA,KAAKwgB,aACrCpjB,EAAQk1B,eAAkC,oBAATnuB,MAAwBA,KAAKmuB,qBAClB,IAAXvkB,GAA0BA,EAAOukB,gBACxCtyB,MAAQA,KAAKsyB,iB,kCC9DvC,6BACI,aAEA,IAAIvkB,EAAOyS,aAAX,CAIA,IAII+R,EA6HIC,EAZAC,EArBAC,EACAC,EAjGJC,EAAa,EACbC,EAAgB,GAChBC,GAAwB,EACxBxG,EAAMve,EAAOyf,SAoJbuF,EAAW/0B,OAAOua,gBAAkBva,OAAOua,eAAexK,GAC9DglB,EAAWA,GAAYA,EAASjzB,WAAaizB,EAAWhlB,EAGf,qBAArC,GAAG9H,SAASxI,KAAKsQ,EAAOvO,SApFxB+yB,EAAoB,SAASS,GACzBxzB,EAAQ0B,UAAS,WAAc+xB,EAAaD,QAIpD,WAGI,GAAIjlB,EAAOmlB,cAAgBnlB,EAAOolB,cAAe,CAC7C,IAAIC,GAA4B,EAC5BC,EAAetlB,EAAOulB,UAM1B,OALAvlB,EAAOulB,UAAY,WACfF,GAA4B,GAEhCrlB,EAAOmlB,YAAY,GAAI,KACvBnlB,EAAOulB,UAAYD,EACZD,GAwEJG,GAIAxlB,EAAOylB,iBA9CVf,EAAU,IAAIe,gBACVC,MAAMH,UAAY,SAAS3X,GAE/BsX,EADatX,EAAMjS,OAIvB6oB,EAAoB,SAASS,GACzBP,EAAQiB,MAAMR,YAAYF,KA2CvB1G,GAAO,uBAAwBA,EAAIqH,cAAc,WAtCpDnB,EAAOlG,EAAIsH,gBACfrB,EAAoB,SAASS,GAGzB,IAAIa,EAASvH,EAAIqH,cAAc,UAC/BE,EAAOC,mBAAqB,WACxBb,EAAaD,GACba,EAAOC,mBAAqB,KAC5BtB,EAAKuB,YAAYF,GACjBA,EAAS,MAEbrB,EAAKwB,YAAYH,KAKrBtB,EAAoB,SAASS,GACzBlzB,WAAWmzB,EAAc,EAAGD,KAlD5BN,EAAgB,gBAAkBzlB,KAAKgnB,SAAW,IAClDtB,EAAkB,SAAShX,GACvBA,EAAMuY,SAAWnmB,GACK,iBAAf4N,EAAMjS,MACyB,IAAtCiS,EAAMjS,KAAKjC,QAAQirB,IACnBO,GAActX,EAAMjS,KAAKN,MAAMspB,EAAcnyB,UAIjDwN,EAAOomB,iBACPpmB,EAAOomB,iBAAiB,UAAWxB,GAAiB,GAEpD5kB,EAAOqmB,YAAY,YAAazB,GAGpCJ,EAAoB,SAASS,GACzBjlB,EAAOmlB,YAAYR,EAAgBM,EAAQ,OAgEnDD,EAASvS,aA1KT,SAAsBL,GAEI,mBAAbA,IACTA,EAAW,IAAIrd,SAAS,GAAKqd,IAI/B,IADA,IAAIhf,EAAO,IAAIC,MAAMC,UAAUd,OAAS,GAC/BjD,EAAI,EAAGA,EAAI6D,EAAKZ,OAAQjD,IAC7B6D,EAAK7D,GAAK+D,UAAU/D,EAAI,GAG5B,IAAI+2B,EAAO,CAAElU,SAAUA,EAAUhf,KAAMA,GAGvC,OAFA0xB,EAAcD,GAAcyB,EAC5B9B,EAAkBK,GACXA,KA6JTG,EAAST,eAAiBA,EA1J1B,SAASA,EAAeU,UACbH,EAAcG,GAyBzB,SAASC,EAAaD,GAGlB,GAAIF,EAGAhzB,WAAWmzB,EAAc,EAAGD,OACzB,CACH,IAAIqB,EAAOxB,EAAcG,GACzB,GAAIqB,EAAM,CACNvB,GAAwB,EACxB,KAjCZ,SAAauB,GACT,IAAIlU,EAAWkU,EAAKlU,SAChBhf,EAAOkzB,EAAKlzB,KAChB,OAAQA,EAAKZ,QACb,KAAK,EACD4f,IACA,MACJ,KAAK,EACDA,EAAShf,EAAK,IACd,MACJ,KAAK,EACDgf,EAAShf,EAAK,GAAIA,EAAK,IACvB,MACJ,KAAK,EACDgf,EAAShf,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAChC,MACJ,QACIgf,EAAS5e,WAnDrB,EAmDsCJ,IAiBlBP,CAAIyzB,GACN,QACE/B,EAAeU,GACfF,GAAwB,MAvE5C,CAyLkB,oBAAT3uB,UAAyC,IAAX4J,EAAyB/N,KAAO+N,EAAS5J,Q,mDCjIhF,SAASmwB,EAAQz2B,GAEf,IACE,IAAKkQ,EAAOwmB,aAAc,OAAO,EACjC,MAAOpR,GACP,OAAO,EAET,IAAI3Z,EAAMuE,EAAOwmB,aAAa12B,GAC9B,OAAI,MAAQ2L,GACyB,SAA9B4B,OAAO5B,GAAKS,cA5DrB5M,EAAOD,QAoBP,SAAoBsK,EAAI8e,GACtB,GAAI8N,EAAO,iBACT,OAAO5sB,EAGT,IAAIkW,GAAS,EAeb,OAdA,WACE,IAAKA,EAAQ,CACX,GAAI0W,EAAO,oBACT,MAAM,IAAI50B,MAAM8mB,GACP8N,EAAO,oBAChBvW,QAAQ6I,MAAMJ,GAEdzI,QAAQC,KAAKwI,GAEf5I,GAAS,EAEX,OAAOlW,EAAGnG,MAAMvB,KAAMqB,e,8CCf1BhE,EAAOD,QAAUsY,EAEjB,IAAID,EAAY,EAAQ,IAGpBpS,EAAOrF,OAAOY,OAAO,EAAQ,IAMjC,SAAS8W,EAAY/R,GACnB,KAAM3D,gBAAgB0V,GAAc,OAAO,IAAIA,EAAY/R,GAE3D8R,EAAUhY,KAAKuC,KAAM2D,GARvBN,EAAKC,SAAW,EAAQ,GAGxBD,EAAKC,SAASoS,EAAaD,GAQ3BC,EAAYxW,UAAUulB,WAAa,SAAU1M,EAAOvS,EAAUZ,GAC5DA,EAAG,KAAMmT,K,6BC5CX,MAAMyc,EAAW,EAAQ,IACnBC,EAAe,EAAQ,IAsE7Bp3B,EAAOD,QApEP,cAA0Bo3B,EACxB,cACE/G,QACAztB,KAAK00B,QAAU,QACf10B,KAAKolB,WAAY,EACjBplB,KAAK20B,WAAa,KAClB30B,KAAK40B,YAAc,KACnB50B,KAAK60B,aAAe,KACpB70B,KAAK80B,UAAY,KACjB90B,KAAKmlB,MAAQ,CACXO,KAAM,EACNqP,SAAU,GACVC,MAAM,EACNC,QAAQ,EACRC,WAAW,EACXC,eAAe,EACfxP,WAAY,KACZE,WAAY,KACZuP,gBAAiB,EACjBC,OAAQ,EACRC,MAAO,OACPC,OAAQ,UAGZ,IAAK13B,GACH,OAAOmC,KAAKnC,GAEd,QAASwnB,GACP,OAAOrlB,KAAKilB,MAAMI,GAEpB,SAAUA,GACR,OAAOrlB,KAAKklB,OAAOG,GAErB,SAAUxnB,GACR,OAAKA,EACEmC,KAAKmlB,MAAMtnB,GADAmC,KAAKmlB,MAGzB,WAAYM,GACV,GAAIA,aAAgBgP,EAAc,CAChC,KAAOz0B,KAAKglB,QAAQzkB,UAAYP,KAAKglB,QAAQhlB,KAAKglB,QAAQzkB,OAAS,aAAck0B,IAC/EhP,EAAKT,QAAQpM,QAAQ5Y,KAAKglB,QAAQ3F,OAGpC,GADAoO,MAAM+H,WAAW/P,GACbA,EAAKT,QAAQzkB,OAAQ,CACvB,MAAMk1B,EAAehQ,EAAKT,QAAQ,GAAGG,MAC/BA,EAAQ,GACdA,EAAMO,KAAO1lB,KAAKslB,QAAQmQ,EAAa/P,MACvCP,EAAMQ,WAAa3lB,KAAK4lB,SAAS6P,EAAa9P,YAC9CR,EAAMU,WAAa7lB,KAAK4lB,SAAS6P,EAAa5P,YAC9C,IAAK,IAAIuE,KAAQpsB,OAAOkF,KAAKuyB,GAAe,CAC1C,GAA0B,MAAtBA,EAAarL,GAAe,SAChC,IAAIjb,GAAQ,EACZ,IAAK,IAAIumB,KAAQjQ,EAAKT,QACpB,GAAIyQ,EAAarL,KAAUsL,EAAKvQ,MAAMiF,GAAO,CAC3Cjb,GAAQ,EACR,MAGAA,IAAOgW,EAAMiF,GAAQqL,EAAarL,IAExC3E,EAAKN,MAAQA,QAGfsI,MAAM+H,WAAW/P,M,8BCnEvB,cACA,MAAMkQ,EAAS,EAAQ,IACjBtyB,EAAO,EAAQ,IAEfG,EAAW,EAAQ,IAAmBA,SACtCgxB,EAAW,EAAQ,IACnBC,EAAe,EAAQ,IACvBmB,EAAU,EAAQ,IAClBC,EAAQ,EAAQ,IAEhBC,EAAc,CAClB,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACjE,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MACzDC,EAAW,CACfC,EAAG,QACHC,EAAG,SACHC,GAAI,WACJC,IAAK,YACLC,IAAK,QACLC,IAAK,QACLC,IAAK,QACLC,IAAK,OACLC,IAAK,SACLC,IAAK,SACLC,IAAK,SACLC,IAAK,QACLC,IAAK,SACLC,IAAK,SACLC,IAAK,SACLC,IAAK,QACLC,IAAK,QACLC,IAAK,SA6VP,MAAMC,UAAkB1C,EACtB,YAAazP,GACX0I,MAAM1I,GACN/kB,KAAKm3B,MAAQ,GACbn3B,KAAKo3B,YAAc,CAACC,OAAQ,QAAS3C,QAAS,QAAS72B,KAAM,SAE/D,WAAY0W,GACVvU,KAAKo3B,YAAYv5B,MAAQ0W,EAAKhW,MAAMsV,QAAQ,QAAS,KAIzD,MAAMyjB,EACJ,cACEt3B,KAAKq3B,OAAS,KACdr3B,KAAK00B,QAAU,KACf10B,KAAKnC,KAAO,GACZmC,KAAKu3B,MAAQ,GAIjB,MAAMC,UAAmBhD,EACvB,YAAazP,GACX0I,MAAM1I,GACN/kB,KAAKm3B,MAAQ,GACbn3B,KAAKy3B,IAAM,EACXz3B,KAAK03B,KAAO,EACZ13B,KAAK23B,MAAQ,EAEf,WAAYpjB,GACVohB,EAAsB,MAAfphB,EAAKhW,MAAe,QAAU8E,EAAK4L,QAAQsF,IAClDvU,KAAKm3B,MAAM71B,KAAK,CACdm2B,IAAKz3B,KAAKy3B,IACVC,KAAM13B,KAAK03B,KACXC,MAAO33B,KAAK23B,QAEd33B,KAAKy3B,IAAM,EACXz3B,KAAK03B,KAAO,EACZ13B,KAAK23B,MAAQ,GAIjBt6B,EAAOD,QAnYP,cAA6BoG,EAC3B,YAAagqB,GACXC,MAAM,CAACjX,YAAY,IACnBxW,KAAKssB,IAAMkB,EACXxtB,KAAK6tB,YAAc7tB,KAAK43B,SACxB53B,KAAK63B,WAAa,GAClB73B,KAAK83B,MAAQ,KACb93B,KAAKgC,KAAK,YAAa,IAAMhC,KAAK+3B,YAClC/3B,KAAKg4B,SAAW,GAElB,OAAQC,EAAKzyB,EAAUof,GACrB,MAAMlhB,EAAS,OAASu0B,EAAIxuB,KAAKoK,QAAQ,QAAS,CAACsP,EAAG4K,IAASA,EAAKtE,eAChEzpB,KAAK0D,GACP1D,KAAK0D,GAAQu0B,GAEbz4B,EAAQ4C,KAAK,QAAS,uBAAuB61B,EAAIxuB,eAAe/F,KAElEkhB,IAEF,WACE,KAAO5kB,KAAK63B,WAAWt3B,QAAQP,KAAKk4B,eACpC,MAAMzC,EAAez1B,KAAKssB,IAAItH,QAAQzkB,OAASP,KAAKssB,IAAItH,QAAQ,GAAGG,MAAQ,GAC3E,IAAK,IAAIiF,KAAQpsB,OAAOkF,KAAKlD,KAAKssB,IAAInH,OAAQ,CAC5C,IAAIhW,GAAQ,EACZ,IAAK,IAAIgpB,KAAQn4B,KAAKssB,IAAItH,QACxB,GAAIyQ,EAAarL,KAAU+N,EAAKhT,MAAMiF,GAAO,CAC3Cjb,GAAQ,EACR,MAGAA,IAAOnP,KAAKssB,IAAInH,MAAMiF,GAAQqL,EAAarL,KAGnD,gBACE,GAAIpqB,KAAKg4B,SAASz3B,OAAS,EAAG,CAC5B,IAAI63B,EAASp4B,KAAKg4B,SAASnP,IAAIoP,GAAOA,EAAI15B,OAAO6Q,KAAK,IACtDpP,KAAK83B,MAAMtC,WAAW,IAAII,EAAQ,CAChCr3B,MAAOs3B,EAAMwC,OACXvzB,EAAOG,KAAKmzB,EAAQ,OAAQp4B,KAAK83B,MAAM35B,IAAI,eAE/C6B,KAAKg4B,SAAShc,OAAO,IAIzB,iBACEhc,KAAKs4B,gBACDt4B,KAAK83B,OAAO93B,KAAK63B,WAAWv2B,KAAKtB,KAAK83B,OAC1C93B,KAAK83B,MAAQ,IAAItD,EAASx0B,KAAK83B,OAAS93B,KAAKssB,KAE/C,gBACEtsB,KAAKs4B,gBACLt4B,KAAK83B,MAAM1S,WAAY,EAEzB,mBACEplB,KAAKs4B,gBACLt4B,KAAK83B,MAAMtC,WAAW,IAAIf,GAE5B,eACEz0B,KAAKs4B,gBACL,MAAMC,EAAcv4B,KAAK83B,MACzB93B,KAAK83B,MAAQ93B,KAAK63B,WAAWxY,MAC7B,MAAMiN,EAAMtsB,KAAK83B,OAAS93B,KAAKssB,IAC/B,GAAIiM,aAAuBrB,EACzB5K,EAAIrH,MAAQsT,EAAYpB,WACnB,GAAIoB,aAAuBf,EAChClL,EAAIpH,OAASqT,EAAYpB,WACpB,GAAIoB,IAAgBv4B,KAAKssB,MAAQiM,EAAYp6B,IAAI,aAAc,CACpE,IAAK,MAAM2zB,KAAQyG,EAAYvT,QAC7BsH,EAAIkJ,WAAW1D,GAEjBtyB,EAAQ4C,KAAK,QAAS,YAAam2B,EAAY9uB,KAAM8uB,EAAYp6B,IAAI,eAGzE,SAAU85B,GACRj4B,KAAKs4B,gBACAt4B,KAAK83B,QACR93B,KAAK83B,MAAQ93B,KAAKssB,KAEpBtsB,KAAK83B,MAAMtC,WAAW,IAAII,EAAQqC,IAEpC,gBAAiBA,GACfj4B,KAAKs4B,gBACAt4B,KAAK83B,MAAMruB,OAAMzJ,KAAK83B,MAAMruB,KAAOwuB,EAAI15B,OAC5C,MAAMmF,EAAS,QAAUu0B,EAAI15B,MAAMsV,QAAQ,QAAS,CAACsP,EAAG4K,IAASA,EAAKtE,eAClEzpB,KAAK0D,GACP1D,KAAK0D,GAAQu0B,EAAI/I,OAEZlvB,KAAK83B,MAAM35B,IAAI,cAAcqB,EAAQ4C,KAAK,QAASsB,EAAQu0B,EAAI/I,OAGxE,YAAa+I,GACXj4B,KAAKg4B,SAAS12B,KAAK22B,GAErB,UAAWA,GACTj4B,KAAKoC,KAAK,QAAS,IAAI1C,MAAM,UAAYu4B,EAAI15B,OAAS05B,EAAIjK,KAAOiK,EAAIhK,IAAM,YAAcgK,EAAIjK,IAAM,IAAMiK,EAAIhK,IAAM,IAAM,MAG3H,WACEjuB,KAAK83B,MAAQ93B,KAAKssB,IAIpB,YACEtsB,KAAK83B,MAAMtC,WAAW,IAAII,EAAQ,CAAEr3B,MAAO,QAI7C,WACEyB,KAAK83B,MAAMtC,WAAW,IAAII,EAAQ,CAAEr3B,MAAO,QAI7C,UACEyB,KAAK83B,MAAM3S,MAAMmQ,MAAQ,SAE3B,UACEt1B,KAAK83B,MAAM3S,MAAMmQ,MAAQ,UAE3B,UACEt1B,KAAK83B,MAAM3S,MAAMmQ,MAAQ,OAE3B,UACEt1B,KAAK83B,MAAM3S,MAAMmQ,MAAQ,QAI3B,aACEt1B,KAAK83B,MAAM3S,MAAMxiB,IAAM,MAEzB,aACE3C,KAAK83B,MAAM3S,MAAMxiB,IAAM,MAIzB,WACE3C,KAAK83B,MAAMtC,WAAW,IAAIf,GAE5B,YACEz0B,KAAK83B,MAAMU,aAEb,aACEx4B,KAAK83B,MAAM3S,MAAM4P,SAAW/0B,KAAKssB,IAAI/G,SAAS,YAC9CvlB,KAAK83B,MAAM3S,MAAM6P,KAAOh1B,KAAKssB,IAAI/G,SAAS,QAC1CvlB,KAAK83B,MAAM3S,MAAM8P,OAASj1B,KAAKssB,IAAI/G,SAAS,UAC5CvlB,KAAK83B,MAAM3S,MAAM+P,UAAYl1B,KAAKssB,IAAI/G,SAAS,aAEjD,OAAQ9gB,GACNzE,KAAK83B,MAAM3S,MAAM6P,KAAe,IAARvwB,EAE1B,OAAQA,GACNzE,KAAK83B,MAAM3S,MAAM8P,OAAiB,IAARxwB,EAE5B,OAAQ4gB,GACN,IAAIoT,EAAU3zB,EAAOO,MAAQP,EAAOO,MAAM,GAAK,IAAIP,EAAO,GAG1D2zB,EAAQ3lB,aAAauS,EAAK,GAC1BrlB,KAAK83B,MAAMtC,WAAW,IAAII,EAAQ,CAACr3B,MAAOs3B,EAAMwC,OAAOI,EAAS,WAElE,aACEz4B,KAAK83B,MAAM3S,MAAMoQ,OAAS,QAE5B,WACEv1B,KAAK83B,MAAM3S,MAAMoQ,OAAS,MAE5B,kBACEv1B,KAAK83B,MAAM3S,MAAMoQ,OAAS,SAE5B,YAAa9wB,GACXzE,KAAK83B,MAAM3S,MAAMgQ,cAAwB,IAAR1wB,EAEnC,QAASA,GACPzE,KAAK83B,MAAM3S,MAAM+P,UAAoB,IAARzwB,EAE/B,YAAaA,GACXzE,KAAK83B,MAAM3S,MAAM+P,WAAY,EAE/B,QAAS32B,GACPyB,KAAK83B,MAAM3S,MAAMiQ,gBAAkB72B,EAErC,UAAWA,GACTyB,KAAK83B,MAAM3S,MAAMiQ,gBAA0B,IAAR72B,EAErC,QAASA,GACPyB,KAAK83B,MAAM3S,MAAMkQ,OAAS92B,EAE5B,SAAUA,GACRyB,KAAK83B,MAAM3S,MAAMkQ,OAAS92B,EAE5B,UAAWA,GACTyB,KAAK83B,MAAM3S,MAAMkQ,OAAiB,IAAR92B,EAI5B,YACEyB,KAAK83B,MAAMpD,QAAU,QAEvB,WACE10B,KAAK83B,MAAMpD,QAAU,WAEvB,UACE10B,KAAK83B,MAAMpD,QAAU,QAEvB,WACE10B,KAAK83B,MAAMpD,QAAU,QAEvB,aAAcgE,IAC2B,IAAnC5C,EAAYruB,QAAQixB,GACtB14B,KAAKoC,KAAK,QAAS,IAAI1C,MAAM,YAAcg5B,EAAW,uBAEtD14B,KAAK83B,MAAMpD,QAAU,KAAOgE,EAKhC,eACE14B,KAAK83B,MAAQ,IAAIZ,EAAUl3B,KAAK83B,MAAM/S,QAExC,OAAQM,GACN,GAAIrlB,KAAK83B,iBAAiBZ,EACxBl3B,KAAK83B,MAAMV,YAAcp3B,KAAK83B,MAAMX,MAAM9R,GAAO,IAAIiS,OAChD,GAAIt3B,KAAK83B,MAAM/S,kBAAkBmS,EACtCl3B,KAAK83B,MAAM/S,OAAOqS,YAAcp3B,KAAK83B,MAAM/S,OAAOoS,MAAM9R,GAAO,IAAIiS,MAC9D,CACLt3B,KAAK83B,MAAM3S,MAAMO,KAAOL,EAExB,IAAIsT,EAAc34B,KAAK83B,MAAMxS,QAAQD,GAAKqP,QAC1CiE,EAAcA,GAA+B,UAAhBA,EAA0BA,EAAc34B,KAAK83B,MAAMpD,QAChF10B,KAAK83B,MAAMpD,QAAUiE,GAGzB,aACM34B,KAAK83B,iBAAiBZ,GAAal3B,KAAK83B,MAAM/S,kBAAkBmS,KAClEl3B,KAAK83B,MAAM35B,IAAI,eAAek5B,OAAS,OAG3C,eACMr3B,KAAK83B,iBAAiBZ,GAAal3B,KAAK83B,MAAM/S,kBAAkBmS,KAClEl3B,KAAK83B,MAAM35B,IAAI,eAAek5B,OAAS,SAG3C,eACMr3B,KAAK83B,iBAAiBZ,GAAal3B,KAAK83B,MAAM/S,kBAAkBmS,KAClEl3B,KAAK83B,MAAM35B,IAAI,eAAek5B,OAAS,SAG3C,gBACMr3B,KAAK83B,iBAAiBZ,GAAal3B,KAAK83B,MAAM/S,kBAAkBmS,KAClEl3B,KAAK83B,MAAM35B,IAAI,eAAek5B,OAAS,UAG3C,gBACMr3B,KAAK83B,iBAAiBZ,GAAal3B,KAAK83B,MAAM/S,kBAAkBmS,KAClEl3B,KAAK83B,MAAM35B,IAAI,eAAek5B,OAAS,UAG3C,eACMr3B,KAAK83B,iBAAiBZ,GAAal3B,KAAK83B,MAAM/S,kBAAkBmS,KAClEl3B,KAAK83B,MAAM35B,IAAI,eAAek5B,OAAS,SAG3C,cACMr3B,KAAK83B,iBAAiBZ,GAAal3B,KAAK83B,MAAM/S,kBAAkBmS,KAClEl3B,KAAK83B,MAAM35B,IAAI,eAAek5B,OAAS,QAG3C,cACMr3B,KAAK83B,iBAAiBZ,GAAal3B,KAAK83B,MAAM/S,kBAAkBmS,KAClEl3B,KAAK83B,MAAM35B,IAAI,eAAek5B,OAAS,QAG3C,cAAe9jB,GACb,GAAIvT,KAAK83B,iBAAiBZ,GAAal3B,KAAK83B,MAAM/S,kBAAkBmS,EAAW,CAC7E,IAAIxC,EAAU,KAMd,GAJEA,EADW,IAATnhB,EACQvT,KAAK83B,MAAM35B,IAAI,WAEf43B,EAASxiB,GAEN,MAAXmhB,EACF,OAAO10B,KAAKoC,KAAK,QAAS,IAAI1C,MAAM,6BAA+B6T,IAErEvT,KAAK83B,MAAM35B,IAAI,eAAeu2B,QAAUA,GAG5C,UAAW6C,IACLv3B,KAAK83B,iBAAiBZ,GAAal3B,KAAK83B,MAAM/S,kBAAkBmS,KAClEl3B,KAAK83B,MAAM35B,IAAI,eAAeo5B,MAAQA,GAK1C,gBACEv3B,KAAK83B,MAAQ,IAAIN,EAAWx3B,KAAK83B,MAAM/S,QAEzC,SAAUxmB,GACJyB,KAAK83B,iBAAiBN,IACxBx3B,KAAK83B,MAAML,IAAMl5B,GAGrB,UAAWA,GACLyB,KAAK83B,iBAAiBN,IACxBx3B,KAAK83B,MAAMJ,KAAOn5B,GAGtB,WAAYA,GACNyB,KAAK83B,iBAAiBN,IACxBx3B,KAAK83B,MAAMH,MAAQp5B,GAGvB,QAASA,GACPyB,KAAK83B,MAAM3S,MAAMQ,WAAapnB,EAEhC,QAASA,GACPyB,KAAK83B,MAAM3S,MAAMU,WAAatnB,EAEhC,QAASA,GACPyB,KAAK83B,MAAM3S,MAAM4P,SAAWx2B,EAI9B,WAAYA,GACVyB,KAAKssB,IAAIqI,WAAap2B,EAExB,WAAYA,GACVyB,KAAKssB,IAAIsI,YAAcr2B,EAEzB,WAAYA,GACVyB,KAAKssB,IAAIwI,UAAYv2B,EAEvB,WAAYA,GACVyB,KAAKssB,IAAIuI,aAAet2B,EAI1B,gBAAiBA,GACfyB,KAAK83B,MAAM1S,WAAY,EAEzB,UAAW7mB,GACTyB,KAAK83B,MAAM1S,WAAY,EAEzB,aAAc7mB,GACZyB,KAAK83B,MAAM1S,WAAY,M,2DCxX3B,YAEA,IAAIwT,EAAe,EAAQ;;;;;;GAW3B,SAASrqB,EAAQC,EAAG7D,GAClB,GAAI6D,IAAM7D,EACR,OAAO,EAMT,IAHA,IAAI8D,EAAID,EAAEjO,OACNmO,EAAI/D,EAAEpK,OAEDjD,EAAI,EAAGqD,EAAMsM,KAAKC,IAAIuB,EAAGC,GAAIpR,EAAIqD,IAAOrD,EAC/C,GAAIkR,EAAElR,KAAOqN,EAAErN,GAAI,CACjBmR,EAAID,EAAElR,GACNoR,EAAI/D,EAAErN,GACN,MAIJ,OAAImR,EAAIC,GACE,EAENA,EAAID,EACC,EAEF,EAET,SAASvH,EAASyD,GAChB,OAAIoD,EAAOjJ,QAA4C,mBAA3BiJ,EAAOjJ,OAAOoC,SACjC6G,EAAOjJ,OAAOoC,SAASyD,KAEjB,MAALA,IAAaA,EAAE2D,WA+B3B,IAAIjL,EAAO,EAAQ,IACfw1B,EAAS76B,OAAOkB,UAAUC,eAC1B25B,EAAS13B,MAAMlC,UAAUkK,MACzB2vB,EACgC,QAA3B,aAAkBl7B,KAE3B,SAASm7B,EAAW71B,GAClB,OAAOnF,OAAOkB,UAAU+G,SAASxI,KAAK0F,GAExC,SAAS0G,EAAOovB,GACd,OAAI/xB,EAAS+xB,KAGqB,mBAAvBlrB,EAAOpF,cAGgB,mBAAvBA,YAAYkB,OACdlB,YAAYkB,OAAOovB,KAEvBA,IAGDA,aAAkBC,aAGlBD,EAAOp0B,QAAUo0B,EAAOp0B,kBAAkB8D,gBAShD,IAAIgtB,EAASt4B,EAAOD,QAAU+7B,EAO1BC,EAAQ,8BAEZ,SAASC,EAAQC,GACf,GAAKj2B,EAAK2D,WAAWsyB,GAArB,CAGA,GAAIP,EACF,OAAOO,EAAKz7B,KAEd,IACIsR,EADMmqB,EAAKrzB,WACCkJ,MAAMiqB,GACtB,OAAOjqB,GAASA,EAAM,IAyCxB,SAASoqB,EAASl6B,EAAGN,GACnB,MAAiB,iBAANM,EACFA,EAAEkB,OAASxB,EAAIM,EAAIA,EAAE+J,MAAM,EAAGrK,GAE9BM,EAGX,SAAS4P,EAAQuqB,GACf,GAAIT,IAAuB11B,EAAK2D,WAAWwyB,GACzC,OAAOn2B,EAAK4L,QAAQuqB,GAEtB,IAAIC,EAAUJ,EAAQG,GAEtB,MAAO,aADIC,EAAU,KAAOA,EAAU,IACT,IAmB/B,SAASC,EAAKxwB,EAAQywB,EAAU3a,EAAS4a,EAAUC,GACjD,MAAM,IAAIlE,EAAOmE,eAAe,CAC9B9a,QAASA,EACT9V,OAAQA,EACRywB,SAAUA,EACVC,SAAUA,EACVC,mBAAoBA,IAcxB,SAASV,EAAG56B,EAAOygB,GACZzgB,GAAOm7B,EAAKn7B,GAAO,EAAMygB,EAAS,KAAM2W,EAAOwD,IAoCtD,SAASY,EAAW7wB,EAAQywB,EAAUK,EAAQC,GAE5C,GAAI/wB,IAAWywB,EACb,OAAO,EACF,GAAIzyB,EAASgC,IAAWhC,EAASyyB,GACtC,OAAqC,IAA9BprB,EAAQrF,EAAQywB,GAIlB,GAAIt2B,EAAKyD,OAAOoC,IAAW7F,EAAKyD,OAAO6yB,GAC5C,OAAOzwB,EAAOgxB,YAAcP,EAASO,UAKhC,GAAI72B,EAAKsD,SAASuC,IAAW7F,EAAKsD,SAASgzB,GAChD,OAAOzwB,EAAOgrB,SAAWyF,EAASzF,QAC3BhrB,EAAO6E,SAAW4rB,EAAS5rB,QAC3B7E,EAAOixB,YAAcR,EAASQ,WAC9BjxB,EAAOkxB,YAAcT,EAASS,WAC9BlxB,EAAOmxB,aAAeV,EAASU,WAIjC,GAAgB,OAAXnxB,GAAqC,iBAAXA,GACb,OAAbywB,GAAyC,iBAAbA,EASjC,IAAI9vB,EAAOX,IAAWW,EAAO8vB,IACzBX,EAAU9vB,KAAY8vB,EAAUW,MAC9BzwB,aAAkBoxB,cAClBpxB,aAAkBqxB,cAC7B,OACoD,IAD7ChsB,EAAQ,IAAIrJ,WAAWgE,EAAOrE,QACtB,IAAIK,WAAWy0B,EAAS90B,SAQlC,GAAIqC,EAASgC,KAAYhC,EAASyyB,GACvC,OAAO,EAIP,IAAIa,GAFJP,EAAQA,GAAS,CAAC/wB,OAAQ,GAAIywB,SAAU,KAEhBzwB,OAAOzB,QAAQyB,GACvC,OAAqB,IAAjBsxB,GACEA,IAAgBP,EAAMN,SAASlyB,QAAQkyB,KAK7CM,EAAM/wB,OAAO5H,KAAK4H,GAClB+wB,EAAMN,SAASr4B,KAAKq4B,GAUxB,SAAkBnrB,EAAG7D,EAAGqvB,EAAQS,GAC9B,GAAIjsB,eAAiC7D,EACnC,OAAO,EAET,GAAItH,EAAK4D,YAAYuH,IAAMnL,EAAK4D,YAAY0D,GAC1C,OAAO6D,IAAM7D,EACf,GAAIqvB,GAAUh8B,OAAOua,eAAe/J,KAAOxQ,OAAOua,eAAe5N,GAC/D,OAAO,EACT,IAAI+vB,EAAUC,EAAYnsB,GACtBosB,EAAUD,EAAYhwB,GAC1B,GAAK+vB,IAAYE,IAAcF,GAAWE,EACxC,OAAO,EACT,GAAIF,EAGF,OAFAlsB,EAAIsqB,EAAOr7B,KAAK+Q,GAChB7D,EAAImuB,EAAOr7B,KAAKkN,GACTovB,EAAWvrB,EAAG7D,EAAGqvB,GAE1B,IAEIn7B,EAAKvB,EAFLu9B,EAAK53B,EAAWuL,GAChBssB,EAAK73B,EAAW0H,GAIpB,GAAIkwB,EAAGt6B,SAAWu6B,EAAGv6B,OACnB,OAAO,EAKT,IAHAs6B,EAAGE,OACHD,EAAGC,OAEEz9B,EAAIu9B,EAAGt6B,OAAS,EAAGjD,GAAK,EAAGA,IAC9B,GAAIu9B,EAAGv9B,KAAOw9B,EAAGx9B,GACf,OAAO,EAIX,IAAKA,EAAIu9B,EAAGt6B,OAAS,EAAGjD,GAAK,EAAGA,IAE9B,GADAuB,EAAMg8B,EAAGv9B,IACJy8B,EAAWvrB,EAAE3P,GAAM8L,EAAE9L,GAAMm7B,EAAQS,GACtC,OAAO,EAEX,OAAO,EA/CEO,CAAS9xB,EAAQywB,EAAUK,EAAQC,IApC1C,OAAOD,EAAS9wB,IAAWywB,EAAWzwB,GAAUywB,EAwCpD,SAASgB,EAAY37B,GACnB,MAAiD,sBAA1ChB,OAAOkB,UAAU+G,SAASxI,KAAKuB,GAgFxC,SAASi8B,EAAkB/xB,EAAQywB,GACjC,IAAKzwB,IAAWywB,EACd,OAAO,EAGT,GAAgD,mBAA5C37B,OAAOkB,UAAU+G,SAASxI,KAAKk8B,GACjC,OAAOA,EAASjQ,KAAKxgB,GAGvB,IACE,GAAIA,aAAkBywB,EACpB,OAAO,EAET,MAAO55B,IAIT,OAAIL,MAAMw7B,cAAcvB,KAIa,IAA9BA,EAASl8B,KAAK,GAAIyL,GAa3B,SAASiyB,EAAQC,EAAaC,EAAO1B,EAAU3a,GAC7C,IAAI9V,EAEJ,GAAqB,mBAAVmyB,EACT,MAAM,IAAIj2B,UAAU,uCAGE,iBAAbu0B,IACT3a,EAAU2a,EACVA,EAAW,MAGbzwB,EAtBF,SAAmBmyB,GACjB,IAAItc,EACJ,IACEsc,IACA,MAAOt7B,GACPgf,EAAQhf,EAEV,OAAOgf,EAeEuc,CAAUD,GAEnBrc,GAAW2a,GAAYA,EAAS97B,KAAO,KAAO87B,EAAS97B,KAAO,KAAO,MAC1DmhB,EAAU,IAAMA,EAAU,KAEjCoc,IAAgBlyB,GAClBwwB,EAAKxwB,EAAQywB,EAAU,6BAA+B3a,GAGxD,IAAIuc,EAAyC,iBAAZvc,EAE7Bwc,GAAyBJ,GAAelyB,IAAWywB,EASvD,KAV2ByB,GAAe/3B,EAAK0D,QAAQmC,IAInDqyB,GACAN,EAAkB/xB,EAAQywB,IAC1B6B,IACF9B,EAAKxwB,EAAQywB,EAAU,yBAA2B3a,GAG/Coc,GAAelyB,GAAUywB,IACzBsB,EAAkB/xB,EAAQywB,KAAgByB,GAAelyB,EAC5D,MAAMA,EAvVVysB,EAAOmE,eAAiB,SAAwBn2B,GAC9C3D,KAAKnC,KAAO,iBACZmC,KAAKkJ,OAASvF,EAAQuF,OACtBlJ,KAAK25B,SAAWh2B,EAAQg2B,SACxB35B,KAAK45B,SAAWj2B,EAAQi2B,SACpBj2B,EAAQqb,SACVhf,KAAKgf,QAAUrb,EAAQqb,QACvBhf,KAAKy7B,kBAAmB,IAExBz7B,KAAKgf,QA6CT,SAAoB7a,GAClB,OAAOo1B,EAAStqB,EAAQ9K,EAAK+E,QAAS,KAAO,IACtC/E,EAAKy1B,SAAW,IAChBL,EAAStqB,EAAQ9K,EAAKw1B,UAAW,KAhDvB+B,CAAW17B,MAC1BA,KAAKy7B,kBAAmB,GAE1B,IAAI5B,EAAqBl2B,EAAQk2B,oBAAsBH,EACvD,GAAIh6B,MAAMi8B,kBACRj8B,MAAMi8B,kBAAkB37B,KAAM65B,OACzB,CAEL,IAAIl1B,EAAM,IAAIjF,MACd,GAAIiF,EAAIwqB,MAAO,CACb,IAAIpf,EAAMpL,EAAIwqB,MAGVyM,EAAUvC,EAAQQ,GAClB3R,EAAMnY,EAAItI,QAAQ,KAAOm0B,GAC7B,GAAI1T,GAAO,EAAG,CAGZ,IAAI2T,EAAY9rB,EAAItI,QAAQ,KAAMygB,EAAM,GACxCnY,EAAMA,EAAI+rB,UAAUD,EAAY,GAGlC77B,KAAKmvB,MAAQpf,KAMnB1M,EAAKC,SAASqyB,EAAOmE,eAAgBp6B,OA6CrCi2B,EAAO+D,KAAOA,EAYd/D,EAAOwD,GAAKA,EAMZxD,EAAOoG,MAAQ,SAAe7yB,EAAQywB,EAAU3a,GAC1C9V,GAAUywB,GAAUD,EAAKxwB,EAAQywB,EAAU3a,EAAS,KAAM2W,EAAOoG,QAMvEpG,EAAOqG,SAAW,SAAkB9yB,EAAQywB,EAAU3a,GAChD9V,GAAUywB,GACZD,EAAKxwB,EAAQywB,EAAU3a,EAAS,KAAM2W,EAAOqG,WAOjDrG,EAAOsG,UAAY,SAAmB/yB,EAAQywB,EAAU3a,GACjD+a,EAAW7wB,EAAQywB,GAAU,IAChCD,EAAKxwB,EAAQywB,EAAU3a,EAAS,YAAa2W,EAAOsG,YAIxDtG,EAAOuG,gBAAkB,SAAyBhzB,EAAQywB,EAAU3a,GAC7D+a,EAAW7wB,EAAQywB,GAAU,IAChCD,EAAKxwB,EAAQywB,EAAU3a,EAAS,kBAAmB2W,EAAOuG,kBAuH9DvG,EAAOwG,aAAe,SAAsBjzB,EAAQywB,EAAU3a,GACxD+a,EAAW7wB,EAAQywB,GAAU,IAC/BD,EAAKxwB,EAAQywB,EAAU3a,EAAS,eAAgB2W,EAAOwG,eAI3DxG,EAAOyG,mBACP,SAASA,EAAmBlzB,EAAQywB,EAAU3a,GACxC+a,EAAW7wB,EAAQywB,GAAU,IAC/BD,EAAKxwB,EAAQywB,EAAU3a,EAAS,qBAAsBod,IAQ1DzG,EAAO0G,YAAc,SAAqBnzB,EAAQywB,EAAU3a,GACtD9V,IAAWywB,GACbD,EAAKxwB,EAAQywB,EAAU3a,EAAS,MAAO2W,EAAO0G,cAOlD1G,EAAO2G,eAAiB,SAAwBpzB,EAAQywB,EAAU3a,GAC5D9V,IAAWywB,GACbD,EAAKxwB,EAAQywB,EAAU3a,EAAS,MAAO2W,EAAO2G,iBA+ElD3G,EAAO4G,OAAS,SAASlB,EAAmBtc,EAAmBC,GAC7Dmc,GAAQ,EAAME,EAAOtc,EAAOC,IAI9B2W,EAAO6G,aAAe,SAASnB,EAAmBtc,EAAmBC,GACnEmc,GAAQ,EAAOE,EAAOtc,EAAOC,IAG/B2W,EAAO8G,QAAU,SAAS93B,GAAO,GAAIA,EAAK,MAAMA,GAMhDgxB,EAAOqE,OAASpB,GAHhB,SAASoB,EAAOz7B,EAAOygB,GAChBzgB,GAAOm7B,EAAKn7B,GAAO,EAAMygB,EAAS,KAAMgb,KAEVrE,EAAQ,CAC3CoG,MAAOpG,EAAO0G,YACdJ,UAAWtG,EAAOuG,gBAClBF,SAAUrG,EAAO2G,eACjBH,aAAcxG,EAAOyG,qBAEvBzG,EAAOqE,OAAOA,OAASrE,EAAOqE,OAE9B,IAAI/2B,EAAajF,OAAOkF,MAAQ,SAAUC,GACxC,IAAID,EAAO,GACX,IAAK,IAAIrE,KAAOsE,EACV01B,EAAOp7B,KAAK0F,EAAKtE,IAAMqE,EAAK5B,KAAKzC,GAEvC,OAAOqE,K;;;;;EChfT,IAAI0Z,EAAwB5e,OAAO4e,sBAC/Bzd,EAAiBnB,OAAOkB,UAAUC,eAClCu9B,EAAmB1+B,OAAOkB,UAAUy9B,qBAExC,SAASC,EAASpzB,GACjB,GAAIA,QACH,MAAM,IAAIpE,UAAU,yDAGrB,OAAOpH,OAAOwL,GA+CfnM,EAAOD,QA5CP,WACC,IACC,IAAKY,OAAOwnB,OACX,OAAO,EAMR,IAAIqX,EAAQ,IAAIzxB,OAAO,OAEvB,GADAyxB,EAAM,GAAK,KACkC,MAAzC7+B,OAAO6e,oBAAoBggB,GAAO,GACrC,OAAO,EAKR,IADA,IAAIC,EAAQ,GACHx/B,EAAI,EAAGA,EAAI,GAAIA,IACvBw/B,EAAM,IAAM1xB,OAAOwC,aAAatQ,IAAMA,EAKvC,GAAwB,eAHXU,OAAO6e,oBAAoBigB,GAAOjU,KAAI,SAAU9pB,GAC5D,OAAO+9B,EAAM/9B,MAEHqQ,KAAK,IACf,OAAO,EAIR,IAAI2tB,EAAQ,GAIZ,MAHA,uBAAuB3T,MAAM,IAAInB,SAAQ,SAAU+U,GAClDD,EAAMC,GAAUA,KAGf,yBADEh/B,OAAOkF,KAAKlF,OAAOwnB,OAAO,GAAIuX,IAAQ3tB,KAAK,IAM9C,MAAOzK,GAER,OAAO,GAIQs4B,GAAoBj/B,OAAOwnB,OAAS,SAAUnW,EAAQ6kB,GAKtE,IAJA,IAAIjvB,EAEAi4B,EADAC,EAAKP,EAASvtB,GAGThQ,EAAI,EAAGA,EAAIgC,UAAUd,OAAQlB,IAAK,CAG1C,IAAK,IAAIR,KAFToG,EAAOjH,OAAOqD,UAAUhC,IAGnBF,EAAe1B,KAAKwH,EAAMpG,KAC7Bs+B,EAAGt+B,GAAOoG,EAAKpG,IAIjB,GAAI+d,EAAuB,CAC1BsgB,EAAUtgB,EAAsB3X,GAChC,IAAK,IAAI3H,EAAI,EAAGA,EAAI4/B,EAAQ38B,OAAQjD,IAC/Bo/B,EAAiBj/B,KAAKwH,EAAMi4B,EAAQ5/B,MACvC6/B,EAAGD,EAAQ5/B,IAAM2H,EAAKi4B,EAAQ5/B,MAMlC,OAAO6/B,I,cCxFR9/B,EAAOD,QAAU,SAAkB+I,GACjC,OAAOA,GAAsB,iBAARA,GACI,mBAAbA,EAAIoD,MACS,mBAAbpD,EAAIZ,MACc,mBAAlBY,EAAI8K,Y,cCJW,mBAAlBjT,OAAOY,OAEhBvB,EAAOD,QAAU,SAAkB+J,EAAMC,GACvCD,EAAKE,OAASD,EACdD,EAAKjI,UAAYlB,OAAOY,OAAOwI,EAAUlI,UAAW,CAClDoI,YAAa,CACX/I,MAAO4I,EACPjJ,YAAY,EACZ2F,UAAU,EACV0D,cAAc,MAMpBlK,EAAOD,QAAU,SAAkB+J,EAAMC,GACvCD,EAAKE,OAASD,EACd,IAAII,EAAW,aACfA,EAAStI,UAAYkI,EAAUlI,UAC/BiI,EAAKjI,UAAY,IAAIsI,EACrBL,EAAKjI,UAAUoI,YAAcH,I,6BCVjC9J,EAAOD,QARP,MACE,YAAa0oB,GACNA,IAAMA,EAAO,IAClB9lB,KAAKzB,MAAQunB,EAAKvnB,MAClByB,KAAKmlB,MAAQW,EAAKX,OAAS,M,8BCN/B,YAIA,IAAIrgB,EAAS,EAAQ,GAAgBA,OAEjCs4B,EAAc,EAAQ,IACtBvH,EAAQx4B,EAAOD,QAInBy4B,EAAMwH,UAAY,KAGlBxH,EAAMyH,mBAAqB,IAC3BzH,EAAM0H,sBAAwB,IAG9B1H,EAAM2H,OAAS,SAAgBnxB,EAAK7G,EAAU7B,GAC1C0I,EAAM,IAAMA,GAAO,IAEnB,IAAIoxB,EAAU5H,EAAM6H,WAAWl4B,EAAU7B,GAErCwJ,EAAMswB,EAAQt0B,MAAMkD,GACpBsxB,EAAQF,EAAQr5B,MAEpB,OAAQu5B,GAASA,EAAMp9B,OAAS,EAAKuE,EAAOtE,OAAO,CAAC2M,EAAKwwB,IAAUxwB,GAGvE0oB,EAAMwC,OAAS,SAAgB3yB,EAAKF,EAAU7B,GACvB,iBAAR+B,IACFmwB,EAAM+H,oBACP7f,QAAQgB,MAAM,4IACd8W,EAAM+H,mBAAoB,GAG9Bl4B,EAAMZ,EAAOG,KAAK,IAAMS,GAAO,IAAK,WAGxC,IAAIiS,EAAUke,EAAMgI,WAAWr4B,EAAU7B,GAErCwJ,EAAMwK,EAAQxO,MAAMzD,GACpBi4B,EAAQhmB,EAAQvT,MAEpB,OAAOu5B,EAASxwB,EAAMwwB,EAASxwB,GAGnC0oB,EAAMiI,eAAiB,SAAwB5pB,GAC3C,IAEI,OADA2hB,EAAMkI,SAAS7pB,IACR,EACT,MAAOnU,GACL,OAAO,IAKf81B,EAAMmI,WAAanI,EAAM2H,OACzB3H,EAAMoI,aAAepI,EAAMwC,OAG3BxC,EAAMqI,gBAAkB,GACxBrI,EAAMkI,SAAW,SAAkBv4B,GAC1BqwB,EAAMwH,YACPxH,EAAMwH,UAAY,EAAQ,KAO9B,IAJA,IAAInpB,EAAM2hB,EAAMsI,sBAAsB34B,GAGlC44B,EAAe,KACN,CACT,IAAIC,EAAQxI,EAAMqI,gBAAgBhqB,GAClC,GAAImqB,EACA,OAAOA,EAEX,IAAIC,EAAWzI,EAAMwH,UAAUnpB,GAE/B,cAAeoqB,GACX,IAAK,SACDpqB,EAAMoqB,EACN,MAEJ,IAAK,SACD,IAAK,IAAIz/B,KAAOy/B,EACZF,EAAav/B,GAAOy/B,EAASz/B,GAE5Bu/B,EAAaG,eACdH,EAAaG,aAAerqB,GAEhCA,EAAMoqB,EAAS70B,KACf,MAEJ,IAAK,WASD,OARK20B,EAAaG,eACdH,EAAaG,aAAerqB,GAIhCmqB,EAAQ,IAAIC,EAASF,EAAcvI,GAEnCA,EAAMqI,gBAAgBE,EAAaG,cAAgBF,EAC5CA,EAEX,QACI,MAAM,IAAI3+B,MAAM,6BAA+B8F,EAAW,oBAAoB0O,EAAI,SAKlG2hB,EAAMsI,sBAAwB,SAAS34B,GAEnC,OAAQ,GAAGA,GAAUyE,cAAc4J,QAAQ,qBAAsB,KAGrEgiB,EAAM6H,WAAa,SAAoBl4B,EAAU7B,GAC7C,IAAI06B,EAAQxI,EAAMkI,SAASv4B,GACvBi4B,EAAU,IAAIY,EAAMZ,QAAQ95B,EAAS06B,GAKzC,OAHIA,EAAMG,UAAY76B,GAAWA,EAAQ86B,SACrChB,EAAU,IAAIL,EAAYsB,WAAWjB,EAAS95B,IAE3C85B,GAGX5H,EAAMgI,WAAa,SAAoBr4B,EAAU7B,GAC7C,IAAI06B,EAAQxI,EAAMkI,SAASv4B,GACvBmS,EAAU,IAAI0mB,EAAM1mB,QAAQhU,EAAS06B,GAKzC,OAHIA,EAAMG,UAAc76B,IAAgC,IAArBA,EAAQg7B,WACvChnB,EAAU,IAAIylB,EAAYwB,SAASjnB,EAAShU,IAEzCgU,GAKX,IAAIknB,OAA6B,IAAZr/B,GAA2BA,EAAQqC,UAAYrC,EAAQqC,SAAS4jB,KACrF,GAAIoZ,EAAS,CAGT,IAAIC,EAAaD,EAAQzV,MAAM,KAAKP,IAAIjd,SACpCkzB,EAAW,GAAK,GAAKA,EAAW,IAAM,KACtC,EAAQ,GAAR,CAAqBjJ,GAIzB,EAAQ,GAAR,CAAyBA,M,8CC9I7B,SAASkJ,EAAkBtB,EAAS95B,GAChC3D,KAAKy9B,QAAUA,EACfz9B,KAAKy+B,QAAS,EAoBlB,SAASO,EAAgBrnB,EAAShU,GAC9B3D,KAAK2X,QAAUA,EACf3X,KAAKi/B,MAAO,EACZj/B,KAAK2D,QAAUA,GAAW,GA1B9BvG,EAAQshC,WAAaK,EAMrBA,EAAkB7/B,UAAUiK,MAAQ,SAASkD,GAMzC,OALIrM,KAAKy+B,SACLpyB,EAVM,SAUUA,EAChBrM,KAAKy+B,QAAS,GAGXz+B,KAAKy9B,QAAQt0B,MAAMkD,IAG9B0yB,EAAkB7/B,UAAUkF,IAAM,WAC9B,OAAOpE,KAAKy9B,QAAQr5B,OAMxBhH,EAAQwhC,SAAWI,EAOnBA,EAAgB9/B,UAAUiK,MAAQ,SAASzD,GACvC,IAAIyH,EAAMnN,KAAK2X,QAAQxO,MAAMzD,GAC7B,OAAI1F,KAAKi/B,OAAS9xB,EACPA,GAlCD,WAoCNA,EAAI,KACJA,EAAMA,EAAI/D,MAAM,GACqB,mBAA1BpJ,KAAK2D,QAAQg7B,UACpB3+B,KAAK2D,QAAQg7B,YAGrB3+B,KAAKi/B,MAAO,EACL9xB,IAGX6xB,EAAgB9/B,UAAUkF,IAAM,WAC5B,OAAOpE,KAAK2X,QAAQvT,Q,6BCjCxB,IAZA,IAAI5G,EAAU,CACV,EAAQ,IACR,EAAQ,IACR,EAAQ,IACR,EAAQ,IACR,EAAQ,IACR,EAAQ,IACR,EAAQ,IACR,EAAQ,KAIHF,EAAI,EAAGA,EAAIE,EAAQ+C,OAAQjD,IAAK,CACjCD,EAASG,EAAQF,GACrB,IAAK,IAAI4W,KAAO7W,EACRW,OAAOkB,UAAUC,eAAe1B,KAAKJ,EAAQ6W,KAC7C9W,EAAQ8W,GAAO7W,EAAO6W,M,6BCnBlC,IAAIpP,EAAS,EAAQ,GAAgBA,OAuBrC,SAASo6B,EAAcd,EAAcvI,GACjC71B,KAAKkU,IAAMkqB,EAAaG,aACxBv+B,KAAKw+B,SAAWJ,EAAaI,SAEZ,WAAbx+B,KAAKkU,IACLlU,KAAKy9B,QAAU0B,EACG,UAAbn/B,KAAKkU,MACVlU,KAAKkU,IAAM,OACXlU,KAAKy9B,QAAU2B,EAGuC,OAAlDt6B,EAAOG,KAAK,eAAgB,OAAOgB,aACnCjG,KAAK2X,QAAU0nB,EACfr/B,KAAKs9B,mBAAqBzH,EAAMyH,qBAhC5CjgC,EAAOD,QAAU,CAEbkiC,KAAQ,CAAE71B,KAAM,YAAa+0B,UAAU,GACvCe,MAAQ,CAAE91B,KAAM,YAAa+0B,UAAU,GACvCgB,cAAe,OAEfC,KAAQ,CAAEh2B,KAAM,YAAa+0B,UAAU,GACvCkB,QAAS,OAETC,OAAQ,CAAEl2B,KAAM,aAChBpB,OAAQ,CAAEoB,KAAM,aAChBm2B,IAAQ,CAAEn2B,KAAM,aAGhBo2B,UAAWX,GAuBfA,EAAchgC,UAAUu+B,QAAUqC,EAClCZ,EAAchgC,UAAUyY,QAAUooB,EAKlC,IAAI/rB,EAAgB,EAAQ,GAAkBA,cAM9C,SAAS+rB,EAAgBp8B,EAAS06B,GAC9BrqB,EAAcvW,KAAKuC,KAAMq+B,EAAMnqB,KASnC,SAAS4rB,EAAgBn8B,EAAS06B,GAC9Br+B,KAAKkU,IAAMmqB,EAAMnqB,IAcrB,SAASirB,EAAsBx7B,EAAS06B,GACpCr+B,KAAKggC,QAAU,GAoBnB,SAASZ,EAAqBz7B,EAAS06B,IA8BvC,SAASgB,EAAqB17B,EAAS06B,GACnCr+B,KAAKigC,IAAM,EACXjgC,KAAKkgC,UAAY,EACjBlgC,KAAKmgC,SAAW,EAChBngC,KAAKs9B,mBAAqBe,EAAMf,mBApF/BtpB,EAAc9U,UAAUkF,MACzB4P,EAAc9U,UAAUkF,IAAM,cAOlC27B,EAAgB7gC,UAAY8U,EAAc9U,UAU1C4gC,EAAgB5gC,UAAUiK,MAAQ,SAASkD,GACvC,OAAOvH,EAAOG,KAAKoH,EAAKrM,KAAKkU,MAGjC4rB,EAAgB5gC,UAAUkF,IAAM,aAWhC+6B,EAAsBjgC,UAAUiK,MAAQ,SAASkD,GAE7C,IAAI+zB,GADJ/zB,EAAMrM,KAAKggC,QAAU3zB,GACG9L,OAAU8L,EAAI9L,OAAS,EAI/C,OAHAP,KAAKggC,QAAU3zB,EAAIjD,MAAMg3B,GACzB/zB,EAAMA,EAAIjD,MAAM,EAAGg3B,GAEZt7B,EAAOG,KAAKoH,EAAK,WAG5B8yB,EAAsBjgC,UAAUkF,IAAM,WAClC,OAAOU,EAAOG,KAAKjF,KAAKggC,QAAS,WAUrCZ,EAAqBlgC,UAAUiK,MAAQ,SAASkD,GAE5C,IADA,IAAI3G,EAAMZ,EAAOO,MAAmB,EAAbgH,EAAI9L,QAAa8/B,EAAS,EACxC/iC,EAAI,EAAGA,EAAI+O,EAAI9L,OAAQjD,IAAK,CACjC,IAAIgjC,EAAWj0B,EAAIE,WAAWjP,GAG1BgjC,EAAW,IACX56B,EAAI26B,KAAYC,EACXA,EAAW,MAChB56B,EAAI26B,KAAY,KAAQC,IAAa,GACrC56B,EAAI26B,KAAY,KAAmB,GAAXC,KAGxB56B,EAAI26B,KAAY,KAAQC,IAAa,IACrC56B,EAAI26B,KAAY,KAASC,IAAa,EAAK,IAC3C56B,EAAI26B,KAAY,KAAmB,GAAXC,IAGhC,OAAO56B,EAAI0D,MAAM,EAAGi3B,IAGxBjB,EAAqBlgC,UAAUkF,IAAM,aAarCi7B,EAAqBngC,UAAUiK,MAAQ,SAASzD,GAG5C,IAFA,IAAIu6B,EAAMjgC,KAAKigC,IAAKC,EAAYlgC,KAAKkgC,UAAWC,EAAWngC,KAAKmgC,SAC5DhzB,EAAM,GACD7P,EAAI,EAAGA,EAAIoI,EAAInF,OAAQjD,IAAK,CACjC,IAAIsyB,EAAUlqB,EAAIpI,GACO,MAAV,IAAVsyB,IACGsQ,EAAY,IACZ/yB,GAAOnN,KAAKs9B,mBACZ4C,EAAY,GAGZtQ,EAAU,IACVziB,GAAO/B,OAAOwC,aAAagiB,GACpBA,EAAU,KACjBqQ,EAAgB,GAAVrQ,EACNsQ,EAAY,EAAGC,EAAW,GACnBvQ,EAAU,KACjBqQ,EAAgB,GAAVrQ,EACNsQ,EAAY,EAAGC,EAAW,GAE1BhzB,GAAOnN,KAAKs9B,oBAGZ4C,EAAY,GACZD,EAAOA,GAAO,EAAgB,GAAVrQ,EACPuQ,IACK,MADlBD,IAIQ/yB,GADa,IAAbgzB,GAAkBF,EAAM,KAAQA,EAAM,EAC/BjgC,KAAKs9B,mBACM,IAAb6C,GAAkBF,EAAM,KACtBjgC,KAAKs9B,mBAGLlyB,OAAOwC,aAAaqyB,KAGnC9yB,GAAOnN,KAAKs9B,mBAKxB,OADAt9B,KAAKigC,IAAMA,EAAKjgC,KAAKkgC,UAAYA,EAAWlgC,KAAKmgC,SAAWA,EACrDhzB,GAGXkyB,EAAqBngC,UAAUkF,IAAM,WACjC,IAAI+I,EAAM,EAGV,OAFInN,KAAKkgC,UAAY,IACjB/yB,GAAOnN,KAAKs9B,oBACTnwB,I,6BCzLX,IAAIrI,EAAS,EAAQ,GAAgBA,OAOrC,SAASy7B,KAUT,SAASC,KAiBT,SAASC,IACLzgC,KAAK0gC,cAAgB,EAuCzB,SAASC,EAAWvC,EAAcvI,GAC9B71B,KAAK61B,MAAQA,EASjB,SAAS+K,EAAaj9B,EAAS06B,QAEJ/5B,KADvBX,EAAUA,GAAW,IACT86B,SACR96B,EAAQ86B,QAAS,GACrBz+B,KAAKy9B,QAAUY,EAAMxI,MAAM6H,WAAW,WAAY/5B,GActD,SAASk9B,EAAal9B,EAAS06B,GAC3Br+B,KAAK2X,QAAU,KACf3X,KAAK8gC,aAAe,GACpB9gC,KAAK+gC,gBAAkB,EAEvB/gC,KAAK2D,QAAUA,GAAW,GAC1B3D,KAAK61B,MAAQwI,EAAMxI,MAoCvB,SAASmL,EAAet7B,EAAK8R,GACzB,IAAItD,EAAMsD,GAAmB,WAE7B,GAAI9R,EAAInF,QAAU,EAEd,GAAc,KAAVmF,EAAI,IAAwB,KAAVA,EAAI,GACtBwO,EAAM,gBACL,GAAc,KAAVxO,EAAI,IAAwB,KAAVA,EAAI,GAC3BwO,EAAM,eACL,CAOD,IAHA,IAAI+sB,EAAe,EAAGC,EAAe,EACjCC,EAAOl0B,KAAKC,IAAIxH,EAAInF,OAAUmF,EAAInF,OAAS,EAAI,IAE1CjD,EAAI,EAAGA,EAAI6jC,EAAM7jC,GAAK,EACZ,IAAXoI,EAAIpI,IAAyB,IAAboI,EAAIpI,EAAE,IAAU4jC,IACrB,IAAXx7B,EAAIpI,IAAyB,IAAboI,EAAIpI,EAAE,IAAU2jC,IAGpCC,EAAeD,EACf/sB,EAAM,WACDgtB,EAAeD,IACpB/sB,EAAM,YAIlB,OAAOA,EAtKX9W,EAAQgkC,QAAUb,EAIlBA,EAAarhC,UAAUu+B,QAAU+C,EACjCD,EAAarhC,UAAUyY,QAAU8oB,EACjCF,EAAarhC,UAAUs/B,UAAW,EAQlCgC,EAAethC,UAAUiK,MAAQ,SAASkD,GAEtC,IADA,IAAI3G,EAAMZ,EAAOG,KAAKoH,EAAK,QAClB/O,EAAI,EAAGA,EAAIoI,EAAInF,OAAQjD,GAAK,EAAG,CACpC,IAAImyB,EAAM/pB,EAAIpI,GAAIoI,EAAIpI,GAAKoI,EAAIpI,EAAE,GAAIoI,EAAIpI,EAAE,GAAKmyB,EAEpD,OAAO/pB,GAGX86B,EAAethC,UAAUkF,IAAM,aAU/Bq8B,EAAevhC,UAAUiK,MAAQ,SAASzD,GACtC,GAAkB,GAAdA,EAAInF,OACJ,MAAO,GAEX,IAAI8gC,EAAOv8B,EAAOO,MAAMK,EAAInF,OAAS,GACjCjD,EAAI,EAAGmO,EAAI,EAQf,KAN2B,IAAvBzL,KAAK0gC,eACLW,EAAK,GAAK37B,EAAI,GACd27B,EAAK,GAAKrhC,KAAK0gC,aACfpjC,EAAI,EAAGmO,EAAI,GAGRnO,EAAIoI,EAAInF,OAAO,EAAGjD,GAAK,EAAGmO,GAAI,EACjC41B,EAAK51B,GAAK/F,EAAIpI,EAAE,GAChB+jC,EAAK51B,EAAE,GAAK/F,EAAIpI,GAKpB,OAFA0C,KAAK0gC,aAAgBpjC,GAAKoI,EAAInF,OAAO,EAAKmF,EAAIA,EAAInF,OAAO,IAAM,EAExD8gC,EAAKj4B,MAAM,EAAGqC,GAAGxF,SAAS,SAGrCw6B,EAAevhC,UAAUkF,IAAM,aAY/BhH,EAAQkkC,MAAQX,EAKhBA,EAAWzhC,UAAUu+B,QAAUmD,EAC/BD,EAAWzhC,UAAUyY,QAAUkpB,EAY/BD,EAAa1hC,UAAUiK,MAAQ,SAASkD,GACpC,OAAOrM,KAAKy9B,QAAQt0B,MAAMkD,IAG9Bu0B,EAAa1hC,UAAUkF,IAAM,WACzB,OAAOpE,KAAKy9B,QAAQr5B,OAexBy8B,EAAa3hC,UAAUiK,MAAQ,SAASzD,GACpC,IAAK1F,KAAK2X,QAAS,CAKf,GAHA3X,KAAK8gC,aAAax/B,KAAKoE,GACvB1F,KAAK+gC,iBAAmBr7B,EAAInF,OAExBP,KAAK+gC,gBAAkB,GACvB,MAAO,GAGX,IACIv7B,EAAWw7B,EADXt7B,EAAMZ,EAAOtE,OAAOR,KAAK8gC,cACM9gC,KAAK2D,QAAQ6T,iBAChDxX,KAAK2X,QAAU3X,KAAK61B,MAAMgI,WAAWr4B,EAAUxF,KAAK2D,SACpD3D,KAAK8gC,aAAavgC,OAASP,KAAK+gC,gBAAkB,EAGtD,OAAO/gC,KAAK2X,QAAQxO,MAAMzD,IAG9Bm7B,EAAa3hC,UAAUkF,IAAM,WACzB,IAAKpE,KAAK2X,QAAS,CACf,IAAIjS,EAAMZ,EAAOtE,OAAOR,KAAK8gC,cACzBt7B,EAAWw7B,EAAet7B,EAAK1F,KAAK2D,QAAQ6T,iBAChDxX,KAAK2X,QAAU3X,KAAK61B,MAAMgI,WAAWr4B,EAAUxF,KAAK2D,SAEpD,IAAIwJ,EAAMnN,KAAK2X,QAAQxO,MAAMzD,GACzBi4B,EAAQ39B,KAAK2X,QAAQvT,MAEzB,OAAOu5B,EAASxwB,EAAMwwB,EAASxwB,EAEnC,OAAOnN,KAAK2X,QAAQvT,Q,6BC7IxB,IAAIU,EAAS,EAAQ,GAAgBA,OAOrC,SAASy8B,EAAUnD,EAAcvI,GAC7B71B,KAAK61B,MAAQA,EAHjBz4B,EAAQokC,KAAOD,EACfnkC,EAAQqkC,cAAgB,OAKxBF,EAAUriC,UAAUu+B,QAAUiE,EAC9BH,EAAUriC,UAAUyY,QAAUgqB,EAC9BJ,EAAUriC,UAAUs/B,UAAW,EAK/B,IAAIoD,EAAiB,sCAErB,SAASF,EAAY/9B,EAAS06B,GAC1Br+B,KAAK61B,MAAQwI,EAAMxI,MAmBvB,SAAS8L,EAAYh+B,EAAS06B,GAC1Br+B,KAAK61B,MAAQwI,EAAMxI,MACnB71B,KAAK6hC,UAAW,EAChB7hC,KAAK8hC,YAAc,GAnBvBJ,EAAYxiC,UAAUiK,MAAQ,SAASkD,GAGnC,OAAOvH,EAAOG,KAAKoH,EAAIwH,QAAQ+tB,EAAgB,SAAS7pB,GACpD,MAAO,KAAiB,MAAVA,EAAgB,GAC1B/X,KAAK61B,MAAM2H,OAAOzlB,EAAO,YAAY9R,SAAS,UAAU4N,QAAQ,MAAO,KACrE,KACR/U,KAAKkB,SAGX0hC,EAAYxiC,UAAUkF,IAAM,aAc5B,IAFA,IAAI29B,EAAc,iBACdC,EAAc,GACT1kC,EAAI,EAAGA,EAAI,IAAKA,IACrB0kC,EAAY1kC,GAAKykC,EAAYrY,KAAKte,OAAOwC,aAAatQ,IAE1D,IAAI2kC,EAAW,IAAI11B,WAAW,GAC1B21B,EAAY,IAAI31B,WAAW,GAC3B41B,EAAU,IAAI51B,WAAW,GA8E7B,SAAS61B,EAAchE,EAAcvI,GACjC71B,KAAK61B,MAAQA,EAUjB,SAASwM,EAAgB1+B,EAAS06B,GAC9Br+B,KAAK61B,MAAQwI,EAAMxI,MACnB71B,KAAK6hC,UAAW,EAChB7hC,KAAK8hC,YAAch9B,EAAOO,MAAM,GAChCrF,KAAKsiC,eAAiB,EAsE1B,SAASC,EAAgB5+B,EAAS06B,GAC9Br+B,KAAK61B,MAAQwI,EAAMxI,MACnB71B,KAAK6hC,UAAW,EAChB7hC,KAAK8hC,YAAc,GApKvBH,EAAYziC,UAAUiK,MAAQ,SAASzD,GAOnC,IANA,IAAIyH,EAAM,GAAIq1B,EAAQ,EAClBX,EAAW7hC,KAAK6hC,SAChBC,EAAc9hC,KAAK8hC,YAIdxkC,EAAI,EAAGA,EAAIoI,EAAInF,OAAQjD,IAC5B,GAAKukC,GAQD,IAAKG,EAAYt8B,EAAIpI,IAAK,CACtB,GAAIA,GAAKklC,GAAS98B,EAAIpI,IAAM4kC,EACxB/0B,GAAO,QACJ,CACH,IAAIs1B,EAASX,EAAcp8B,EAAI0D,MAAMo5B,EAAOllC,GAAG2I,WAC/CkH,GAAOnN,KAAK61B,MAAMwC,OAAOvzB,EAAOG,KAAKw9B,EAAQ,UAAW,YAGxD/8B,EAAIpI,IAAM4kC,GACV5kC,IAEJklC,EAAQllC,EAAE,EACVukC,GAAW,EACXC,EAAc,SAnBdp8B,EAAIpI,IAAM2kC,IACV90B,GAAOnN,KAAK61B,MAAMwC,OAAO3yB,EAAI0D,MAAMo5B,EAAOllC,GAAI,SAC9CklC,EAAQllC,EAAE,EACVukC,GAAW,GAqBvB,GAAKA,EAEE,CACH,IAEIa,GAFAD,EAASX,EAAcp8B,EAAI0D,MAAMo5B,GAAOv8B,YAElB1F,OAAUkiC,EAAOliC,OAAS,EACpDuhC,EAAcW,EAAOr5B,MAAMs5B,GAC3BD,EAASA,EAAOr5B,MAAM,EAAGs5B,GAEzBv1B,GAAOnN,KAAK61B,MAAMwC,OAAOvzB,EAAOG,KAAKw9B,EAAQ,UAAW,iBARxDt1B,GAAOnN,KAAK61B,MAAMwC,OAAO3yB,EAAI0D,MAAMo5B,GAAQ,SAc/C,OAHAxiC,KAAK6hC,SAAWA,EAChB7hC,KAAK8hC,YAAcA,EAEZ30B,GAGXw0B,EAAYziC,UAAUkF,IAAM,WACxB,IAAI+I,EAAM,GAMV,OALInN,KAAK6hC,UAAY7hC,KAAK8hC,YAAYvhC,OAAS,IAC3C4M,EAAMnN,KAAK61B,MAAMwC,OAAOvzB,EAAOG,KAAKjF,KAAK8hC,YAAa,UAAW,aAErE9hC,KAAK6hC,UAAW,EAChB7hC,KAAK8hC,YAAc,GACZ30B,GAgBX/P,EAAQulC,SAAWP,EAKnBA,EAAcljC,UAAUu+B,QAAU4E,EAClCD,EAAcljC,UAAUyY,QAAU4qB,EAClCH,EAAcljC,UAAUs/B,UAAW,EAYnC6D,EAAgBnjC,UAAUiK,MAAQ,SAASkD,GAMvC,IALA,IAAIw1B,EAAW7hC,KAAK6hC,SAChBC,EAAc9hC,KAAK8hC,YACnBQ,EAAiBtiC,KAAKsiC,eACtB58B,EAAMZ,EAAOO,MAAiB,EAAXgH,EAAI9L,OAAW,IAAK8/B,EAAS,EAE3C/iC,EAAI,EAAGA,EAAI+O,EAAI9L,OAAQjD,IAAK,CACjC,IAAIslC,EAAQv2B,EAAIE,WAAWjP,GACvB,IAAQslC,GAASA,GAAS,KACtBf,IACIS,EAAiB,IACjBjC,GAAU36B,EAAIyD,MAAM24B,EAAY14B,MAAM,EAAGk5B,GAAgBr8B,SAAS,UAAU4N,QAAQ,MAAO,KAAKA,QAAQ,MAAO,IAAKwsB,GACpHiC,EAAiB,GAGrB58B,EAAI26B,KAAY6B,EAChBL,GAAW,GAGVA,IACDn8B,EAAI26B,KAAYuC,EAEZA,IAAUT,IACVz8B,EAAI26B,KAAY6B,MAInBL,IACDn8B,EAAI26B,KAAY8B,EAChBN,GAAW,GAEXA,IACAC,EAAYQ,KAAoBM,GAAS,EACzCd,EAAYQ,KAA4B,IAARM,EAE5BN,GAAkBR,EAAYvhC,SAC9B8/B,GAAU36B,EAAIyD,MAAM24B,EAAY77B,SAAS,UAAU4N,QAAQ,MAAO,KAAMwsB,GACxEiC,EAAiB,KASjC,OAHAtiC,KAAK6hC,SAAWA,EAChB7hC,KAAKsiC,eAAiBA,EAEf58B,EAAI0D,MAAM,EAAGi3B,IAGxBgC,EAAgBnjC,UAAUkF,IAAM,WAC5B,IAAIsB,EAAMZ,EAAOO,MAAM,IAAKg7B,EAAS,EAWrC,OAVIrgC,KAAK6hC,WACD7hC,KAAKsiC,eAAiB,IACtBjC,GAAU36B,EAAIyD,MAAMnJ,KAAK8hC,YAAY14B,MAAM,EAAGpJ,KAAKsiC,gBAAgBr8B,SAAS,UAAU4N,QAAQ,MAAO,KAAKA,QAAQ,MAAO,IAAKwsB,GAC9HrgC,KAAKsiC,eAAiB,GAG1B58B,EAAI26B,KAAY6B,EAChBliC,KAAK6hC,UAAW,GAGbn8B,EAAI0D,MAAM,EAAGi3B,IAYxB,IAAIwC,EAAkBb,EAAY54B,QAClCy5B,EAAgB,IAAIt2B,WAAW,KAAM,EAErCg2B,EAAgBrjC,UAAUiK,MAAQ,SAASzD,GAQvC,IAPA,IAAIyH,EAAM,GAAIq1B,EAAQ,EAClBX,EAAW7hC,KAAK6hC,SAChBC,EAAc9hC,KAAK8hC,YAKdxkC,EAAI,EAAGA,EAAIoI,EAAInF,OAAQjD,IAC5B,GAAKukC,GAQD,IAAKgB,EAAgBn9B,EAAIpI,IAAK,CAC1B,GAAIA,GAAKklC,GAAS98B,EAAIpI,IAAM4kC,EACxB/0B,GAAO,QACJ,CACH,IAAIs1B,EAASX,EAAcp8B,EAAI0D,MAAMo5B,EAAOllC,GAAG2I,WAAW4N,QAAQ,KAAM,KACxE1G,GAAOnN,KAAK61B,MAAMwC,OAAOvzB,EAAOG,KAAKw9B,EAAQ,UAAW,YAGxD/8B,EAAIpI,IAAM4kC,GACV5kC,IAEJklC,EAAQllC,EAAE,EACVukC,GAAW,EACXC,EAAc,SAnBdp8B,EAAIpI,IAAM6kC,IACVh1B,GAAOnN,KAAK61B,MAAMwC,OAAO3yB,EAAI0D,MAAMo5B,EAAOllC,GAAI,SAC9CklC,EAAQllC,EAAE,EACVukC,GAAW,GAqBvB,GAAKA,EAEE,CACH,IAEIa,GAFAD,EAASX,EAAcp8B,EAAI0D,MAAMo5B,GAAOv8B,WAAW4N,QAAQ,KAAM,MAE3CtT,OAAUkiC,EAAOliC,OAAS,EACpDuhC,EAAcW,EAAOr5B,MAAMs5B,GAC3BD,EAASA,EAAOr5B,MAAM,EAAGs5B,GAEzBv1B,GAAOnN,KAAK61B,MAAMwC,OAAOvzB,EAAOG,KAAKw9B,EAAQ,UAAW,iBARxDt1B,GAAOnN,KAAK61B,MAAMwC,OAAO3yB,EAAI0D,MAAMo5B,GAAQ,SAc/C,OAHAxiC,KAAK6hC,SAAWA,EAChB7hC,KAAK8hC,YAAcA,EAEZ30B,GAGXo1B,EAAgBrjC,UAAUkF,IAAM,WAC5B,IAAI+I,EAAM,GAMV,OALInN,KAAK6hC,UAAY7hC,KAAK8hC,YAAYvhC,OAAS,IAC3C4M,EAAMnN,KAAK61B,MAAMwC,OAAOvzB,EAAOG,KAAKjF,KAAK8hC,YAAa,UAAW,aAErE9hC,KAAK6hC,UAAW,EAChB7hC,KAAK8hC,YAAc,GACZ30B,I,6BC7RX,IAAIrI,EAAS,EAAQ,GAAgBA,OAMrC,SAASg+B,EAAU1E,EAAcvI,GAC7B,IAAKuI,EACD,MAAM,IAAI1+B,MAAM,0CAGpB,IAAK0+B,EAAa2E,OAAwC,MAA9B3E,EAAa2E,MAAMxiC,QAAgD,MAA9B69B,EAAa2E,MAAMxiC,OAChF,MAAM,IAAIb,MAAM,aAAa0+B,EAAa30B,KAAK,uDAEnD,GAAkC,MAA9B20B,EAAa2E,MAAMxiC,OAAgB,CAEnC,IADA,IAAIyiC,EAAc,GACT1lC,EAAI,EAAGA,EAAI,IAAKA,IACrB0lC,GAAe53B,OAAOwC,aAAatQ,GACvC8gC,EAAa2E,MAAQC,EAAc5E,EAAa2E,MAGpD/iC,KAAKijC,UAAYn+B,EAAOG,KAAKm5B,EAAa2E,MAAO,QAGjD,IAAIG,EAAYp+B,EAAOO,MAAM,MAAOwwB,EAAM0H,sBAAsBhxB,WAAW,IAE3E,IAASjP,EAAI,EAAGA,EAAI8gC,EAAa2E,MAAMxiC,OAAQjD,IAC3C4lC,EAAU9E,EAAa2E,MAAMx2B,WAAWjP,IAAMA,EAElD0C,KAAKkjC,UAAYA,EAOrB,SAASC,EAAYx/B,EAAS06B,GAC1Br+B,KAAKkjC,UAAY7E,EAAM6E,UAe3B,SAASE,EAAYz/B,EAAS06B,GAC1Br+B,KAAKijC,UAAY5E,EAAM4E,UAhD3B7lC,EAAQimC,MAAQP,EA2BhBA,EAAU5jC,UAAUu+B,QAAU0F,EAC9BL,EAAU5jC,UAAUyY,QAAUyrB,EAO9BD,EAAYjkC,UAAUiK,MAAQ,SAASkD,GAEnC,IADA,IAAI3G,EAAMZ,EAAOO,MAAMgH,EAAI9L,QAClBjD,EAAI,EAAGA,EAAI+O,EAAI9L,OAAQjD,IAC5BoI,EAAIpI,GAAK0C,KAAKkjC,UAAU72B,EAAIE,WAAWjP,IAE3C,OAAOoI,GAGXy9B,EAAYjkC,UAAUkF,IAAM,aAQ5Bg/B,EAAYlkC,UAAUiK,MAAQ,SAASzD,GAKnC,IAHA,IAAIu9B,EAAYjjC,KAAKijC,UACjBryB,EAAS9L,EAAOO,MAAiB,EAAXK,EAAInF,QAC1B+iC,EAAO,EAAGC,EAAO,EACZjmC,EAAI,EAAGA,EAAIoI,EAAInF,OAAQjD,IAC5BgmC,EAAc,EAAP59B,EAAIpI,GACXsT,EADiB2yB,EAAS,EAAFjmC,GACT2lC,EAAUK,GACzB1yB,EAAO2yB,EAAK,GAAKN,EAAUK,EAAK,GAEpC,OAAO1yB,EAAO3K,SAAS,SAG3Bm9B,EAAYlkC,UAAUkF,IAAM,c,6BClE5B/G,EAAOD,QAAU,CAEb,MAAS,cACT,YAAe,CACX,KAAQ,QACR,MAAS,oIAGb,IAAO,QACP,OAAU,QACV,MAAS,CACL,KAAQ,QACR,MAAS,oIAGb,IAAO,CACH,KAAQ,QACR,MAAS,oIAIb,UAAa,QACb,QAAW,QACX,QAAW,QACX,YAAe,QACf,YAAe,QACf,QAAW,QACX,MAAS,QACT,OAAU,QACV,OAAU,QACV,SAAY,QACZ,UAAa,QACb,GAAM,QAEN,OAAU,WACV,OAAU,WACV,OAAU,WACV,OAAU,WACV,OAAU,WACV,OAAU,YACV,OAAU,YACV,OAAU,YACV,OAAU,YACV,QAAW,YAEX,YAAe,WACf,YAAe,WACf,YAAe,WACf,YAAe,WACf,mBAAsB,WACtB,iBAAoB,WACpB,gBAAoB,WACpB,iBAAoB,WACpB,YAAe,WACf,YAAe,YAEf,GAAM,WACN,GAAM,WACN,GAAM,WACN,GAAM,WACN,GAAM,WACN,GAAM,YACN,GAAM,YACN,GAAM,YACN,GAAM,YACN,IAAO,YAEP,QAAW,WACX,QAAW,WACX,SAAY,WACZ,SAAY,WACZ,SAAY,WACZ,SAAY,WACZ,SAAY,WACZ,SAAY,WACZ,SAAY,WACZ,SAAY,WACZ,SAAY,WACZ,SAAY,YACZ,SAAY,SACZ,SAAY,YACZ,SAAY,YACZ,SAAY,YACZ,SAAY,YAEZ,MAAS,WACT,OAAU,WAEV,SAAY,WAEZ,OAAU,WACV,QAAW,WACX,QAAW,WACX,QAAW,WAEX,MAAU,WACV,OAAW,WACX,QAAY,WACZ,QAAY,WAEZ,OAAU,WACV,QAAW,WAEX,QAAW,WACX,SAAY,WAEZ,KAAQ,YACR,MAAS,YAET,OAAU,YACV,QAAW,YACX,UAAa,YAEb,QAAW,SACX,YAAe,SACf,YAAe,SAEf,IAAS,WACT,MAAS,WACT,MAAS,cACT,MAAS,aACT,MAAS,aAET,iBAAoB,QACpB,cAAiB,QACjB,oBAAuB,QACvB,SAAY,QACZ,mBAAsB,QACtB,KAAQ,QAER,KAAQ,SACR,OAAU,SACV,OAAU,SACV,QAAW,SACX,OAAU,SACV,OAAU,SACV,OAAU,SACV,WAAc,SAEd,QAAW,QACX,MAAS,QACT,OAAU,QACV,QAAW,QAEX,QAAW,QACX,MAAS,QACT,QAAW,QAEX,aAAgB,SAEhB,SAAY,OACZ,UAAa,OAEb,SAAY,WACZ,GAAM,WAEN,kBAAqB,WACrB,eAAkB,WAClB,GAAM,WAEN,WAAc,WACd,GAAM,WACN,OAAU,WACV,QAAW,WACX,QAAW,WAEX,IAAO,YACP,YAAe,c,6BCxKnBC,EAAOD,QAAU,CACf,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,aACP,IAAO,QACP,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,KAAQ,cACR,KAAQ,cACR,KAAQ,cACR,KAAQ,cACR,KAAQ,cACR,KAAQ,cACR,KAAQ,cACR,KAAQ,cACR,KAAQ,cACR,MAAS,WACT,MAAS,WACT,MAAS,WACT,MAAS,WACT,MAAS,WACT,MAAS,WACT,MAAS,WACT,MAAS,WACT,MAAS,WACT,MAAS,YACT,MAAS,YACT,MAAS,YACT,MAAS,YACT,MAAS,YACT,MAAS,YACT,WAAc,CACZ,KAAQ,QACR,MAAS,oIAEX,OAAU,aACV,MAAS,aACT,YAAe,CACb,KAAQ,QACR,MAAS,oIAEX,QAAW,cACX,OAAU,cACV,YAAe,CACb,KAAQ,QACR,MAAS,oIAEX,QAAW,cACX,OAAU,cACV,YAAe,CACb,KAAQ,QACR,MAAS,oIAEX,QAAW,cACX,OAAU,cACV,YAAe,CACb,KAAQ,QACR,MAAS,oIAEX,QAAW,cACX,OAAU,cACV,YAAe,CACb,KAAQ,QACR,MAAS,oIAEX,QAAW,cACX,OAAU,cACV,YAAe,CACb,KAAQ,QACR,MAAS,oIAEX,QAAW,cACX,OAAU,cACV,YAAe,CACb,KAAQ,QACR,MAAS,oIAEX,QAAW,cACX,OAAU,cACV,YAAe,CACb,KAAQ,QACR,MAAS,oIAEX,QAAW,cACX,OAAU,cACV,YAAe,CACb,KAAQ,QACR,MAAS,oIAEX,QAAW,cACX,OAAU,cACV,SAAY,CACV,KAAQ,QACR,MAAS,oIAEX,QAAW,WACX,SAAY,CACV,KAAQ,QACR,MAAS,oIAEX,QAAW,WACX,SAAY,CACV,KAAQ,QACR,MAAS,oIAEX,QAAW,WACX,SAAY,CACV,KAAQ,QACR,MAAS,oIAEX,QAAW,WACX,SAAY,CACV,KAAQ,QACR,MAAS,oIAEX,QAAW,WACX,SAAY,CACV,KAAQ,QACR,MAAS,oIAEX,QAAW,WACX,SAAY,CACV,KAAQ,QACR,MAAS,oIAEX,QAAW,WACX,SAAY,CACV,KAAQ,QACR,MAAS,oIAEX,QAAW,WACX,SAAY,CACV,KAAQ,QACR,MAAS,oIAEX,QAAW,WACX,UAAa,CACX,KAAQ,QACR,MAAS,oIAEX,QAAW,YACX,UAAa,CACX,KAAQ,QACR,MAAS,oIAEX,QAAW,YACX,UAAa,CACX,KAAQ,QACR,MAAS,oIAEX,QAAW,YACX,UAAa,CACX,KAAQ,QACR,MAAS,oIAEX,QAAW,YACX,UAAa,CACX,KAAQ,QACR,MAAS,oIAEX,QAAW,YACX,UAAa,CACX,KAAQ,QACR,MAAS,oIAEX,QAAW,YACX,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,QACV,SAAY,QACZ,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,QACV,SAAY,QACZ,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,QACV,SAAY,QACZ,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,QACV,SAAY,QACZ,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,QACV,SAAY,QACZ,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,QACV,SAAY,QACZ,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,QACV,SAAY,QACZ,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,QACV,SAAY,QACZ,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,QACV,SAAY,QACZ,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,QACV,SAAY,QACZ,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,QACV,SAAY,QACZ,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,QACV,SAAY,QACZ,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,QACV,SAAY,QACZ,MAAS,CACP,KAAQ,QACR,MAAS,6QAEX,OAAU,QACV,SAAY,QACZ,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,QACV,SAAY,QACZ,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,QACV,SAAY,QACZ,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,QACV,SAAY,QACZ,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,QACV,SAAY,QACZ,OAAU,CACR,KAAQ,QACR,MAAS,oIAEX,QAAW,SACX,UAAa,SACb,OAAU,CACR,KAAQ,QACR,MAAS,oIAEX,QAAW,SACX,UAAa,SACb,OAAU,CACR,KAAQ,QACR,MAAS,oIAEX,QAAW,SACX,UAAa,SACb,OAAU,CACR,KAAQ,QACR,MAAS,oIAEX,QAAW,SACX,UAAa,SACb,OAAU,CACR,KAAQ,QACR,MAAS,oIAEX,QAAW,SACX,UAAa,SACb,OAAU,CACR,KAAQ,QACR,MAAS,oIAEX,QAAW,SACX,UAAa,SACb,OAAU,CACR,KAAQ,QACR,MAAS,oIAEX,QAAW,SACX,UAAa,SACb,OAAU,CACR,KAAQ,QACR,MAAS,oIAEX,QAAW,SACX,UAAa,SACb,YAAe,CACb,KAAQ,QACR,MAAS,oIAEX,YAAe,CACb,KAAQ,QACR,MAAS,oIAEX,SAAY,CACV,KAAQ,QACR,MAAS,oIAEX,WAAc,CACZ,KAAQ,QACR,MAAS,oIAEX,SAAY,CACV,KAAQ,QACR,MAAS,oIAEX,WAAc,CACZ,KAAQ,QACR,MAAS,oIAEX,QAAW,CACT,KAAQ,QACR,MAAS,yIAEX,WAAc,CACZ,KAAQ,QACR,MAAS,oIAEX,WAAc,CACZ,KAAQ,QACR,MAAS,oIAEX,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,CACR,KAAQ,QACR,MAAS,oIAEX,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,SAAY,CACV,KAAQ,QACR,MAAS,oIAEX,OAAU,CACR,KAAQ,QACR,MAAS,oIAEX,KAAQ,CACN,KAAQ,QACR,MAAS,6QAEX,gBAAmB,CACjB,KAAQ,QACR,MAAS,oIAEX,WAAc,CACZ,KAAQ,QACR,MAAS,oIAEX,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,CACR,KAAQ,QACR,MAAS,6QAEX,SAAY,CACV,KAAQ,QACR,MAAS,6QAEX,SAAY,CACV,KAAQ,QACR,MAAS,4QAEX,SAAY,CACV,KAAQ,QACR,MAAS,oIAEX,UAAa,CACX,KAAQ,QACR,MAAS,oIAEX,MAAS,CACP,KAAQ,QACR,MAAS,oIAEX,OAAU,CACR,KAAQ,QACR,MAAS,sI,6BC/bb,IAAI0H,EAAS,EAAQ,GAAgBA,OAMrC1H,EAAQomC,MAAQC,EAShB,IAPA,IAIIC,EAAkB,IAAItiC,MAAM,KAGvB9D,EAAI,EAAGA,EAAI,IAAOA,IACvBomC,EAAgBpmC,IARH,EAYjB,SAASmmC,EAAUrF,EAAcvI,GAE7B,GADA71B,KAAKu+B,aAAeH,EAAaG,cAC5BH,EACD,MAAM,IAAI1+B,MAAM,0CACpB,IAAK0+B,EAAajH,MACd,MAAM,IAAIz3B,MAAM,aAAeM,KAAKu+B,aAAe,kBAGvD,IAAIoF,EAAevF,EAAajH,QAYhCn3B,KAAK4jC,aAAe,GACpB5jC,KAAK4jC,aAAa,GAAKF,EAAgBt6B,MAAM,GAG7CpJ,KAAK6jC,eAAiB,GAGtB,IAAK,IAAIvmC,EAAI,EAAGA,EAAIqmC,EAAapjC,OAAQjD,IACrC0C,KAAK8jC,gBAAgBH,EAAarmC,IAEtC0C,KAAKs9B,mBAAqBzH,EAAMyH,mBAUhCt9B,KAAK+jC,YAAc,GAMnB/jC,KAAKgkC,eAAiB,GAGtB,IAAIC,EAAkB,GACtB,GAAI7F,EAAa8F,eACb,IAAS5mC,EAAI,EAAGA,EAAI8gC,EAAa8F,eAAe3jC,OAAQjD,IAAK,CACzD,IAAIkM,EAAM40B,EAAa8F,eAAe5mC,GACtC,GAAmB,iBAARkM,EACPy6B,EAAgBz6B,IAAO,OAEvB,IAAK,IAAIiC,EAAIjC,EAAIvE,KAAMwG,GAAKjC,EAAI2zB,GAAI1xB,IAChCw4B,EAAgBx4B,IAAK,EAOrC,GAHAzL,KAAKmkC,iBAAiB,EAAG,EAAGF,GAGxB7F,EAAagG,UACb,IAAK,IAAIxB,KAASxE,EAAagG,UACvBpmC,OAAOkB,UAAUC,eAAe1B,KAAK2gC,EAAagG,UAAWxB,IAC7D5iC,KAAKqkC,eAAezB,EAAMr2B,WAAW,GAAI6xB,EAAagG,UAAUxB,IAS5E,GANA5iC,KAAKskC,UAAatkC,KAAK+jC,YAAY,GAAGlO,EAAM0H,sBAAsBhxB,WAAW,KAlFhE,IAmFTvM,KAAKskC,YAA0BtkC,KAAKskC,UAAYtkC,KAAK+jC,YAAY,GAAG,OAnF3D,IAoFT/jC,KAAKskC,YAA0BtkC,KAAKskC,UAAY,IAAI/3B,WAAW,IAI/B,mBAAzB6xB,EAAamG,QAAwB,CAC5CvkC,KAAKukC,QAAUnG,EAAamG,UAG5B,IAAIC,EAAmBxkC,KAAK4jC,aAAarjC,OACrCkkC,EAAgBzkC,KAAK4jC,aAAaY,GAAoBd,EAAgBt6B,MAAM,GAE5Es7B,EAAoB1kC,KAAK4jC,aAAarjC,OACtCokC,EAAiB3kC,KAAK4jC,aAAac,GAAqBhB,EAAgBt6B,MAAM,GAElF,IAAS9L,EAAI,IAAMA,GAAK,IAAMA,IAC1B,KAAIsnC,GAhGC,IAgGgC5kC,KAAK4jC,aAAa,GAAGtmC,GACtDunC,EAAiB7kC,KAAK4jC,aAAagB,GACvC,IAASn5B,EAAI,GAAMA,GAAK,GAAMA,IAC1Bo5B,EAAep5B,IAnGd,IAmGgC+4B,EAEzC,IAASlnC,EAAI,IAAMA,GAAK,IAAMA,IAC1BmnC,EAAcnnC,IAtGT,IAsG2BonC,EACpC,IAASpnC,EAAI,GAAMA,GAAK,GAAMA,IAC1BqnC,EAAernC,IA1GR,GAoQnB,SAASwnC,EAAYnhC,EAAS06B,GAE1Br+B,KAAK0T,eAAiB,EACtB1T,KAAK+kC,YAASzgC,EAGdtE,KAAK+jC,YAAc1F,EAAM0F,YACzB/jC,KAAKgkC,eAAiB3F,EAAM2F,eAC5BhkC,KAAKu9B,sBAAwBc,EAAMiG,UACnCtkC,KAAKukC,QAAUlG,EAAMkG,QAgKzB,SAASS,EAAYrhC,EAAS06B,GAE1Br+B,KAAKilC,QAAU,EACfjlC,KAAKklC,QAAUpgC,EAAOO,MAAM,GAG5BrF,KAAK4jC,aAAevF,EAAMuF,aAC1B5jC,KAAK6jC,eAAiBxF,EAAMwF,eAC5B7jC,KAAKs9B,mBAAqBe,EAAMf,mBAChCt9B,KAAKukC,QAAUlG,EAAMkG,QA4FzB,SAASY,EAAQhO,EAAO3tB,GACpB,GAAI2tB,EAAM,GAAK3tB,EACX,OAAQ,EAGZ,IADA,IAAIjM,EAAI,EAAGa,EAAI+4B,EAAM52B,OACdhD,EAAIa,EAAE,GAAG,CACZ,IAAIgnC,EAAM7nC,EAAI0P,KAAKmF,OAAOhU,EAAEb,EAAE,GAAG,GAC7B45B,EAAMiO,IAAQ57B,EACdjM,EAAI6nC,EAEJhnC,EAAIgnC,EAEZ,OAAO7nC,EAhbXkmC,EAAUvkC,UAAUu+B,QAAUqH,EAC9BrB,EAAUvkC,UAAUyY,QAAUqtB,EAG9BvB,EAAUvkC,UAAUmmC,mBAAqB,SAASC,GAE9C,IADA,IAAIr1B,EAAQ,GACLq1B,EAAO,EAAGA,IAAS,EACtBr1B,EAAM3O,KAAY,IAAPgkC,GACK,GAAhBr1B,EAAM1P,QACN0P,EAAM3O,KAAK,GAGf,IADA,IAAImkB,EAAOzlB,KAAK4jC,aAAa,GACpBtmC,EAAI2S,EAAM1P,OAAO,EAAGjD,EAAI,EAAGA,IAAK,CACrC,IAAIkM,EAAMic,EAAKxV,EAAM3S,IAErB,IA9HS,GA8HLkM,EACAic,EAAKxV,EAAM3S,KA5HN,IA4HyB0C,KAAK4jC,aAAarjC,OAChDP,KAAK4jC,aAAatiC,KAAKmkB,EAAOie,EAAgBt6B,MAAM,QAEnD,MAAII,IA/HA,KAmIL,MAAM,IAAI9J,MAAM,qBAAuBM,KAAKu+B,aAAe,WAAa+G,EAAKr/B,SAAS,KAHtFwf,EAAOzlB,KAAK4jC,cAhIP,IAgIiCp6B,IAK9C,OAAOic,GAIXge,EAAUvkC,UAAU4kC,gBAAkB,SAAS/rB,GAE3C,IAAIwtB,EAAUv5B,SAAS+L,EAAM,GAAI,IAG7BytB,EAAaxlC,KAAKqlC,mBAAmBE,GACzCA,GAAoB,IAGpB,IAAK,IAAIE,EAAI,EAAGA,EAAI1tB,EAAMxX,OAAQklC,IAAK,CACnC,IAAIC,EAAO3tB,EAAM0tB,GACjB,GAAoB,iBAATC,EACP,IAAK,IAAInoC,EAAI,EAAGA,EAAImoC,EAAKnlC,QAAS,CAC9B,IAAIgT,EAAOmyB,EAAKn5B,WAAWhP,KAC3B,GAAI,OAAUgW,GAAQA,EAAO,MAAQ,CACjC,IAAIoyB,EAAYD,EAAKn5B,WAAWhP,KAChC,KAAI,OAAUooC,GAAaA,EAAY,OAGnC,MAAM,IAAIjmC,MAAM,+BAAkCM,KAAKu+B,aAAe,aAAexmB,EAAM,IAF3FytB,EAAWD,KAAa,MAA4B,MAAjBhyB,EAAO,QAAmBoyB,EAAY,YAI5E,GAAI,KAASpyB,GAAQA,GAAQ,KAAQ,CAGtC,IAFA,IAAI5S,EAAM,KAAQ4S,EAAO,EACrBqyB,EAAM,GACDloC,EAAI,EAAGA,EAAIiD,EAAKjD,IACrBkoC,EAAItkC,KAAKokC,EAAKn5B,WAAWhP,MAE7BioC,EAAWD,MArKd,GAqKuCvlC,KAAK6jC,eAAetjC,OACxDP,KAAK6jC,eAAeviC,KAAKskC,QAGzBJ,EAAWD,KAAahyB,MAG/B,IAAoB,iBAATmyB,EAMZ,MAAM,IAAIhmC,MAAM,0BAA4BgmC,EAAO,cAAiB1lC,KAAKu+B,aAAe,aAAexmB,EAAM,IAL7G,IAAIuoB,EAAWkF,EAAWD,EAAU,GAAK,EACzC,IAAShoC,EAAI,EAAGA,EAAImoC,EAAMnoC,IACtBioC,EAAWD,KAAajF,KAKpC,GAAIiF,EAAU,IACV,MAAM,IAAI7lC,MAAM,sBAAyBM,KAAKu+B,aAAe,YAAcxmB,EAAM,GAAK,aAAewtB,IAI7G9B,EAAUvkC,UAAU2mC,iBAAmB,SAASC,GAC5C,IAAIC,EAAOD,GAAS,EAGpB,YAF+BxhC,IAA3BtE,KAAK+jC,YAAYgC,KACjB/lC,KAAK+jC,YAAYgC,GAAQrC,EAAgBt6B,MAAM,IAC5CpJ,KAAK+jC,YAAYgC,IAG5BtC,EAAUvkC,UAAUmlC,eAAiB,SAASyB,EAAOE,GACjD,IAAIC,EAASjmC,KAAK6lC,iBAAiBC,GAC/BI,EAAc,IAARJ,EACNG,EAAOC,KAnME,GAoMTlmC,KAAKgkC,gBApMI,GAoMqBiC,EAAOC,KAjM9B,GAiMgDF,GAtM9C,GAuMJC,EAAOC,KACZD,EAAOC,GAAOF,IAGtBvC,EAAUvkC,UAAUinC,mBAAqB,SAASP,EAAKI,GAGnD,IAIIvgB,EAJAqgB,EAAQF,EAAI,GACZK,EAASjmC,KAAK6lC,iBAAiBC,GAC/BI,EAAc,IAARJ,EAGNG,EAAOC,KAjNE,GAmNTzgB,EAAOzlB,KAAKgkC,gBAnNH,GAmN4BiC,EAAOC,KAI5CzgB,EAAO,IAzNE,IA0NLwgB,EAAOC,KAAqBzgB,GArNzB,GAqN0CwgB,EAAOC,IACxDD,EAAOC,IAzNE,GAyNiBlmC,KAAKgkC,eAAezjC,OAC9CP,KAAKgkC,eAAe1iC,KAAKmkB,IAI7B,IAAK,IAAIha,EAAI,EAAGA,EAAIm6B,EAAIrlC,OAAO,EAAGkL,IAAK,CACnC,IAAI26B,EAAS3gB,EAAKqgB,GACI,iBAAXM,EACP3gB,EAAO2gB,GAEP3gB,EAAOA,EAAKqgB,GAAS,QACNxhC,IAAX8hC,IACA3gB,GAlOD,GAkOkB2gB,IAM7B3gB,EADAqgB,EAAQF,EAAIA,EAAIrlC,OAAO,IACTylC,GAGlBvC,EAAUvkC,UAAUilC,iBAAmB,SAASc,EAASoB,EAAQpC,GAE7D,IADA,IAAIxe,EAAOzlB,KAAK4jC,aAAaqB,GACpB3nC,EAAI,EAAGA,EAAI,IAAOA,IAAK,CAC5B,IAAIwoC,EAAQrgB,EAAKnoB,GACbgpC,EAASD,EAAS/oC,EAClB2mC,EAAgBqC,KAGhBR,GAAS,EACT9lC,KAAKqkC,eAAeyB,EAAOQ,GACtBR,IAvPA,IAwPL9lC,KAAKmkC,kBAxPA,IAwP8B2B,EAAOQ,GAAU,EAAGrC,GAClD6B,IA1PA,IA2PL9lC,KAAKmmC,mBAAmBnmC,KAAK6jC,gBA3PxB,GA2PmDiC,GAAQQ,MAoB5ExB,EAAY5lC,UAAUiK,MAAQ,SAASkD,GAMnC,IALA,IAAIuE,EAAS9L,EAAOO,MAAMgH,EAAI9L,QAAUP,KAAKukC,QAAU,EAAI,IACvD7wB,EAAgB1T,KAAK0T,cACrBqxB,EAAS/kC,KAAK+kC,OAAQwB,GAAY,EAClCjpC,EAAI,EAAGmO,EAAI,IAEF,CAET,IAAkB,IAAd86B,EAAiB,CACjB,GAAIjpC,GAAK+O,EAAI9L,OAAQ,MACrB,IAAIulC,EAAQz5B,EAAIE,WAAWjP,SAE1B,CACGwoC,EAAQS,EACZA,GAAY,EAIhB,GAAI,OAAUT,GAASA,EAAQ,MAC3B,GAAIA,EAAQ,MAAQ,CAChB,IAAuB,IAAnBpyB,EAAsB,CACtBA,EAAgBoyB,EAChB,SAEApyB,EAAgBoyB,EAEhBA,GA3SH,OA8SsB,IAAnBpyB,GACAoyB,EAAQ,MAAqC,MAA1BpyB,EAAgB,QAAmBoyB,EAAQ,OAC9DpyB,GAAiB,GAGjBoyB,GAnTH,OAwTmB,IAAnBpyB,IAEL6yB,EAAWT,EAAOA,GA1Tb,EA2TLpyB,GAAiB,GAIrB,IAAIsyB,GA/TK,EAgUT,QAAe1hC,IAAXygC,IAhUK,GAgUmBe,EAAqB,CAC7C,IAAIU,EAAUzB,EAAOe,GACrB,GAAuB,iBAAZU,EAAsB,CAC7BzB,EAASyB,EACT,SAEyB,iBAAXA,EACdR,EAAWQ,EAEOliC,MAAXkiC,QAISliC,KADhBkiC,EAAUzB,GAvUX,MAyUKiB,EAAWQ,EACXD,EAAWT,GASnBf,OAASzgC,OAER,GAAIwhC,GAAS,EAAG,CACjB,IAAIW,EAAWzmC,KAAK+jC,YAAY+B,GAAS,GAIzC,QAHiBxhC,IAAbmiC,IACAT,EAAWS,EAAiB,IAARX,IAEpBE,IA7VC,GA6VsB,CACvBjB,EAAS/kC,KAAKgkC,gBA9Vb,GA8VsCgC,GACvC,SAGJ,IApWK,GAoWDA,GAA0BhmC,KAAKukC,QAAS,CAExC,IAAIrc,EAAMid,EAAQnlC,KAAKukC,QAAQmC,OAAQZ,GACvC,IAAY,GAAR5d,EAAW,CACP8d,EAAWhmC,KAAKukC,QAAQoC,QAAQze,IAAQ4d,EAAQ9lC,KAAKukC,QAAQmC,OAAOxe,IACxEtX,EAAOnF,KAAO,IAAOwB,KAAKmF,MAAM4zB,EAAW,OAAQA,GAAsB,MACzEp1B,EAAOnF,KAAO,GAAOwB,KAAKmF,MAAM4zB,EAAW,MAAOA,GAAsB,KACxEp1B,EAAOnF,KAAO,IAAOwB,KAAKmF,MAAM4zB,EAAW,IAAKA,GAAsB,GACtEp1B,EAAOnF,KAAO,GAAOu6B,EACrB,YA7WH,IAmXLA,IACAA,EAAWhmC,KAAKu9B,uBAEhByI,EAAW,IACXp1B,EAAOnF,KAAOu6B,EAETA,EAAW,OAChBp1B,EAAOnF,KAAOu6B,GAAY,EAC1Bp1B,EAAOnF,KAAkB,IAAXu6B,IAGdp1B,EAAOnF,KAAOu6B,GAAY,GAC1Bp1B,EAAOnF,KAAQu6B,GAAY,EAAK,IAChCp1B,EAAOnF,KAAkB,IAAXu6B,GAMtB,OAFAhmC,KAAK+kC,OAASA,EACd/kC,KAAK0T,cAAgBA,EACd9C,EAAOxH,MAAM,EAAGqC,IAG3Bq5B,EAAY5lC,UAAUkF,IAAM,WACxB,IAA4B,IAAxBpE,KAAK0T,oBAAwCpP,IAAhBtE,KAAK+kC,OAAtC,CAGA,IAAIn0B,EAAS9L,EAAOO,MAAM,IAAKoG,EAAI,EAEnC,GAAIzL,KAAK+kC,OAAQ,CACb,IAAIiB,EAAWhmC,KAAK+kC,QA3Yb,QA4YUzgC,IAAb0hC,IACIA,EAAW,IACXp1B,EAAOnF,KAAOu6B,GAGdp1B,EAAOnF,KAAOu6B,GAAY,EAC1Bp1B,EAAOnF,KAAkB,IAAXu6B,IAKtBhmC,KAAK+kC,YAASzgC,EASlB,OAN4B,IAAxBtE,KAAK0T,gBAEL9C,EAAOnF,KAAOzL,KAAKu9B,sBACnBv9B,KAAK0T,eAAiB,GAGnB9C,EAAOxH,MAAM,EAAGqC,KAI3Bq5B,EAAY5lC,UAAUimC,QAAUA,EAiBhCH,EAAY9lC,UAAUiK,MAAQ,SAASzD,GACnC,IAAIkL,EAAS9L,EAAOO,MAAiB,EAAXK,EAAInF,QAC1B0kC,EAAUjlC,KAAKilC,QACfC,EAAUllC,KAAKklC,QAAS0B,EAAgB5mC,KAAKklC,QAAQ3kC,OACrDsmC,GAAY7mC,KAAKklC,QAAQ3kC,OAGzBqmC,EAAgB,IAChB1B,EAAUpgC,EAAOtE,OAAO,CAAC0kC,EAASx/B,EAAI0D,MAAM,EAAG,OAEnD,IAAK,IAAI9L,EAAI,EAAGmO,EAAI,EAAGnO,EAAIoI,EAAInF,OAAQjD,IAAK,CACxC,IAGIwoC,EAHAlW,EAAWtyB,GAAK,EAAKoI,EAAIpI,GAAK4nC,EAAQ5nC,EAAIspC,GAK9C,IAFId,EAAQ9lC,KAAK4jC,aAAaqB,GAASrV,KAE1B,QAGR,IA7cI,IA6cAkW,EAGLxoC,EAAIupC,EACJf,EAAQ9lC,KAAKs9B,mBAAmB/wB,WAAW,QAE1C,IAldM,IAkdFu5B,EAAwB,CAC7B,IAAIgB,EAAUD,GAAY,EAAKnhC,EAAI0D,MAAMy9B,EAAUvpC,EAAE,GAAK4nC,EAAQ97B,MAAMy9B,EAAWD,EAAetpC,EAAE,EAAIspC,GACpGG,EAAuB,OAAhBD,EAAO,GAAG,KAA+B,MAAhBA,EAAO,GAAG,IAA8B,IAAhBA,EAAO,GAAG,MAAYA,EAAO,GAAG,IACxF5e,EAAMid,EAAQnlC,KAAKukC,QAAQoC,QAASI,GACxCjB,EAAQ9lC,KAAKukC,QAAQmC,OAAOxe,GAAO6e,EAAM/mC,KAAKukC,QAAQoC,QAAQze,OAE7D,IAAI4d,IAtdA,IAsdqB,CAC1Bb,GAvdK,IAudkBa,EACvB,SAEC,KAAIA,IA3dA,IAqeL,MAAM,IAAIpmC,MAAM,2DAA6DomC,EAAQ,OAASb,EAAU,IAAMrV,GAR9G,IADA,IAAIgW,EAAM5lC,KAAK6jC,gBA5dV,GA4dqCiC,GACjCL,EAAI,EAAGA,EAAIG,EAAIrlC,OAAS,EAAGklC,IAChCK,EAAQF,EAAIH,GACZ70B,EAAOnF,KAAe,IAARq6B,EACdl1B,EAAOnF,KAAOq6B,GAAS,EAE3BA,EAAQF,EAAIA,EAAIrlC,OAAO,GAM3B,GAAIulC,EAAQ,MAAQ,CAChBA,GAAS,MACT,IAAIkB,EAAY,MAAS/5B,KAAKmF,MAAM0zB,EAAQ,MAC5Cl1B,EAAOnF,KAAmB,IAAZu7B,EACdp2B,EAAOnF,KAAOu7B,GAAa,EAE3BlB,EAAQ,MAASA,EAAQ,KAE7Bl1B,EAAOnF,KAAe,IAARq6B,EACdl1B,EAAOnF,KAAOq6B,GAAS,EAGvBb,EAAU,EAAG4B,EAAWvpC,EAAE,EAK9B,OAFA0C,KAAKilC,QAAUA,EACfjlC,KAAKklC,QAAW2B,GAAY,EAAKnhC,EAAI0D,MAAMy9B,GAAY3B,EAAQ97B,MAAMy9B,EAAWD,GACzEh2B,EAAOxH,MAAM,EAAGqC,GAAGxF,SAAS,SAGvC++B,EAAY9lC,UAAUkF,IAAM,WAIxB,IAHA,IAAI0L,EAAM,GAGH9P,KAAKklC,QAAQ3kC,OAAS,GAAG,CAE5BuP,GAAO9P,KAAKs9B,mBACZ,IAAI53B,EAAM1F,KAAKklC,QAAQ97B,MAAM,GAG7BpJ,KAAKklC,QAAUpgC,EAAOO,MAAM,GAC5BrF,KAAKilC,QAAU,EACXv/B,EAAInF,OAAS,IACbuP,GAAO9P,KAAKmJ,MAAMzD,IAI1B,OADA1F,KAAKilC,QAAU,EACRn1B,I,6BClhBXzS,EAAOD,QAAU,CAkCb,SAAY,CACRqM,KAAM,QACN0tB,MAAO,WAAa,OAAO,EAAQ,KACnCiN,UAAW,CAAC,IAAU,GAAM,IAAU,KACtCF,eAAgB,CAAC,CAACj/B,KAAM,MAAQk4B,GAAI,SAExC,WAAc,WACd,QAAW,WACX,KAAQ,WACR,WAAc,WACd,MAAS,WACT,MAAS,WACT,WAAc,WACd,MAAS,WACT,IAAO,WACP,MAAS,WAET,MAAS,CACL1zB,KAAM,QACN0tB,MAAO,WAAa,OAAO,EAAQ,KACnCiN,UAAW,CAAC,IAAU,GAAM,IAAU,MAa1C,OAAU,QACV,SAAY,QACZ,WAAc,QACd,SAAY,QACZ,gBAAmB,QACnB,MAAS,QAGT,WAAc,QACd,MAAS,QACT,IAAO,QACP,MAAS,CACL36B,KAAM,QACN0tB,MAAO,WAAa,OAAO,EAAQ,MAIvC,IAAO,CACH1tB,KAAM,QACN0tB,MAAO,WAAa,OAAO,EAAQ,IAAuB32B,OAAO,EAAQ,OAE7E,KAAQ,MACR,QAAW,MAOX,QAAW,CACPiJ,KAAM,QACN0tB,MAAO,WAAa,OAAO,EAAQ,IAAuB32B,OAAO,EAAQ,MACzE+jC,QAAS,WAAa,OAAO,EAAQ,KACrCL,eAAgB,CAAC,KACjBE,UAAW,CAAC,IAAK,QAGrB,QAAW,UAKX,WAAc,QACd,MAAS,QACT,IAAO,QACP,MAAS,CACL36B,KAAM,QACN0tB,MAAO,WAAa,OAAO,EAAQ,MAGvC,QAAW,QACX,cAAiB,QACjB,MAAS,QACT,SAAY,QACZ,OAAU,QACV,YAAe,QACf,YAAe,QACf,QAAW,QA0BX,WAAc,QACd,MAAS,QACT,IAAO,QACP,MAAS,CACL1tB,KAAM,QACN0tB,MAAO,WAAa,OAAO,EAAQ,MAIvC,KAAQ,YACR,UAAa,CACT1tB,KAAM,QACN0tB,MAAO,WAAa,OAAO,EAAQ,IAAuB32B,OAAO,EAAQ,MACzE0jC,eAAgB,CAAC,QAGrB,OAAU,YACV,OAAU,YACV,OAAU,c,iwlDC3Kd,SAAS+C,EAAgB3a,EAAK4a,EAAUliB,GACtC,MAAO,8GAMYsH,EAAIqI,WAAa,8BAChBrI,EAAIsI,YAAc,4BACpBtI,EAAIwI,UAAY,+BACbxI,EAAIuI,aAAe,2BACvBqS,EAASnS,SAAW,4BAClBmS,EAAS9R,gBAAkB,wDAK1CpQ,EAAQnR,QAAQ,KAAM,kCAnB5BxW,EAAOD,QAyBP,SAAoBkvB,EAAK3oB,GACvB,MAAMujC,EAAWlpC,OAAOwnB,OAAO,CAC7BE,KAAM4G,EAAInH,MAAMO,MAAQ,CAAC7nB,KAAM,QAASw5B,OAAQ,SAChDtC,SAAUzI,EAAInH,MAAM4P,UAAY,GAChCC,MAAM,EACNC,QAAQ,EACRC,WAAW,EACXC,eAAe,EACfxP,WAAY,CAAC8R,IAAK,EAAGC,KAAM,EAAGC,MAAO,GACrC9R,WAAY,CAAC4R,IAAK,IAAKC,KAAM,IAAKC,MAAO,KACzCvC,gBAAiB9I,EAAInH,MAAMiQ,iBAAmB,EAC9CC,OAAQ,EACRC,MAAO,OACPC,OAAQ,SAER4R,WAAY,OACZC,QAAS,IACTC,SAAUJ,GACTtjC,GAAW,IACRqhB,EAAUsH,EAAItH,QAAQ6D,IAAIsP,GAkFlC,SAAqBA,EAAM+O,GACzB,IAAK/O,EAAKnT,SAAmC,IAAxBmT,EAAKnT,QAAQzkB,OAAc,OAChD,MAAM4kB,EAAQmiB,EAAInP,EAAM+O,GAClBK,EAAOC,EAAUrP,EAAM+O,GACvBO,EAAYzpC,OAAOwnB,OAAO,GAAI0hB,GACpC,IAAK,IAAIpV,KAAQ9zB,OAAOkF,KAAKi1B,EAAKhT,OACR,MAApBgT,EAAKhT,MAAM2M,KAAe2V,EAAU3V,GAAQqG,EAAKhT,MAAM2M,IAE7D,MAAMsV,EAAUF,EAASE,QACzB,MAAO,IAAIA,IAAUjiB,EAAQ,WAAaA,EAAQ,IAAM,MAAMoiB,EAAKG,OAAOvP,EAAKnT,QAAQ6D,IAAI6M,GAG7F,SAAqBA,EAAMwR,GACzB,MAAM/hB,EAAQmiB,EAAI5R,EAAMwR,GAClBK,EAAOC,EAAU9R,EAAMwR,GACvB3oC,EAAQ,GAAGgpC,EAAKG,OAAOhS,EAAKn3B,QAAQgpC,EAAK7V,QAC/C,OAAIvM,EACK,gBAAgBA,MAAU5mB,WAE1BA,EAV0FopC,CAAWjS,EAAM+R,IAAYr4B,KAAK,MAAMm4B,EAAK7V,UAAU0V,KA3FlHQ,CAAWzP,EAAM+O,IAAWW,OAAOrV,GAAgB,MAARA,GAAcpjB,KAAK83B,EAASC,YAC/G,OAAOD,EAASG,SAAS/a,EAAK4a,EAAUliB,IAU1C,MAAM8iB,EAAiB,CACrBC,MAAO,QACPC,MAAO,aACPnU,OAAQ,UACRoU,MAAO,UACPC,OAAQ,aACRC,KAAM,YACNC,KAAM,SAGR,SAASC,EAASC,EAAIC,GACpB,OAAOD,EAAG7Q,MAAQ8Q,EAAG9Q,KAAO6Q,EAAG5Q,OAAS6Q,EAAG7Q,MAAQ4Q,EAAG3Q,QAAU4Q,EAAG5Q,MAGrE,SAAS2P,EAAKvvB,EAAOmvB,GACnB,IAAIsB,EAAM,GAsBV,OArB8B,MAA1BzwB,EAAMoN,MAAMQ,YAAuB0iB,EAAQtwB,EAAMoN,MAAMQ,WAAYuhB,EAASvhB,cAC9E6iB,GAAO,cAAczwB,EAAMoN,MAAMQ,WAAW8R,QAAQ1f,EAAMoN,MAAMQ,WAAWgS,UAAU5f,EAAMoN,MAAMQ,WAAW+R,UAEhF,MAA1B3f,EAAMoN,MAAMU,YAAuBwiB,EAAQtwB,EAAMoN,MAAMU,WAAYqhB,EAASrhB,cAC9E2iB,GAAO,yBAAyBzwB,EAAMoN,MAAMU,WAAW4R,QAAQ1f,EAAMoN,MAAMU,WAAW8R,UAAU5f,EAAMoN,MAAMU,WAAW6R,UAEtF,MAA/B3f,EAAMoN,MAAMiQ,iBAA2Brd,EAAMoN,MAAMiQ,gBAAkB,GAAKrd,EAAMoN,MAAMiQ,kBAAoB8R,EAAS9R,kBACrHoT,GAAO,gBAAgBzwB,EAAMoN,MAAMiQ,gBAAkB,SAE7B,MAAtBrd,EAAMoN,MAAMkQ,QAAkBtd,EAAMoN,MAAMkQ,SAAW6R,EAAS7R,SAChEmT,GAAO,iBAAiBzwB,EAAMoN,MAAMkQ,OAAS,SAEtB,MAArBtd,EAAMoN,MAAMmQ,OAAiBvd,EAAMoN,MAAMmQ,QAAU4R,EAAS5R,QAC9DkT,GAAO,eAAezwB,EAAMoN,MAAMmQ,UAER,MAAxBvd,EAAMoN,MAAM4P,UAAoBhd,EAAMoN,MAAM4P,WAAamS,EAASnS,WACpEyT,GAAO,cAAczwB,EAAMoN,MAAM4P,SAAW,QAEzCmS,EAASuB,cAAoC,MAApB1wB,EAAMoN,MAAMO,MAAgB3N,EAAMoN,MAAMO,KAAK7nB,OAASqpC,EAASxhB,KAAK7nB,OAChG2qC,GA1CJ,SAAeE,GACb,MAAM7qC,EAAO6qC,EAAG7qC,KAAKgW,QAAQ,QAAS,IAChCwjB,EAASyQ,EAAeY,EAAGrR,QACjC,MAAa,oBAATx5B,EAAmC,GAChC,gBAAkBA,GAAQw5B,EAAS,KAAKA,IAAW,IAsCjD3R,CAAK3N,EAAMoN,MAAMO,OAEnB8iB,EAGT,SAAShB,EAAWzvB,EAAOmvB,GACzB,IAAIQ,EAAO,GACPhW,EAAQ,GA0BZ,OAzB0B,MAAtB3Z,EAAMoN,MAAM8P,QAAkBld,EAAMoN,MAAM8P,SAAWiS,EAASjS,SAChEyS,GAAQ,OACRhW,EAAQ,QAAUA,GAEI,MAApB3Z,EAAMoN,MAAM6P,MAAgBjd,EAAMoN,MAAM6P,OAASkS,EAASlS,OAC5D0S,GAAQ,WACRhW,EAAQ,YAAcA,GAES,MAA7B3Z,EAAMoN,MAAMgQ,eAAyBpd,EAAMoN,MAAMgQ,gBAAkB+R,EAAS/R,gBAC9EuS,GAAQ,MACRhW,EAAQ,OAASA,GAEU,MAAzB3Z,EAAMoN,MAAM+P,WAAqBnd,EAAMoN,MAAM+P,YAAcgS,EAAShS,YACtEwS,GAAQ,MACRhW,EAAQ,OAASA,GAEO,MAAtB3Z,EAAMoN,MAAMoQ,QAAkBxd,EAAMoN,MAAMoQ,SAAW2R,EAAS3R,SACrC,UAAvBxd,EAAMoN,MAAMoQ,QACdmS,GAAQ,QACRhW,EAAQ,SAAWA,GACa,QAAvB3Z,EAAMoN,MAAMoQ,SACrBmS,GAAQ,QACRhW,EAAQ,SAAWA,IAGhB,CAACgW,OAAMhW,W,uLC5HHiX,EAAQ,CACnB,kBAAqB,SACrB,kBAAqB,SACrB,qBAAwB,YACxB,uBAA0B,cAC1B,wBAA2B,eAC3B,0BAA6B,iBAC7B,yBAA4B,gBAC5B,uBAA0B,cAC1B,uBAA0B,cAC1B,sBAAyB,aACzB,sBAAyB,aACzB,gBAAmB,QAGRC,EAAQ,CACnB,kBAAqB,OACrB,kBAAqB,WACrB,qBAAwB,YACxB,uBAA0B,SAC1B,wBAA2B,mBAC3B,0BAA6B,UAC7B,yBAA4B,mBAC5B,uBAA0B,wBAC1B,uBAA0B,0BAC1B,sBAAyB,eACzB,sBAAyB,eACzB,gBAAmB,U,iBC3Bd,SAASC,EAAEhrC,EAAMirC,GAKtB,IAJA,IAAIC,EAAO,GACPC,EAAW,GACXzoC,EAASc,UAAUd,OAEhBA,KAAW,GAAGwoC,EAAKznC,KAAKD,UAAUd,IAEzC,KAAOwoC,EAAKxoC,QAAQ,CAClB,IAAIklB,EAAOsjB,EAAK1pB,MAChB,GAAIoG,GAAQA,EAAKpG,IACf,IAAK9e,EAASklB,EAAKllB,OAAQA,KACzBwoC,EAAKznC,KAAKmkB,EAAKllB,SAEA,MAARklB,IAAyB,IAATA,IAA0B,IAATA,GAC1CujB,EAAS1nC,KAAKmkB,GAIlB,MAAuB,mBAAT5nB,EACVA,EAAKirC,GAAc,GAAIE,GACvB,CACEC,SAAUprC,EACVirC,WAAYA,GAAc,GAC1BE,SAAUA,EACVnqC,IAAKiqC,GAAcA,EAAWjqC,KAI/B,SAASqqC,EAAI/wB,EAAOgxB,EAASC,EAAMC,GACxC,IAIIC,EAJAzgB,EAAM,GAAGA,IACT0gB,EAAeF,GAAaA,EAAUL,SAAS,IAAO,KACtDQ,EAAUD,GAWd,SAASE,EAAeC,GACtB,MAAO,CACLT,SAAUS,EAAQT,SAASh/B,cAC3B6+B,WAAY,GACZE,SAAUngB,EAAIprB,KAAKisC,EAAQC,YAAY,SAASD,GAC9C,OAA4B,IAArBA,EAAQE,SACXF,EAAQG,UACRJ,EAAeC,OAlBID,CAAeF,GACxCO,EAAY,GAEZC,GAAc,EACdC,EAAcC,EAAM9xB,GACpB+xB,EA4EJ,SAASC,EAAmBC,EAAMjyB,EAAOgxB,GACvC,IAAK,IAAItqC,KAAOsqC,EACU,mBAAjBA,EAAQtqC,GACX,SAAUA,EAAKwrC,GACblB,EAAQtqC,GAAO,SAAS6K,GACtB,IAAI4gC,EAASD,EAAO3gC,GAoBpB,MAlBsB,mBAAX4gC,IACTA,EAASA,EAAOC,EAAgBH,EAAMJ,GAAcb,IAIpDmB,GACAA,KAAYnyB,EAAQoyB,EAAgBH,EAAMJ,MACzCM,EAAO5e,MAER8e,EACGR,EAAcS,EACbL,EACAH,EAAM9xB,EAAOmyB,GACbN,IAKCM,GAtBX,CAwBGzrC,EAAKsqC,EAAQtqC,IAChBsrC,EACEC,EAAK5pC,OAAO3B,GACXsZ,EAAMtZ,GAAOorC,EAAM9xB,EAAMtZ,IACzBsqC,EAAQtqC,GAAOorC,EAAMd,EAAQtqC,KAItC,OAAOsqC,EA/GUgB,CAAmB,GAAIH,EAAaC,EAAMd,IAI7D,OAFAqB,IAEON,EAcP,SAASQ,EAAYjlB,GACnB,MAAuB,mBAATA,EACVilB,EAAYjlB,EAAKukB,EAAaE,IACtB,MAARzkB,EACEA,EACA,GAGR,SAASklB,IACPrB,GAAcA,EAEd,IAAI7jB,EAAOilB,EAAYtB,GAQvB,IANIC,IAAcC,IAChBC,EA0OJ,SAASqB,EAAM7lB,EAAQ2kB,EAASF,EAAS/jB,EAAMolB,GAC7C,GAAIplB,IAAS+jB,QACN,GAAe,MAAXA,GAAmBA,EAAQP,WAAaxjB,EAAKwjB,SAAU,CAChE,IAAI6B,EA5FR,SAASnX,EAAclO,EAAMolB,GAC3B,IAAInB,EACc,iBAATjkB,GAAqC,iBAATA,EAC/B+H,SAASud,eAAetlB,IACvBolB,EAAQA,GAA2B,QAAlBplB,EAAKwjB,UACrBzb,SAASwd,gBACP,6BACAvlB,EAAKwjB,UAEPzb,SAASmG,cAAclO,EAAKwjB,UAEhCH,EAAarjB,EAAKqjB,WACtB,GAAIA,EAAY,CACVA,EAAWmC,UACbnB,EAAUxoC,MAAK,WACbwnC,EAAWmC,SAASvB,MAIxB,IAAK,IAAIpsC,EAAI,EAAGA,EAAImoB,EAAKujB,SAASzoC,OAAQjD,IACxCosC,EAAQ1V,YACNL,EACGlO,EAAKujB,SAAS1rC,GAAKotC,EAAYjlB,EAAKujB,SAAS1rC,IAC9CutC,IAKN,IAAK,IAAIhtC,KAAQirC,EACfoC,EAAgBxB,EAAS7rC,EAAMirC,EAAWjrC,GAAO,KAAMgtC,GAI3D,OAAOnB,EA2DY/V,CAAclO,EAAMolB,GACrC9lB,EAAOomB,aAAaL,EAAYpB,GAEjB,MAAXF,GACF4B,EAAcrmB,EAAQ2kB,EAASF,GAGjCE,EAAUoB,OACL,GAAwB,MAApBtB,EAAQP,SACjBS,EAAQG,UAAYpkB,MACf,EAlET,SAAuBikB,EAAS2B,EAAevC,EAAY+B,GACzD,IAAK,IAAIhtC,KAAQosC,EAAMoB,EAAevC,GAElCA,EAAWjrC,MACD,UAATA,GAA6B,YAATA,EACjB6rC,EAAQ7rC,GACRwtC,EAAcxtC,KAElBqtC,EACExB,EACA7rC,EACAirC,EAAWjrC,GACXwtC,EAAcxtC,GACdgtC,GAKN,IAAIjmC,EAAKmlC,EAAcjB,EAAWmC,SAAWnC,EAAWwC,SACpD1mC,GACFklC,EAAUxoC,MAAK,WACbsD,EAAG8kC,EAAS2B,MA8CdE,CACE7B,EACAF,EAAQV,WACRrjB,EAAKqjB,WACJ+B,EAAQA,GAA2B,QAAlBplB,EAAKwjB,UASzB,IANA,IAAIuC,EAAW,GACXC,EAAW,GACXC,EAAc,GACdC,EAAcnC,EAAQR,SACtBA,EAAWvjB,EAAKujB,SAEX1rC,EAAI,EAAGA,EAAIquC,EAAYprC,OAAQjD,IAAK,CAC3CouC,EAAYpuC,GAAKosC,EAAQC,WAAWrsC,GAGtB,OADVsuC,EAASC,EAAOF,EAAYruC,OAE9BkuC,EAASI,GAAU,CAACF,EAAYpuC,GAAIquC,EAAYruC,KAIhDA,EAAI,EAGR,IAHA,IACImoC,EAAI,EAEDA,EAAIuD,EAASzoC,QAAQ,CAC1B,IAAIqrC,EAASC,EAAOF,EAAYruC,IAC5BwuC,EAASD,EAAQ7C,EAASvD,GAAKiF,EAAY1B,EAASvD,KAExD,GAAIgG,EAASG,GACXtuC,SAIF,GAAc,MAAVwuC,GAAkBA,IAAWD,EAAOF,EAAYruC,EAAI,IAQxD,GAAc,MAAVwuC,GAAkB/B,EACN,MAAV6B,IACFhB,EAAMlB,EAASgC,EAAYpuC,GAAIquC,EAAYruC,GAAI0rC,EAASvD,GAAIoF,GAC5DpF,KAEFnoC,QACK,CACL,IAAIyuC,EAAYP,EAASM,IAAW,GAEhCF,IAAWE,GACblB,EAAMlB,EAASqC,EAAU,GAAIA,EAAU,GAAI/C,EAASvD,GAAIoF,GACxDvtC,KACSyuC,EAAU,GACnBnB,EACElB,EACAA,EAAQyB,aAAaY,EAAU,GAAIL,EAAYpuC,IAC/CyuC,EAAU,GACV/C,EAASvD,GACToF,GAGFD,EAAMlB,EAASgC,EAAYpuC,GAAI,KAAM0rC,EAASvD,GAAIoF,GAGpDY,EAASK,GAAU9C,EAASvD,GAC5BA,SAhCc,MAAVmG,GACFR,EAAc1B,EAASgC,EAAYpuC,GAAIquC,EAAYruC,IAErDA,IAiCJ,KAAOA,EAAIquC,EAAYprC,QACS,MAA1BsrC,EAAOF,EAAYruC,KACrB8tC,EAAc1B,EAASgC,EAAYpuC,GAAIquC,EAAYruC,IAErDA,IAGF,IAAK,IAAIA,KAAKkuC,EACPC,EAASnuC,IACZ8tC,EAAc1B,EAAS8B,EAASluC,GAAG,GAAIkuC,EAASluC,GAAG,IAIzD,OAAOosC,EA5USkB,CAAMvB,EAAWE,EAAaC,EAAUA,EAAU/jB,IAGlEskB,GAAc,EAEPD,EAAUvpC,QAAQupC,EAAUzqB,KAAVyqB,GAG3B,SAASU,IACFlB,IACHA,GAAa,EACbxpC,WAAW6qC,IAIf,SAASV,EAAM56B,EAAQ6kB,GACrB,IAAInkB,EAAM,GAEV,IAAK,IAAIzS,KAAK+R,EAAQU,EAAIzS,GAAK+R,EAAO/R,GACtC,IAAK,IAAIA,KAAK42B,EAAQnkB,EAAIzS,GAAK42B,EAAO52B,GAEtC,OAAOyS,EAGT,SAAS06B,EAAgBL,EAAM7rC,EAAO21B,GACpC,IAAI7kB,EAAS,GACb,OAAI+6B,EAAK7pC,QACP8O,EAAO+6B,EAAK,IACVA,EAAK7pC,OAAS,EACVkqC,EAAgBL,EAAKhhC,MAAM,GAAI7K,EAAO21B,EAAOkW,EAAK,KAClD7rC,EACC0rC,EAAM/V,EAAQ7kB,IAEhB9Q,EAGT,SAASgsC,EAAgBH,EAAMlW,GAE7B,IADA,IAAI52B,EAAI,EACDA,EAAI8sC,EAAK7pC,QACd2zB,EAASA,EAAOkW,EAAK9sC,MAEvB,OAAO42B,EAyCT,SAAS2X,EAAOpmB,GACd,OAAOA,EAAOA,EAAK5mB,IAAM,KAG3B,SAASmtC,EAAcrwB,GACrB,OAAOA,EAAMswB,cAAczuB,OAAO7B,EAAMlS,MAAMkS,GAGhD,SAASuvB,EAAgBxB,EAAS7rC,EAAMU,EAAO2tC,EAAUrB,GACvD,GAAa,QAAThtC,QACG,GAAa,UAATA,EACT,GAAqB,iBAAVU,EACTmrC,EAAQvkB,MAAMgnB,QAAU5tC,OAGxB,IAAK,IAAIjB,IADe,iBAAb4uC,IAAuBA,EAAWxC,EAAQvkB,MAAMgnB,QAAU,IACvDlC,EAAMiC,EAAU3tC,GAAQ,CACpC,IAAI4mB,EAAiB,MAAT5mB,GAA6B,MAAZA,EAAMjB,GAAa,GAAKiB,EAAMjB,GAC9C,MAATA,EAAE,GACJosC,EAAQvkB,MAAMinB,YAAY9uC,EAAG6nB,GAE7BukB,EAAQvkB,MAAM7nB,GAAK6nB,MAKT,MAAZtnB,EAAK,IAA0B,MAAZA,EAAK,IAC1BA,EAAOA,EAAKuL,MAAM,GAEdsgC,EAAQlsB,OACL0uB,IAAUA,EAAWxC,EAAQlsB,OAAO3f,IAEzC6rC,EAAQlsB,OAAS,GAGnBksB,EAAQlsB,OAAO3f,GAAQU,EAEnBA,EACG2tC,GACHxC,EAAQvV,iBAAiBt2B,EAAMmuC,GAGjCtC,EAAQ2C,oBAAoBxuC,EAAMmuC,IAGpCnuC,KAAQ6rC,GACC,SAAT7rC,GACS,SAATA,GACS,cAATA,GACS,eAATA,GACS,cAATA,IACCgtC,EAEDnB,EAAQ7rC,GAAiB,MAATU,EAAgB,GAAKA,EACnB,MAATA,IAA2B,IAAVA,GAC1BmrC,EAAQ4C,aAAazuC,EAAMU,GAGhB,MAATA,IAA2B,IAAVA,GACnBmrC,EAAQ6C,gBAAgB1uC,GAiF9B,SAASutC,EAAcrmB,EAAQ2kB,EAASjkB,GACtC,SAASb,IACPG,EAAOgP,YAhBX,SAASyY,EAAe9C,EAASjkB,GAC/B,IAAIqjB,EAAarjB,EAAKqjB,WACtB,GAAIA,EAAY,CACd,IAAK,IAAIxrC,EAAI,EAAGA,EAAImoB,EAAKujB,SAASzoC,OAAQjD,IACxCkvC,EAAe9C,EAAQC,WAAWrsC,GAAImoB,EAAKujB,SAAS1rC,IAGlDwrC,EAAW2D,WACb3D,EAAW2D,UAAU/C,GAGzB,OAAOA,EAKc8C,CAAe9C,EAASjkB,IAG7C,IAAI7gB,EAAK6gB,EAAKqjB,YAAcrjB,EAAKqjB,WAAW4D,SACxC9nC,EACFA,EAAG8kC,EAAS9kB,GAEZA,K,6BChSN,MAVA,SAA4B,GAC1B,GAAIxjB,cAAJ,GAAwB,CACtB,IAAK,IAAI9D,EAAJ,EAAWmvB,EAAWrrB,MAAM4J,EAAjC,QAA8C1N,EAAI0N,EAAlD,OAA8D1N,IAC5DmvB,KAAUzhB,EAAVyhB,GAGF,OAAOA,ICFX,MAJA,SAA0B,GACxB,GAAIpuB,mBAAmBL,OAAnBK,IAAmC,uBAAAL,OAAA,wBAAvC,GAAsG,OAAOoD,eCG/G,MAJA,WACE,MAAM,IAAIgE,UAAU,oDCStB,MAJA,SAA4B,GAC1B,OAAOwmB,MAA0BC,EAA1BD,IAAkDE,KCPpD,SAAS,EAAT,KAA6B,QAC9Bid,EAD8B,GAE9BC,EAF8B,GAG9BzoC,EAASc,UAHqB,OAK3B,OAAc0nC,OAAU1nC,UAAV0nC,IALa,KAO3BA,EAP2B,QAOd,CAClB,IAAItjB,EAAOsjB,EAAX,MACA,GAAItjB,GAAQA,EAAZ,IACE,IAAKllB,EAASklB,EAAd,OAA2BllB,KACzBwoC,OAAUtjB,EAFd,SAIW,UAAgB,IAAhB,IAAiC,IAJ5C,GAKEujB,UAIJ,MAAO,qBACHnrC,EAAKirC,GAAD,GADD,GAEH,CACEG,SADF,EAEEH,WAAYA,GAFd,GAGEE,SAHF,EAIEnqC,IAAKiqC,GAAcA,EAJrB,KAQN,WAAA/oC,EAAA,OA0BE,cACE,MAAO,qBACH2qC,EAAYjlB,EAAK,EADd,IAEH,QAAI,GACFA,EAIR,aACE6jB,GADgB,EAGhB,IAAI7jB,EAAOilB,EAAX,GAHgB,IAKZrB,IALY,IAMdE,EA0OJ,sBACE,GAAI9jB,IAAJ,QACO,GAAI,SAAmB+jB,aAAqB/jB,EAA5C,SAA2D,CAChE,IAAIqlB,EAAanX,EAAc,EAA/B,GACA5O,iBAFgE,GAI5D,MAJ4D,GAK9DqmB,EAAc,EAAD,EALiD,GAQhE1B,EAAUoB,OACL,GAAI,QAAJ,SACLpB,YADK,MAEA,CACL6B,EAAc,EAEZ/B,EAFW,WAGX/jB,EAHW,WAIVolB,EAAQA,GAAS,UALf,UAcL,IANIW,MAAW,GACXC,EAAW,GACXC,EAAc,GACdC,EAAcnC,EAAQR,SACtBA,EAAWvjB,EAAKujB,SAEX1rC,EAAT,EAAgBA,EAAIquC,EAApB,OAAwCruC,IAAK,CAC3CouC,KAAiBhC,aAD0B,GAIvC,OADAkC,EAASC,EAAOF,EAApB,OAEEH,KAAmB,CAACE,EAAD,GAAiBC,EALK,KASzCruC,EAvBC,UAwBDmoC,EAxBC,EA0BEA,EAAIuD,EA1BN,QA0BuB,KACtB4C,EAASC,EAAOF,EADM,IAEtBG,EAASD,EAAQ7C,KAAc0B,EAAY1B,EAFrB,KAI1B,GAAIyC,EAAJ,GACEnuC,SAIF,GAAI,SAAkBwuC,IAAWD,EAAOF,EAAYruC,EAApD,IAQA,GAAI,SAAJ,EACM,MADN,IAEIstC,EAAM,EAASc,EAAV,GAA0BC,EAA1B,GAA0C3C,EAA1C,GAFT,GAGIvD,KAEFnoC,QACK,CACL,IAAIyuC,EAAYP,MAAhB,GAEII,IAHC,GAIHhB,EAAM,EAASmB,EAAV,GAAwBA,EAAxB,GAAsC/C,EAAtC,GAJF,GAKH1rC,KACSyuC,EANN,GAOHnB,EAAM,EAEJlB,eAAqBqC,EAArBrC,GAAmCgC,EAFhC,IAGHK,EAHG,GAIH/C,EAJG,GAPF,GAeH4B,EAAM,EAASc,EAAV,QAAgC1C,EAAhC,GAfF,GAkBLyC,KAAmBzC,EAlBd,GAmBLvD,SAhCI,MADuD,GAEzD2F,EAAc,EAASM,EAAV,GAA0BC,EAFkB,IAI3DruC,IAvCC,KAwEEA,EAAIquC,EAxEN,QAyEC,QAAOA,EAzER,KA0EDP,EAAc,EAASM,EAAV,GAA0BC,EA1EtC,IA4EHruC,IAGF,IAAK,IAAL,OACOmuC,EADP,IAEIL,EAAc,EAASI,KAAV,GAA0BA,KAA1B,IAInB,OAAO9B,EA5USkB,CAAM,EAAD,IAAmCpB,EANxC,IAShBO,GAAc,EAEPD,EAXS,QAWSA,UAG3B,aACOR,IACHA,GAAa,EACbxpC,WAHsB,IAO1B,gBACE,IAAIiQ,EAAJ,GAEA,IAAK,IAAL,OAAsBA,KAASV,EAATU,GACtB,IAAK,IAAL,OAAsBA,KAASmkB,EAATnkB,GAEtB,OAAOA,EAGT,kBACE,IAAIV,EAAJ,GAD4C,OAExC+6B,EAFwC,QAG1C/6B,EAAO+6B,EAAP/6B,IACE,WACIo7B,EAAgBL,QAAD,KAAuBlW,EAAOkW,EADjD,KAJwC,EAOnCH,EAAM,EAP6B,IASrC1rC,EAGT,gBAAuC,IACrC,IAAIjB,EADiC,EAE9BA,EAAI8sC,EAF0B,QAGnClW,EAASA,EAAOkW,EAAK9sC,MAEvB,OAAO42B,EAyCT,cACE,OAAOzO,EAAOA,EAAH,IAAc,KAG3B,cACE,OAAO9J,uBAA2BA,EAA3BA,SAGT,sBACE,GAAI,QAAJ,QACO,GAAI,UAAJ,EAeD,YAAmB,QAflB,IAgBH9d,EAAOA,QAhBJ,GAkBC6rC,EAlBD,YAmBcwC,EAAWxC,SAnBzB,IAqBDA,SArBC,GAwBHA,YAxBG,EA0BCnrC,GA1BD,GA4BCmrC,qBA5BD,GA+BDA,wBA/BC,IAkCH7rC,QACA,SADAA,GAEA,SAFAA,GAGA,cAHAA,GAIA,eAJAA,GAKA,cALAA,IAlCG,EA0CH6rC,KAAgB,QAAK,GA1ClB,EA2CM,UAAiB,IA3CvB,GA4CHA,iBA5CG,IA+CD,UAAiB,IA/ChB,IAgDHA,kBAhDG,QACL,GAAI,iBAAJ,EACEA,gBADF,OAIE,IAAK,IAAL,IADI,iBAAOwC,IAAuBA,EAAWxC,gBAAwB,IACvDO,EAAMlsC,EAApB,GAAsC,CACpC,IAAIonB,EAAQ,SAAiB,QAAjB,MAAyC5mB,EAArD,GACI,QAFgC,GAGlCmrC,sBAHkC,GAKlCA,WAAmBvkB,GA2C7B,gBAAoC,IAC9BukB,EACF,oBAA4B,iBAA5B,EACIlc,wBADJ,IAEKqd,EAAQA,GAAS,UAAlB,UACErd,sDAEE/H,EAHJ,UAKE+H,uBAAuB/H,EATG,UAW9BqjB,EAAarjB,EAXiB,WAYlC,KAAgB,CACVqjB,EADU,UAEZgB,QAAe,WACbhB,iBAIJ,IAAK,IAAIxrC,EAAT,EAAgBA,EAAImoB,WAApB,OAA0CnoB,IACxCosC,cACE/V,EACGlO,cAAmBilB,EAAYjlB,WADrB,IADfikB,IAQF,IAAK,IAAL,OACEwB,EAAgB,EAAD,EAAgBpC,EAAhB,WAInB,OAAOY,EAGT,oBACE,IAAK,IAAL,KAAiBO,EAAM,EAAvB,GAEInB,QACC,YAAoB,YAApB,EACGY,EADH,GAEG2B,EALR,KAOIH,EAAgB,EAAD,EAGbpC,EAHa,GAIbuC,EAJa,GAPnB,GAiBA,IAAIzmC,EAAKmlC,EAAcjB,EAAH,SAAyBA,EAA7C,SACIlkC,GACFklC,QAAe,WACbllC,EAAG7E,EAAD,MAmBR,SAAAqmB,EAAA,OACE,aACErB,cAhBJ,gBACE,IAAI+jB,EAAarjB,EAAjB,WACA,KAAgB,CACd,IAAK,IAAInoB,EAAT,EAAgBA,EAAImoB,WAApB,OAA0CnoB,IACxCkvC,EAAe9C,aAAD,GAAwBjkB,WAAtC+mB,IAGE1D,EALU,WAMZA,eAGJ,OAAOY,EAKc8C,CAAe,EAAlCznB,IAGF,IAAIngB,EAAK6gB,cAAmBA,aAA5B,SACI7gB,EACFA,EAAG,EAPuC,GAS1CggB,IA9Q+C,MAC/CiE,EAAM,GADyC,IAE/C0gB,EAAeF,GAAaA,WAAd,IAFiC,KAG/CG,EAAUD,GAWd,cACE,MAAO,CACLN,SAAUS,WADL,cAELZ,WAFK,GAGLE,SAAUngB,OAAS6gB,EAAT7gB,YAA6B,YACrC,OAAO,IAAA9oB,EAAA,SACH2pC,EADG,UAEHD,EAAe1pC,OAlBI0pC,CAHsB,GAI/CK,EAJ+C,GAM/CC,GAAc,EACdC,EAAcC,EAPiC,GAQ/CC,EA4EJ,kBACE,IAAK,IAAL,OACE,mBAAOf,EAAP,GACK,cACCA,KAAe,YACb,IAAImB,EAASD,EAAb,GAoBA,MAlBI,mBAAOC,IACTA,EAASA,EAAOC,EAAgB,EAAjB,OAIfD,GACAA,KAAYnyB,EAAQoyB,EAAgB,EADpCD,MAECA,EAAO5e,MAER8e,EACGR,EAAcS,EAAgB,EAE7BR,EAAM,EAFsB,GADlB,IASTK,GAtBV,CAAD,EAwBQnB,EAzBZ,IA0BIgB,EACEC,SADgB,GAEfjyB,KAAa8xB,EAAM9xB,EAFJ,IAGfgxB,KAAec,EAAMd,EA7B5B,KAiCF,OAAOA,EA/GUgB,CAAmB,GAAI,EAAaF,EARJ,IAUnDO,WAEON,EA0WR,ICjWKyC,EAAY,oBAAkB,6BAC7BpuC,EAD6B,OAE/BA,MAAK,EAFV,GAIMquC,EAAe,CACnBC,KAAM,kBAAU,CAACC,SADE,IAEnBC,OAAQ,kBAAU,CAACC,WAFA,IAGnBC,MAAO,kBAAU,CAACC,UAAWP,EAAU,EAHpB,UAInBrX,MAAO,kBAAU,CAAC6X,WAJC,IAKnBC,QAAS,kBAAU,CAACC,eALD,IAMnBC,QAAS,kBAAU,CAACC,OAAQZ,EAAU,EANnB,OAOnBY,OAAQ,kBAAU,CAACA,OAAQZ,EAAU,EAAnB,QAQPa,EAAU,YAAQxE,MAAkB,uDAAP,GAClCyE,EAAkBC,EAAK,iBAALA,MACpBA,EAAK,MACL,CAACA,EAAK,OAEJC,EAAa,CACjB,qBAN6C,IAU3CD,EAV2C,aAW7CC,OAAgB,YAAcD,EAXe,iBAczCE,EAAe,iBAAOF,EAAP,SAEjB1vC,iBAAkB0vC,SAhByB,IAkBzCvoB,EAAQnnB,uBAA0B,cAAkB,IAClDO,EAAQquC,KACVA,KAAmBc,EADTd,kBAIP5uC,mBALKA,KAlBiC,UA0BxC6qC,EAAE,MAAO,CACdoC,SAAUyC,EADI,SAEdjB,UAAWiB,EAFG,gBAGPC,UAAkB,oBAAlBA,UAHO,KAIdxoB,MAJM,GA1BH,IC7BM0oB,EAAM,qBACjBhF,EAAE,EAAS7qC,cAAc,CACvB8vC,YADS9vC,gBAED,OACD,CAAC,eAAgB0vC,EAAK,SAJ1B,ICDA,kFCtCP,cAIIrwC,iBAAiB0wC,EADf,2BAAgC,iBAAO1vC,OAAOsuB,SACrB,YACzB,cAAcxpB,GAGW,YACzB,OAAOA,GAAO,mBAAPA,QAAuCA,gBAAvCA,QAAqEA,IAAQ9E,OAA7E8E,0BAAkHA,GAItH4qC,EAAQ,GAGjB1wC,UAAiB0wC,KCuBJC,EAAO,YAAqB,IACjC1wC,EAAIowC,GAASK,aAATL,GACNA,EADMA,IAD6B,SAShC7E,EAAE,IAAK,aAJJ6E,GAASK,aAATL,GACNA,EADMA,YAII,kBAGZvoB,MAAO,CACL8oB,gBAAiB,iCAAmC3wC,EAAnC,gBCvCtB,MAbD,SAAyB,EAAzB,KACMuB,YAAOsE,EACTnF,0BAAgC,CAC9BO,MAD8B,EAE9BL,YAAY,EACZqJ,cAAc,EACd1D,UAAU,IAGZV,KAAW5E,EAGN4E,GCwBI+qC,EAAgB,cAAuB,OACrClwC,YADqC,GAI3CkF,QAFQ,mBAAKirC,cAApB,MAEOjrC,QAEG,qBAAelF,mBACpBynC,EAAIiI,EADgB1vC,IAFlBkF,KAJF,KAgBMkrC,EAAY,WAAmB,MAAlB1tC,EAAkB,uDAAR,IAC9B2tC,GAAS,EAD6B,OAInC,cAAY,OACjBC,EAAQruC,aADS,GAEjBquC,EAAQxuC,YAAW,kBAAOuuC,GAAS,IAFlB,MAKfpyB,EALe,iBAMRrX,EANQ,KASjBypC,GAAS,GATQ,KChBRE,EAAc,oBAA4C,IAC/DC,EAAUd,WAAiB,aAC3Be,EAAWf,YAAkB,aAC7BgB,EAAYhB,aAAmB,aAE/BiB,EAAWC,GAAY,SAAA7uC,GAAA,MAAM,CAACkc,SAApC,QACM4yB,EAAa7wC,cACjB,CACEwwC,QAAS,SAAAzuC,GAAA,OAAMyuC,gBAAQvyB,YAAO0yB,EADhC,OAEEF,SAAU,SAAA1uC,GAAA,OAAM0uC,gBAASxyB,YAAO0yB,EAFlC,OAGED,UAAW,SAAA3uC,GACLkc,gBAAqByxB,EADV,SAEbA,mBAAczxB,YAAO0yB,EAFR,MAIfD,EAAU3uC,KARG/B,EAYjBkwC,EAAc,EAAO,CAAC,UAAD,wBAlB8C,qBAqB9DrF,EAAE,EAAS7qC,iBAAkB0vC,OAAlB1vC,GAAmC,OAC5C,2BADD,IAEJ4G,EAvBC,KCEMkqC,EAAS,eAACpB,EAAD,uDAAS,GAAI1E,EAAb,uDAAwB,UAC5CuF,EAAY,SAAD,MACR,YAAgB,IACXQ,EAAQ,UACVrB,EAAMsB,MACRD,OAAWlG,EAAEmF,EAAMN,EAAnBqB,OAGE,iBAAOrB,EAAMuB,OACfF,OAAWlG,EAAE,OAAQ,OAAT,cAAgC6E,EAA5CqB,QAGKlG,EAAE,SAAD,YACHkG,IAZI,SC6EAG,EAAO,mBAAWrG,EAAE,MAAO,CACtC1X,GADsC,oBAEtCge,UAFsC,yBAGtClE,SAAUyC,EAH4B,SAItCpC,SAAUoC,EAJ4B,SAKtCvoB,MAAO,CACLiqB,SAAS1B,qBADJ,QAEL2B,IAAK3B,WAAwBA,WAAPtiC,SAFjB,EAGLkkC,KAAM5B,WAAwBA,WAAPtiC,UARK,IAvF1BmkC,WAAK,GAAQvG,MAA6B,uDAAlB,GAAIwG,EAAc,uDAAN,EAElCP,EAAQ,YAAS,IACfjG,EAAW,SAEbyG,qBAA6B,kBAAOA,EAAMnmC,QAC5C0/B,OAAcH,EAAE,OAAQ,OACf,2BAA6B4G,mBADtCzG,OAGSyG,EAAMT,MACfhG,OAAcH,EAAEmF,EAAMyB,EAAtBzG,OAGFA,OAAcH,EAAE,OAAD,GAAa4G,EAA5BzG,QAXF,GAgBM+F,EAAQ,cAAkB,GAC1B,mBAAOU,EAAM/F,eACR+F,YAFqB,IASxBzG,EAAW,CACfH,EAAE,OAAQ,OALM4G,+CAEd,wBAA0BA,4BAPA,KAUER,EAVF,YAa1BQ,EAAMC,OACR1G,OAAcuG,EAAG,EAAOE,EAAR,MAAqBD,EAArCxG,IAdJ,GAlB8C,OAsCvCH,EAAE,KAAM,OAAP,IAELG,OACD,mBAASH,EAAE,KAAM,OAAP,uBAEP,CACDA,EAAE,MAAO,oDAEW4G,EAAMT,aAFjB,sBAGcS,EAAMC,cAC3BC,YAAaF,QAAc/B,EAAd+B,cACbG,WAAYH,QAAc/B,EAAd+B,cACZI,QAAS,YACHJ,EADW,QAKXA,EALW,SAMbA,YANa,GASX/B,EATW,SAUbA,cAVa,MAahBqB,EAAM,EAvBV/F,UAyDFuG,CAAG,EAAO7B,EAVN,QChFMoC,EAAU,qBACrBjH,EAAE,EAAS7qC,cAAc,CACvB8vC,YADS9vC,cAED,OACD,CAAC,mBAAoB0vC,EAAK,SAJ9B,ICFMqC,EAAc,YAAQ/G,MAAkB,uDAAP,GACrC6G,EAAiBnC,EAD2B,QACnChkC,EAAQgkC,EAD2B,YAG5C7E,EAAE,MAAO,CACdgH,QAAS,YAAQ,GACX,mBAAOA,EAAwB,KAC3BG,EAAa/zB,SADc,WAE3BF,EAAQ3a,6BAA6B4uC,EAA7B5uC,SAAkD6a,EAF/B,QAIjC4zB,EAAQ9vC,EAAI2J,GAAL,SAGVm/B,EAAE,OAAD,GAZC,KAqBMoH,EAAU,gBAAQjH,EAAR,uDAAmB,UACxCH,EAAE,EAAS7qC,mBAAyB,OAC3B,CAAC,mBAAoB0vC,EAAK,SADlC,aAGKA,SAAD,SAAwB,mBAAQ7E,EAAEkH,EAAa,CAChDrmC,KAAMooB,EAD0C,KAEhD+d,QAAU/d,WAAgB4b,EAFQ,SAGjC5b,EAHA,aAJA,MCxDP,SAASoe,EAAT,SACI/G,aAAc,WAAa,MAAO,IAC3B,SAAU,EAAV,GACH,OAAON,EAAEsH,GAAD,KAAkB,CACtBtxC,IAAK6uC,EADiB,IAEtBvc,GAAIuc,EAFkB,GAGtB0C,MAAO1C,EAHe,MAItBzC,SAAU,SAAU,GAChB,IAAIoF,EAAQnH,EAAI,EAAD,GAGX,SAAU,EAAV,GACI,IAAIzlC,EAAI2lC,EAAK,EAAb,GAEA,MADI,mBAAO3lC,IAAkBA,EAAIA,EAAE6sC,EAAD,IAASA,EAAT,MAC3B7sC,IANf,GAUA6sC,MAXoB,EAYpBA,MAZoB,EAapBA,MAASD,EAbW,IAcpBC,MAASD,EAdW,OAepBA,QAAcA,OAfM,GAgBpB3C,YAAkBA,eAEtBpC,SAAU,SAAUvrC,GAChBuwC,MADoB,EAEpBA,MAFoB,EAGpBA,EAHoB,MAIpB5C,YAAkBA,eAEtBjB,UAAW,SAAU1sC,GACjBuwC,OAAUA,SAEd5D,SAAU,SAAU3sC,EAAV,GAAoB,OACtB2tC,EADsB,cAG3BA,aAH2B,GACC9oB,QAM1C,IC6BK2rB,EAAQ,kBAA2C,IACjDC,EAAUpvC,MAAM6L,UAAU+7B,SAAhB5nC,oBAET,kBAAMynC,EAAE,MAAO,+BAElB4H,YAAa,SAAA1wC,GAAA,OA5CC,gBAA8B,IACzCsP,EAA4B4M,EADa,OACjCy0B,EAAoBz0B,EADa,QACxB00B,EAAW10B,EADa,QAE1C20B,EAAOvhC,EAFmC,gBAGzCwhC,EAA6BD,EAHY,YAG5BE,EAAgBF,EAHY,aAI1C70B,EAAQ3a,WAAWiO,aAAXjO,kBAJkC,GAK1C2vC,EAAWH,gBAL+B,YAM1CI,EAAYJ,gBAN8B,kBAQ5C70B,UAIEk1B,EAAY,SAAAlxC,GAAM,MAObkN,KAPa,IACtBgP,EADsB,qBAGlB3W,EAAOwoC,eAAW,EAAgCgD,KAElDhD,eAA4B,KACxBoD,EAAQj1B,UAAay0B,EAC3BprC,EAAO2H,IAAmB3H,EAF5B,OAGO,KACC6rC,EAAQl1B,UAAa00B,EAC3BrrC,EAAO2H,IAAoB3H,EAApB2H,GAGTk8B,UAAgB,CAACptB,MAAD,EAAQzW,KAb1B,KAsBA2W,mBACAuR,yCACAA,qCARM4jB,WAAU,GACdn1B,EADoB,iBAEpBuR,yCAFoB,GAGpBA,uCAHF,OAgBuBijB,CAAY1wC,EAAD,WALqB,OAmBhDipC,OAXO,cAAU,IAChBnrB,EAAI1F,WAAwBA,QAAP/M,aAAjB+M,SAEH0wB,EAAE,MAAO,6BAEd1jB,MAAO,CACLksB,KAAMxzB,EAAI,OAAH,UAHH,IAHV,MAWOmrB,KAEA,oBAAU,CAAC,EAAGwH,EAFdxH,eAGG,qBAAUx6B,SAHbw6B,cAIG,wBAAK,IAJRA,MC3DHsI,GD2EQpB,EAAS,CACrBqB,MADoB,IAEnB,CACDx0B,KAAM,kBAAU,CAACw0B,MAAO7D,SAAe,CADtC,OAED8D,QAAS,gBAAEz1B,EAAF,EAAEA,MAAOzW,EAAT,EAASA,YAAU,YAAS,IAC7BisC,EAAQ,GAAG/wC,OAAO2X,EAAV,cACdo5B,KAAejsC,EACR,CAACisC,MAHD,OAbE,qBAAoB,cAAqB,IAC9CzD,EAAcJ,eAAqB,kBAElC7E,EAAE,EAAS,CAChBiF,YADgB,QAAV,wBAGLyC,EAAM,EAAD,IANG,OASS,OEzEPnC,ICAAA,IFFC,oBAAEqD,EAAF,EAAEA,OAAQhD,EAAV,EAAUA,SAAUiD,EAApB,EAAoBA,qBAAoCD,GAAD,SAChE,qBAAkB5I,EAAE,MAAO,OACvB1wB,mCADuB,GAE9Bu5B,cAAe,aACZA,GAAiB,cAAez1B,EAAIF,EAHT,IAK9B8zB,QAAS,YACP1G,mBADa,IAEZsF,GAAY,cAAexyB,EAAIF,EAAOkzB,KAExCpG,EAAE,OAAD,GAViE,SAYjE0H,EAAQ,qBAAqBvH,OAC5B,qBAAkBH,EAAE,MAAO,OACvB1wB,mCADe,IADS6wB,OGLtB2I,GHUAzB,EAAS,CACpB0B,cADmB,GAElB,CACD70B,KAAM,kBAAU,CACd60B,cAAelE,iBAFhB,IAIDmE,iBAAkB,mBAAiB,iBAAU,CAACD,cAAf,OAC9B,qBAAoB,qBAAqB/I,EAAE,MAAO,OAAR,yBAE1C,CACDA,EAAE,MAAO,OAAR,wBAAyCyI,EAAQ,EAAD,EADhD,IAEDzI,EAAE,MAAO,OAAR,uBAAwC0H,EAAM,EAJ9C,SAPkB,OGVC,gBAAQvH,EAAR,uDAAmB,UACvCH,EAAE,EAAS7qC,iBAAkB0vC,OAAlB1vC,GAAmC,OACrC,CAAC,kBAAmB0vC,EAAK,SADjC,CAGC7E,EAAE,SAAU7qC,cAAc,CACxB8zC,YADU9zC,GAETkwC,EAAc,EAAO,CAFvB,oBAJE,OC4qBLprC,GCrpBYotC,EAAS,CACrB9d,QAAQ,GACP,CACDrV,KAAM,kBAAU,CACdg1B,OAAOrE,MAFR,SAIDsE,SAAU,YAAE/1B,MAA0B,EAA1BA,GAAImW,EAAsB,EAAtBA,OAAsB,SAAd4f,UACC,cACvBptC,KACO,CAACwtB,OAAD,MAtCE,qBAAoB,cAAqB,OAC7CyW,EAAE,EAAS7qC,iBAAkB0vC,OAAlB1vC,GAAmC,OAC5C,CADD,+BAEJ,CACF6qC,EAAE,MAAO,kCAEPgH,QAAS,mBAAM1G,WAAiB,CAC9BltB,GAD8B,EAE9BmW,QAASja,EAFqB,OAG9B65B,SAAUtE,EAHGvE,aAKd,CACDN,EAAE,MAAO,qDAEe1wB,EAAMia,OAH7B,KAKDyW,EAAE,MAAO,OAAR,kCAEE6E,EAfH,SAiBF7E,EAAE,MAAO,mCAEP1jB,MAAO,CACLiqB,SAASj3B,6BAvBJ,QA6BS,OCrBf,eFnCP,IAAI85B,EAAW,SAAUlyC,GAWvB,oBAAmD,IAE7CmyC,EAAiBC,GAAWA,uBAAXA,IAF4B,EAG7CC,EAAYp0C,cAAck0C,EAHmB,WAI7CjzB,EAAU,IAAI,EAAQozB,GAJuB,IAQjDD,iBAAoBE,EAAiB,EAAD,KAE7BF,EAcT,kBACE,IACE,MAAO,CAAE3oC,KAAF,SAAkBtD,IAAKuB,SAAvB,IACP,MAAO3H,GACP,MAAO,CAAE0J,KAAF,QAAiBtD,IAAjB,IAiBX,cACA,cACA,cA4BA,cACE,mCAAoC,YAClCjH,KAAoB,YAClB,OAAOc,KAAKuyC,QAAQ,EAAb,OAoCb,cACE,oBACE,IAAIC,EAASC,EAASL,EAAD,KAArB,GACA,GAAI,YAAJ,KAEO,KACD9H,EAASkI,EADR,IAEDj0C,EAAQ+rC,EAFP,aAGD/rC,GACA,iBADAA,GAEAs6B,SALC,WAMI5N,gBAAgB1sB,EAAhB0sB,eAAoC,YACzCynB,EAAO,OAAQ,EAAT,QACL,YACDA,EAAO,QAAS3yC,EAAV,QAIHkrB,yBAA4B,YAIjCqf,QAJqD,EAKrDpf,EAAQ,MACP,YAGD,OAAOwnB,EAAO,QAAS3yC,EAAV,QAvBforB,EAAOqnB,EADT,KA6BF,MAgCAxyC,KAAA,QA9BA,cACE,aACE,OAAO,IAAIirB,SAAQ,cACjBynB,EAAO,EAAD,UAIV,OAAOC,EAaLA,EAAkBA,SAAH,GAKXC,KA6BV,kBACE,IAAIz6B,EAAJ,iBAEA,OAAO,cACL,GAAI,cAAJ,EACE,MAAM,IAAIzY,MAAV,gCAGF,GAAI,cAAJ,EAAiC,CAC/B,GAAI,UAAJ,EACE,MAAM,EAKR,OAAOmzC,IAZyB,IAelC5zB,SAfkC,EAgBlCA,MAhBkC,IAkBrB,CACX,IAAI6zB,EAAW7zB,EAAf,SACA,KAAc,CACZ,IAAI8zB,EAAiBC,EAAoB,EAAzC,GACA,KAAoB,CAClB,GAAID,IAAJ,EAAyC,SACzC,OAAOA,GAIX,GAAI,WAAJ,OAGE9zB,OAAeA,QAAgBA,EAHjC,SAKO,GAAI,YAAJ,OAAgC,CACrC,GAAI,mBAAJ,EACE9G,QAAQ,YACF8G,EAAN,IAGFA,oBAA0BA,EAA1BA,SAES,aARJ,QASLA,kBAAyBA,EATpB,KAYP9G,EA3BW,YA6BX,IAAIq6B,EAASC,EAAS,EAAD,EAArB,GACA,GAAI,aAAJ,KAA8B,CAO5B,GAJAt6B,EAAQ8G,oCAIJuzB,QAAJ,EACE,SAGF,MAAO,CACLj0C,MAAOi0C,EADF,IAEL5tB,KAAM3F,EAFD,MAKE,YA9CA,OA+CT9G,EA/CS,YAkDT8G,SAlDS,QAmDTA,MAAcuzB,EAnDL,OA6DjB,gBACE,IAAI9uC,EAASovC,WAAkB7zB,EAA/B,QACA,GAAIvb,IAAJ,EAA0B,CAKxB,GAFAub,WAAmB,KAEf,YAAJ,OAAgC,CAE9B,GAAI6zB,oBAGF7zB,SAHF,SAIEA,MAJF,EAKE+zB,EAAoB,EALtB,GAOM,YAPN,QAUI,OAAO,EAIX/zB,SAhB8B,QAiB9BA,MAAc,IAAI7Z,UAAU,kDAI9B,OAAO6tC,EAGT,IAAIT,EAASC,EAAS,EAAQK,EAAT,SAA4B7zB,EAAjD,KAEA,GAAI,YAAJ,KACEA,gBAAiB,QACjBA,MAAcuzB,EAAOrsC,IACrB8Y,WAAmB,KACnB,EAGF,IAAIi0B,EAAOV,EAAX,IAEA,SAOIU,EAAJ,MAGEj0B,EAAQ6zB,EAAR7zB,YAA+Bi0B,EAHjC,MAMEj0B,OAAe6zB,EANjB,QAcM,aAdN,SAeI7zB,SAfJ,OAgBIA,MAhBJ,GA0BAA,WAAmB,KACZg0B,GANE,GA3BPh0B,SAAiB,QACjBA,MAAc,IAAI7Z,UAAU,oCAC5B6Z,WAAmB,KACnB,GAoDJ,cACE,IAAIe,EAAQ,CAAEmzB,OAAQC,EAAtB,IAEI,KAHsB,IAIxBpzB,WAAiBozB,EAJO,IAOtB,KAPsB,IAQxBpzB,aAAmBozB,EARK,GASxBpzB,WAAiBozB,EATO,IAY1BpzC,KAAKqzC,WAAW/xC,KAAK,GAGvB,cACE,IAAIkxC,EAASxyB,cAAb,GACAwyB,OAF4B,gBAGrBA,EAHqB,IAI5BxyB,aAAmBwyB,EAGrB,cAIExyC,KAAA,WAAkB,CAAC,CAAEmzC,OAJO,SAK5Bd,YAL4B,MAM5BryC,KAAKszC,OAAM,GA8Bb,cACE,KAAc,CACZ,IAAIC,EAAiBC,EAArB,GACA,KACE,OAAOD,OAAP,GAGF,GAAI,mBAAOC,EAAX,KACE,OAAO,EAGT,IAAK3oC,MAAM2oC,EAAX,QAA6B,CAC3B,IAAIl2C,GAAJ,EAAYuc,EAAO,SAAS,IAAO,OACxB,EAAI25B,EADoB,QAE/B,GAAI3a,SAAJ,GACEhf,eAAa25B,EAAS,GACtB35B,UACA,EAIJA,eAAavV,EACbuV,UAEOA,GAGT,OAAOA,OAAYA,GAKvB,MAAO,CAAEA,KAAF,GAIT,aACE,MAAO,CAAEtb,MAAF,EAAoBqmB,MAAM,GAxeH,MAG5B6uB,EAAKz1C,OAHuB,UAI5B66B,EAAS4a,EAJmB,eAM5BC,EAAU,iCANkB,GAO5BC,EAAiBD,YAPW,aAQ5BE,EAAsBF,iBARM,kBAS5BG,EAAoBH,eATQ,gBAuBhCt2C,OAvBgC,MAkD5B61C,EAlD4B,GA8D5Ba,EA9D4B,GA+DhCA,KAAoC,WAClC,OAAO9zC,MAhEuB,IAmE5B+zC,EAAW/1C,OAnEiB,eAoE5Bg2C,EAA0BD,GAAYA,EAASA,EAASE,EApE5B,MAqE5BD,GACAA,IADAA,GAEAnb,SAvE4B,KA0E9Bib,EA1E8B,GA6EhC,IAAII,EAAKC,YACPC,YAAsBp2C,cADxB,GAEAq2C,mBAA8BH,cAAiBC,EAC/CA,cAAyCE,EACzCF,KACEE,cAAgC,oBAYlCj3C,sBAA8B,YAC5B,IAAI+J,EAAO,sBAAgCmtC,EAA3C,YACA,YACIntC,OAGA,uBAACA,eAAoBA,EAJzB,QAQF/J,OAAe,YACTY,cAAOotB,eACTptB,4BAEAs2C,YAAmBH,IACbN,KAAF,KACFS,KAA4B,sBAGhCA,YAAmBt2C,iBACZs2C,GAOTl3C,QAAgB,YACd,MAAO,CAAEm3C,QAAF,IAsETC,EAAsBC,EAAD,WACrBA,eAA+C,WAC7C,OAAOz0C,MAET5C,gBAAwBq3C,EAKxBr3C,QAAgB,kBACd,IAAIsvB,EAAO,IAAI,EACbxQ,EAAK,EAAD,IADN,IAIA,OAAO9e,2BAEHsvB,eAAiB,YACf,OAAO4d,OAAcA,EAAdA,MAA6B5d,aAuK5C8nB,EAAsB,GAEtBN,KAAwB,YAOxBA,KAAqB,WACnB,OAAOl0C,MAGTk0C,WAAc,WACZ,MAAO,sBAkCT92C,OAAe,YACb,IAAI8F,EAAJ,GACA,IAAK,IAAL,OACEA,UAEFA,mBAIO,SAASnE,IAAO,KACdmE,EADc,QACD,CAClB,IAAIrE,EAAMqE,EAAV,MACA,GAAIrE,KAAJ,EACEgb,eAAahb,EACbgb,UACOA,EAOXA,iBACOA,IAsCXzc,SAAiB62C,EAMjBS,YAAoB,CAClBptC,YADkB,EAGlBgsC,MAAO,YAcL,GAbAtzC,KAAK+oB,KAAO,EACZ/oB,KAAK6Z,KAAO,EAGZ7Z,KAAK20C,KAAO30C,KAAK40C,MAAQtwC,EACzBtE,KAAK4kB,MAAO,EACZ5kB,KAAK8yC,SAAW,KAEhB9yC,KAAK0D,OAAS,OACd1D,KAAKmG,IAAM7B,EAEXtE,KAAKqzC,WAAWprB,QAAQ,IAExB,EACE,IAAK,IAAL,UAEM,mBACA4Q,YADA,KAEChuB,OAAOhN,QAJd,MAKImC,KAAK,GALT,IAWJ60C,KAAM,WACJ70C,KAAA,QADe,IAIX80C,EADY90C,KAAKqzC,WAHN,cAKf,GAAI,YAAJ,KACE,MAAMyB,EAAN,IAGF,OAAO90C,KAAK+0C,MAGdC,kBAAmB,YAMjB,gBACExC,cAAc,QACdA,MAAayC,EACbh2B,OAAei2B,EAEXC,IAGFl2B,SAAiB,OACjBA,MAAc3a,KAGN6wC,EAjBZ,GAAIn1C,KAAJ,KACE,MAAMD,EAmBR,IAhBIkf,MAAUjf,KAgBL1C,EAAI0C,KAAKqzC,WAAW9yC,OAA7B,EAAyC,GAAzC,MAAsD,KAChDyf,EAAQhgB,KAAKqzC,WADmC,GAEhDb,EAASxyB,EAFuC,WAIpD,GAAI,WAAJ,OAIE,OAAOgT,EAAP,OAGF,GAAIhT,UAAgBhgB,KAApB,KAA+B,KACzBo1C,EAAWvc,SADc,YAEzBwc,EAAaxc,SAFY,cAI7B,GAAIuc,GAAJ,EAA4B,CAC1B,GAAIp1C,KAAK+oB,KAAO/I,EAAhB,SACE,OAAOgT,EAAOhT,EAAD,aACR,GAAIhgB,KAAK+oB,KAAO/I,EAAhB,WACL,OAAOgT,EAAOhT,EAAD,iBAGV,GAAI,GACT,GAAIhgB,KAAK+oB,KAAO/I,EAAhB,SACE,OAAOgT,EAAOhT,EAAD,iBAGV,OAML,MAAM,IAAItgB,MANL,0CACL,GAAIM,KAAK+oB,KAAO/I,EAAhB,WACE,OAAOgT,EAAOhT,EAAD,gBAUvBs1B,OAAQ,cACN,IAAK,IAAI,EAAAh4C,EAAI0C,KAAKqzC,WAAW9yC,OAA7B,EAAyC,GAAzC,MAEE,IADIyf,EAAQhgB,KAAKqzC,WAAW,IACxBrzB,QAAgBhgB,KAAhBggB,MACA6Y,SADA7Y,eAEAhgB,KAAK+oB,KAAO/I,EAFhB,WAEkC,CAChC,IAAIu1B,EAAJ,EACA,MAIAA,IACC,aACA,aAFDA,IAGAA,UAHAA,GAIApvC,GAAOovC,EAfe,aAkBxBA,EAlBwB,MAqB1B,IAAI/C,EAAS+C,EAAeA,EAAH,WAAzB,GArB0B,OAsB1B/C,OAtB0B,EAuB1BA,MAvB0B,EAyBtB+C,GACFv1C,KAAK0D,OA1BmB,OA2BxB1D,KAAK6Z,KAAO07B,EA3BY,cA+BnBv1C,KAAKw1C,SAAS,IAGvBA,SAAU,cACR,GAAI,YAAJ,KACE,MAAMhD,EAAN,IAcF,MAXI,kBACA,eAAO/oC,KACTzJ,KAAK6Z,KAAO24B,EAAOrsC,IACV,aAAOsD,MAChBzJ,KAAK+0C,KAAO/0C,KAAKmG,IAAMqsC,EAAOrsC,IAC9BnG,KAAK0D,OAAS,SACd1D,KAAK6Z,KAAO,OACH,mBAA4B47B,IACrCz1C,KAAK6Z,KAAO47B,GAGPxC,GAGThzB,OAAQ,YACN,IAAK,IAAI,EAAA3iB,EAAI0C,KAAKqzC,WAAW9yC,OAA7B,EAAyC,GAAzC,MAEE,IADIyf,EAAQhgB,KAAKqzC,WAAW,IACxBrzB,aAAJ,EACE,OAAAhgB,KAAA,SAAcggB,EAAd,WAAgCA,EAAhC,UACA01B,EAAc,GACPzC,GAKb,MAAS,YACP,IAAK,IAAI,EAAA31C,EAAI0C,KAAKqzC,WAAW9yC,OAA7B,EAAyC,GAAzC,MAEE,IADIyf,EAAQhgB,KAAKqzC,WAAW,IACxBrzB,SAAJ,EAA6B,CAC3B,IAAIwyB,EAASxyB,EAAb,WACA,GAAI,YAAJ,KAA6B,CAC3B,IAAI21B,EAASnD,EAAb,IACAkD,EAAc,GAEhB,OAAOC,EAMX,MAAM,IAAIj2C,MAAM,0BAGlBk2C,cAAe,gBACb,OAAA51C,KAAA,SAAgB,CACd2sB,SAAUsnB,EADI,GAEd4B,WAFc,EAGdC,QAHc,GAMZ,SAAA91C,KAAK0D,SAGP1D,KAAKmG,IAAM7B,GAGN2uC,IAQJ71C,EAvrBM,CA8rBgBC,EA9rB/B,SAisBA,IACE04C,mBAAqB9D,EACrB,MAAO,GAUPnvC,SAAS,IAATA,kCGptBF,SAASkzC,EAAmB,EAA5B,aACE,IAAI,IACE9C,EAAO+C,KADT,GAEE13C,EAAQ20C,EAAK30C,MACjB,MAAOwB,GAEP,YADAorB,EAAOprB,GAILmzC,EATqE,KAUvEhoB,EAVuE,GAYvED,6BAwBJ,MApBA,SAA2B,GACzB,OAAO,WACL,IAAI9mB,EAAJ,KACIhD,EADJ,UAEA,OAAO,IAAI8pB,SAAQ,SAAU,EAAV,GAGjB,cACE+qB,EAAmB,EAAD,kBAGpB,cACEA,EAAmB,EAAD,mBAPpB,IAAIC,EAAMvuC,UAAV,GAUAwuC,OAAM,QCzBZ,MANA,SAAyB,EAAzB,GACE,KAAMnlB,aAAN,GACE,MAAM,IAAI3rB,UAAU,sCCFxB,SAAS+wC,EAAkB,EAA3B,GACE,IAAK,IAAI,EAAA74C,EAAT,EAAgBA,EAAIowC,EAApB,OAAkCpwC,KAC5B84C,EAAa1I,EADnB,IAEE0I,WAAwBA,iBACxBA,kBACI,UAJN,IAI6BA,eAC3Bp4C,wBAA8Bo4C,EAA9Bp4C,OAQH,MAJD,SAAsB,EAAtB,KACMq4C,UAAYF,EAAkBnlB,EAAD,aAC7BslB,GAAaH,EAAkB,EAAD,GAC3BnlB,GCkFHtwB,EAAU,YAAM,OACpBgH,IACO5H,WAAW,EAFpB,MAUay2C,EAAb,oBAAAx2C,EAEcy2C,GAAM,eACXA,KADW,OAEXr2B,SAAW,aAFA,KAGXgpB,QAHW,UAIXsN,SAAWjpB,0EAGR,KACHrN,SADG,UAEHgpB,QAAU,oCAMV,kBAGAsN,SAAStH,UAHT,gCAIAqH,KAAKE,MAAM1iB,YAAYh0B,KAJvB,cAMD22C,GAAW,EAAH,KAEPxN,QAAUD,EAAI,CACjB0N,SAAS,EACTC,KAFiB,GAGjB13B,SAAU,CACRkwB,IADQ,EAERC,KALc,IAOf,CACDwH,MAAO,mBAAQ,YAAS,GACtBxG,EAAKA,GAAM9iB,6CACXvtB,aAAa,GAETqwC,EAAI,KAEAyG,EAlFE,gBAA+B,IACzCzM,EADyC,GAEzC0M,EAASC,MAAsB3G,EAFU,aAGzC4G,EAAQD,OAAuB3G,EAHU,YAIzC6G,EAAOC,eAAoBH,EAJc,IAKzCI,EAAOD,cAAmBH,EALe,KAMzCK,EAAgBJ,EAAQE,EANiB,YAOzCG,EAAiBP,EAASI,EAPe,oBAS3CG,GACEH,eAAoB9G,EAAGQ,eACzBxG,MAAa8M,eAAoB9G,EAApB8G,aAAsCD,GAInDG,IACFhN,OAAc8M,cAAmB9G,EAAnB8G,YAAoCC,GAG5CE,OAnBV,KAkF8BC,CADPr7B,OADP,MAEuB,EAAWuxB,EAFlC,aAGFqJ,QACK,CAAC53B,SAAD,SARN,KAcPs4B,OAAQ,mBAAQ,WACdC,EAAeh3C,GAAQ,kBArHV,cAAc,IAC7B6uC,EAAKtzB,6BACJszB,IAKDA,kDACFA,EAAKA,aAAcS,YAGhBT,GAAOA,EAAGoI,gBAIfpI,kCAEaA,0BACTqI,MAAaR,EAAKvG,aACpBtB,gCAkGiCsI,CAAa17B,OAAD,MAAnB,QAExB27B,KAAM,mBAAa,cAAoB,IAChCjB,EAA0BlzC,EAA1BkzC,KAAM13B,EAAoBxb,EAApBwb,SAAU44B,GAAUp0C,EAAVo0C,QACPpB,SACLxN,SACF,GAAIhqB,aAAJ,MACLA,EAAW,CAACmwB,KAAMnwB,EAAP,QAAyBkwB,IAAKlwB,EADpC,cAEA,GAAIA,aAAJ,QAAiC,KAChC64B,EAAM74B,0BACZA,EAAW,CACTmwB,KAAM0I,EADG,KAET3I,IAAK2I,MAAUA,EAFN,eAMb77B,WAAgB,gBACVxY,EAD+B,UAEjCA,aAFiC,IAK/B+oB,MAL+B,WAMjCyc,EANJhtB,QAUAw6B,GAAW,EACXx6B,UAAexY,EAAQsX,QAEvBva,GAAQ,kBAAMyoC,EAAP,WAEA,CACLyN,SAAS,EACTC,KAAMA,GAFD,GAGL13B,SAAUA,GAAY,CAACkwB,IAAD,EAASC,KAhC7B,MAmCN2I,KAAM,kBAAM,WAAS,OACftB,GACF72C,YAAW,kBAAO62C,GAAW,IAAnB,GAERx6B,EAAKlB,SACPkB,YAEFA,UAAe,KACfA,WAAgB,KAET,CAACy6B,SAAS,MAjHZ,mBAAY,qBAAoB/N,EAAEqG,EAAM,CACnD/vB,SAAUuuB,EADyC,SAEnDkJ,QAASlJ,EAF0C,QAGnDmJ,KAAMnJ,EAH6C,KAInDmC,QAJmD,EAKnD4H,OAAQtO,EALW,UAmHdC,EAAK,YACDjtB,OADc,WAEbA,EAFa,UAGfA,mBAHC,cAMHnc,KA9Ec,yCAoFN,aACLA,KAAKmpC,SAAU,EAAAnpC,KAAA,sBAAf,WAA4C,oCAMvC,aACLA,KAAKmpC,SAAU,EAAAnpC,KAAA,sBAAf,WAA4C,WArHvD,GCtEMk4C,GAAyB,SAAAn4C,GAAM,IAC7BsP,EAAS4M,EADoB,OAE/Bk8B,EAAU9oC,eAFqB,eAG9B8oC,GAAW9oC,YAAO+oC,UACrBD,GAAU,KAAC,OAAD,qCAAgD9oC,EAAhD,OAJd,GCiBMuW,IDFN,oBAAA7lB,EAEcy2C,GAAM,eACXA,KADW,OAEX6B,YAAc,IAAI9B,EAAY,GAAhB,qCAGX,IACFM,EAAOrpB,6CACTqpB,GACFA,EAHM,cAMHwB,YAAYxgC,kJAIXygC,EAAiB,CACrBR,KAAM,wBAAa,8BADE,YAErBG,KAAM,wBAAa,2CAFE,KAKlBzB,KAAKzlB,SAAS,oBAAoB,WAAa,OAC9C1vB,UAD8C,OAEzCi3C,eAFyC,WAApD95C,KAAAwB,KAQKw2C,KAAKE,MAAMviB,iBAAiB,eAAe,YAC1C+jB,GADkD,KAKtDj8B,EALsD,kBAMtDA,EANF,2DAAAjc,UAAA,iCAAAA,KAAA,YAjBiB6X,IAiBjB,8BAUM,WACAsI,EAAW,aACFqN,wBADQ,qBAETqpB,SAAc56B,EAFL,SAIT4I,EAJS,aAKnBA,cALJ,QADM,KAUD2xB,KAAKE,MAAMviB,iBAAiB,QAAShU,MAVpC,KAWDq2B,KAAKx0C,KAAK,WAAW,WACxB6iB,kDAZI,KAeDwzB,YAAYt7B,WAvDrB,GCEiB,SAAC1Q,EAAKksC,GACrB,GAAIlsC,EAAK,CACP,IAAMmsC,EAAUnsC,EAAIwH,QAAQ,OAAQ,IAAI1E,MAAM,mBAAqB,GACnE,GAAIqpC,EAAQj4C,OAAQ,OACAi4C,EAAQ,GAAGpvB,MAAM,KADjB,WAGlB,MAAO,CAAChrB,EAHU,KAGPyE,EAHO,KAGJ8H,EAHI,OAOtB,OAAO0B,GAAOksC,IAGVE,GAAQ,SAAA3mB,GAAI,OAAIA,GAAsB,oBAAdA,EAAK4mB,MAsD7BC,GAAmB,SAACjL,EAAO1E,GAAR,OAAqBH,EAAE,MAAO,CACrDuH,MAAO,WACPjrB,MAAO,CACLiqB,QAAS,SAEVpG,IAEG4P,GAAW,SAAClL,GAAD,OAAW7E,EAAE,MAAO,GAAI,CACvCA,EAAE,MAAO,CACP1jB,MAAO,CACL0zB,MAAO,MACPC,OAAQ,MACRjzB,WAAY6nB,EAAMqL,OAAS,aAK3BC,GAAW,SAACtL,GAAD,OAAW7E,EAAE8I,EAAQ3zC,OAAOwnB,OAAO,CAClDwyB,IAAK,CACHzK,QAAQ,EACRV,KAAM,EACNE,OAAQ,IAETW,KAKGuL,GAAa,SAAC/1B,EAASimB,EAAShmB,GAAnB,MAA0B,CAC3C,CAAC8rB,MAAO9rB,EAAE,WAAY0sB,QAAS,kBAAM1G,EAAQ+P,YAC7C,CAACjK,MAAO9rB,EAAE,YAAa0sB,QAAS,kBAAM1G,EAAQgQ,aAC9C,CAAClK,MAAO9rB,EAAE,YAAai2B,UAAWl2B,EAAS2sB,QAAS,kBAAM1G,EAAQkQ,aAClE,CAACpK,MAAO9rB,EAAE,cAAe0sB,QAAS,kBAAM1G,EAAQmQ,eAChD,CAACrK,MAAO9rB,EAAE,YAAa0sB,QAAS,kBAAM1G,EAAQoQ,eA6D1CC,GAAoB,SAAChD,EAAMiD,EAAMC,EAAOC,GAApB,OAAgC,SAACC,EAAUC,GACnE,IAAM12B,EAAIqzB,EAAKsD,KAAK,eAAeC,UAC5B/K,EAAQwH,EAAKsD,KAAK,cAAlB9K,KACDgL,EAAMxD,EAAKsD,KAAK,YAEhBG,EAAiB,SAAC9hC,EAAOgxB,GAAR,OAAoBwQ,EAAQ9wB,KAAI,SAAArqB,GACrD,IAAM07C,EAAU17C,EAAEqqB,KAAI,SAAAle,GAAC,OAAIk+B,EAAEiG,EAAQ,CACnCttC,MAAOmJ,EAAEnJ,MACTwtC,KAAMrkC,EAAEqkC,KAAOA,EAAKrkC,EAAEqkC,WAAQ1qC,EAC9B8tB,QAAmC,IAA3Bja,EAAMu1B,MAAM/iC,EAAEwvC,SACtBtK,QAAS,WACHllC,EAAEwV,SACJxV,EAAEwV,SAAShI,EAAOgxB,EAASx+B,EAAEwvC,SACpBxvC,EAAEwvC,SACXhR,EAAQiR,YAAYzvC,EAAEwvC,WAGzBxvC,EAAE++B,QAAU/+B,EAAE++B,QAAQvxB,EAAOgxB,EAASx+B,EAAEwvC,SAAW,OAEtD,OAAOtR,EAAE8P,GAAkB,GAAIuB,OAG3BG,EAAyB,WAC7B,IAAMzzC,EAAK,SAAAyF,GAAG,OAAIA,EAAIwH,QAAQ,UAAW,SAEzC6lC,EAAMY,iBAAiB,CACrBC,KAAMv8C,OAAOwnB,OAAO,GAAIi0B,EAAKt4C,KAAKo5C,KAAM,CACtCC,SAAU5zC,EAAG6yC,EAAKt4C,KAAKo5C,KAAKC,UAC5BpQ,KAAMxjC,EAAG6yC,EAAKt4C,KAAKo5C,KAAKnQ,MACxBsO,KAAM,0BAsBZ,OAAOxP,EAAI,CACTwE,MAAO,CACL+M,SAAU,QACV1lB,SAAU,MACV2lB,UA7Ne,YA+NhB,CACDC,KAAM,kBAAM,SAAAxiC,GACNshC,EAAKt4C,KAAKo5C,MACZd,EAAKr3C,KAAK,gBAAgB,SAAAw4C,GACxBZ,EAAIa,UAAUpB,EAAKt4C,KAAKo5C,KAAMK,QAKpCE,KAAM,SAAAhpB,GAAI,OAAI,SAAC3Z,EAAOgxB,GACpB6Q,EAAIe,SAASjpB,GACVpG,MAAK,SAAAkvB,GAAQ,OAAInC,GAAM3mB,IAtNjBzlB,EAsNgCuuC,EAtNzB,IAAI3vB,SAAQ,SAACC,EAASC,GAC1C6vB,IAAU3xC,WAAWgD,EAAK,CACxBg7B,SAAU,SAAC/a,EAAK4a,EAAUliB,GAAhB,OAA4BA,KACrC,SAACrgB,EAAK2nB,GACP,OAAO3nB,EAAMwmB,EAAOxmB,GAAOumB,EAAQoB,UAkNoBsuB,EAtN5C,IAAAvuC,KAuNNqf,MAAK,SAAAkvB,GAAQ,OAAIzR,EAAQ8R,YAAYL,MAFxC,OAGS,SAAA77B,GAAK,OAAIhB,QAAQgB,MAAMA,QAGlC83B,KAAM,SAAA56B,GAAE,OAAI,SAAC9D,EAAOgxB,GAClBqN,EAAKsD,KAAK,oBAAoBhC,KAAK,CACjC34B,SAAUlD,EAAG5M,OACbwnC,KAAMoC,GAAWQ,EAAKt4C,KAAKo5C,KAAMpR,EAAShmB,OAI9Ci3B,YAAa,SAAAD,GAAO,OAAI,kBAAMV,EAAKr3C,KAAK,mBAAoB+3C,KAE5Dc,YAAa,SAAA5uC,GAAG,OAAI,kBAAMotC,EAAKr3C,KAAK,iBAAkBiK,KAEtD6uC,YAAa,gBAAEzxC,EAAF,EAAEA,KAAMsvC,EAAR,EAAQA,MAAR,OAAmB,kBAAMU,EAAKr3C,KAAK,mBAAoBqH,EAAMsvC,KAC1EoC,WAAY,kBAAM,SAAAhjC,GAAK,OAAIshC,EAAKr3C,KAAK,kBAAmB+V,EAAMu1B,SAE9D0N,SAAU,SAAA1N,GAAK,OAAI,SAAAv1B,GAAK,MAAK,CAC3Bu1B,MAAO1vC,OAAOwnB,OAAOrN,EAAMu1B,MAAOA,MAGpCwL,QAAS,kBAAM,SAAA/gC,GAAK,OAAIuhC,EAAM2B,cAC9BlC,SAAU,kBAAM,SAAAhhC,GAAK,OAAIuhC,EAAM4B,qBAC/BjC,SAAU,kBAAM,SAAClhC,EAAOgxB,GAClBsP,GAAMgB,EAAKt4C,KAAKo5C,MAClBF,IAEAlR,EAAQwR,SAGZrB,WAAY,kBAAM,SAAAnhC,GACZsgC,GAAMgB,EAAKt4C,KAAKo5C,MAClBF,IAEAX,EAAMY,qBAGVf,SAAU,kBAAM,SAAAphC,GAAK,OAAIshC,EAAK5hC,cAzEnB,SAACM,EAAOgxB,GAAR,OACXN,EAAEgF,EAAK,GAAI,CACThF,EAAEoH,EAAS,GAAI,CACbpH,EAAEkH,EAAa,CACbF,QAAS,SAAA5zB,GAAE,OAAIktB,EAAQ0N,KAAK56B,KAC3BkH,EAAE,eAEP0lB,EAAEiH,EAAS,GAAImK,EAAe9hC,EAAOgxB,IACrCN,EAAEgF,EAAK,CACLhB,KAAM,EACNE,OAAQ,EACRqD,MAAO,uBACNvH,EAAEmQ,GAAU,CACb/N,SAAU,SAAAqF,GAAE,OAAImJ,EAAKr3C,KAAK,kBAAmBkuC,WA6D1CsJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAMX2B,IAAKC,SAASC,KAAiB,SAACjF,EAAMr1C,EAAMwC,EAAS+3C,GACnD,IAAIC,EAEEn6C,EAAQg1C,EAAKsD,KAAK,eAAe8B,iBAAiBF,EAASl6C,OAE3Dm4C,EA9Kc,SAACkC,GAAD,MAAS,CAAC,CAAC,CAC/Br6C,MAAOq6C,EAAG,qBACV7M,KAAM,mBACNmL,QAAS,QACR,CACD34C,MAAOq6C,EAAG,qBACV7M,KAAM,qBACNmL,QAAS,UACR,CACD34C,MAAOq6C,EAAG,wBACV7M,KAAM,wBACNmL,QAAS,aACR,CACD34C,MAAOq6C,EAAG,0BACV7M,KAAM,4BACNmL,QAAS,kBACP,CAAC,CACH34C,MAAOq6C,EAAG,2BACV7M,KAAM,sBACNmL,QAAS,eACR,CACD34C,MAAOq6C,EAAG,6BACV7M,KAAM,wBACNmL,QAAS,iBACR,CACD34C,MAAOq6C,EAAG,4BACV7M,KAAM,uBACNmL,QAAS,iBACP,CAAC,CACH34C,MAAOq6C,EAAG,0BACV7M,KAAM,qBACNmL,QAAS,WACR,CACD34C,MAAOq6C,EAAG,0BACV7M,KAAM,qBACNmL,QAAS,WACP,CAAC,CACH34C,MAAOq6C,EAAG,yBACV1B,QAAS,YACTzQ,QAAS,SAACvxB,GAAD,OAAW0wB,EAAE+P,GAAU,CAACG,MAAO5gC,EAAMu1B,MAAMgN,aACpDv6B,SAAU,SAAChI,EAAOgxB,EAAS1/B,GAAjB,OAA0B0/B,EAAQ+R,YAAY,CAACzxC,OAAMsvC,MAAO5gC,EAAMu1B,MAAMgN,cACjF,CACDl5C,MAAOq6C,EAAG,yBACV1B,QAAS,cACTzQ,QAAS,kBAAMb,EAAE+P,KACjBz4B,SAAU,SAAChI,EAAOgxB,EAAS1/B,GAAjB,OAA0B0/B,EAAQ+R,YAAY,CAACzxC,OAAMsvC,MAAO5gC,EAAMu1B,MAAMoO,gBACjF,CACDt6C,MAAOq6C,EAAG,mBACVnS,QAAS,kBAAMmS,EAAG,oBAClB17B,SAAU,SAAChI,EAAOgxB,GAAR,OAAoBA,EAAQgS,iBA6HtBY,CADLvF,EAAKsD,KAAK,eAAekC,aAAaC,IAG3CxC,EAAOjD,EAAKsD,KAAK,mBAAoB,CAAC34C,OAAMwC,UAAS+3C,aAErD7B,EAAMJ,EAAKyC,aAAa,CAC5B16C,QACA2vB,GAAI,eACJ6d,KAAMyK,EAAK0C,SAAS1C,EAAKiC,SAAS1M,MAClCoN,UAAW,CAACvD,MAAO,IAAKC,OAAQ,OAE/Bh3C,GAAG,WAAW,kBAAM23C,EAAK5hC,aACzB/V,GAAG,UAAU,SAAC+3C,GAAD,OAASA,EAAIwC,WAC1Bv6C,GAAG,QAAQ,SAACma,EAAIvS,GACXA,EAAK4yC,QAAU5yC,EAAKgvC,OACRe,EAAKiC,SAASa,MAAMC,MAAK,SAAA9+C,GAAC,OAAK,IAAI2qB,OAAO3qB,GAAIgsB,KAAKhgB,EAAKgvC,UAEpEgB,EAAMhS,KAAKh+B,OAKbgwC,EAAQlD,EAAKsD,KAAK,yBAA0BL,EAAMI,EAAK,CAC3D4C,gBAAiB,mBACjBC,cAAe,CAAC,wBAGZC,EAAe,SAAC9+C,EAAMsD,EAAMgf,GAAb,OACnBq2B,EAAKsD,KAAK,cAAej8C,EAAMsD,EAAM,CACnC4jB,OAAQ80B,EACR/Q,WAAY,CACV8T,OAAO,KAER,SAACC,EAAKt+C,GACK,OAARs+C,GACF18B,EAAS5hB,OAIfs7C,EAAIlP,QAAO,SAACiP,EAAUC,GACpB,IAAMiD,EAAKtD,GAAkBhD,EAAMiD,EAAMC,EAAOC,EAArCH,CAA8CI,EAAUC,GAEnEH,EAAM53C,GAAG,YAAY,kBAAMg7C,EAAG7B,YAAY,OAC1CvB,EAAM53C,GAAG,YAAag7C,EAAGnC,MACzBjB,EAAM53C,GAAG,YAAag7C,EAAGhC,MAEzBrB,EAAK33C,GAAG,aAAa,SAAA4rC,GAAK,OAAIoP,EAAG1B,SAAS1N,SAG5C+L,EAAK33C,GAAG,oBAAoB,SAACq4C,GAC3B,GAAIwB,GAAkBxB,EAAS,8BADQh5C,EACR,iCADQA,EACR,mBAC7B,EAAAw6C,GAAeoB,YAAf,SAA2B5C,GAA3B,OAAuCh5C,QAI3Cs4C,EAAK33C,GAAG,kBAAkB,SAAAuK,GACpBsvC,IACFA,EAAejU,OACfiU,EAAexyC,MAvTJ,SAACswC,EAAMI,EAAKx6C,GAAZ,mQAUEo6C,EAAK9vB,IAVP,+BAWEkwB,EAAImD,IAXN,qTA/BI,UA+BJ,8MAmCmE39C,EAnCnE,oBAuTUgoC,CAASoS,EAAMI,EAAKxtC,IACzCsvC,EAAejqB,YAInB+nB,EAAK33C,GAAG,gBAAgB,SAAA8C,GAClB+2C,GAAkB/2C,GACpBA,EAAG+2C,EAAesB,KAAKC,cAI3BzD,EAAKz3C,KAAK,mBAAmB,SAACm7C,GAC5BxB,EAAiBwB,EAAOC,iBAAmBD,EAAOE,cAAc7vB,SAEhEisB,EAAKr3C,KAAK,iBAAkB,IAE5Bs3C,EAAM38B,UAGR08B,EAAK33C,GAAG,oBAAoB,SAACq4C,EAASpB,GAAV,OAC1B4D,EAAa,QAAS,CACpB5D,MAAOnzB,GAASmzB,EAAmB,gBAAZoB,EAA4B,CAAC/7C,EAAG,IAAKyE,EAAG,IAAK8H,EAAG,UAAOrG,KAC7E,SAAC/F,GACFk7C,EAAKr3C,KAAK,mBAAoB+3C,GAAS,EAAO57C,EAAMqhC,WAGxD6Z,EAAK33C,GAAG,mBAAmB,SAAA4rC,GACzBiP,EAAa,OAAQ,CAEnBW,QAAS,EACTC,QAAS,GACTj4C,KAAMooC,EAAM3Y,SACZl3B,KAAM6vC,EAAM+M,SACZ+C,KAAM,KACNv4B,MAAO,CACL,QACA,aACA,eAED,SAAC1mB,GACFk7C,EAAKr3C,KAAK,mBAAoB,YAAY,EAAO7D,EAAMV,MACvD47C,EAAKr3C,KAAK,mBAAoB,YAAY,EAAO7D,EAAM+G,YAI3Dm0C,EAAK33C,GAAG,WAAW,kBAAM43C,EAAM7hC,aAE/B,IAAM4lC,EAAW,CACf,GAAI,KACJ,OAAS,EACT,MAAQ,GAGJC,EAAe,CACnB5B,YAAa,aA+Bf,OA5BAjC,EAAI/3C,GAAG,cAAc,SAAA4H,GACnB,GAAmB,UAAfA,EAAKiS,OACHggC,GAAkBA,EAAegC,kBAAmB,OAQhDC,GAPS,MAAGp9C,OAAH,YAAam5C,IAAS9R,QAAO,SAAAnb,GAAI,QAAMA,EAAKytB,WACxDtxB,KAAI,SAAA6D,GAAI,OAAIA,EAAKytB,WACjB35C,OAAO,CACN,aACA,aAGkBsoB,QAAO,SAAC+0B,EAAOhgD,GACnC,IAAIU,EAAQo9C,EAAegC,kBAAkB9/C,GAK7C,OAJKU,GAASm/C,EAAa7/C,KACzBU,EAAQo9C,EAAegC,kBAAkBD,EAAa7/C,KAGjDG,OAAOwnB,OAAP,OACJ3nB,OAAkC,IAApB4/C,EAASl/C,GAAyBA,EAAQk/C,EAASl/C,IACjEs/C,KACF,IAEHpE,EAAKr3C,KAAK,YAAaw7C,GAEvBpH,EAAKsD,KAAK,oBAAoB7B,WAK7BwB","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 30);\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\n{\n  // avoid scope creep, the keys array can then be collected\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  pna.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  pna.nextTick(cb, err);\n};","/* eslint-disable node/no-deprecated-api */\n\n'use strict'\n\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\nvar safer = {}\n\nvar key\n\nfor (key in buffer) {\n  if (!buffer.hasOwnProperty(key)) continue\n  if (key === 'SlowBuffer' || key === 'Buffer') continue\n  safer[key] = buffer[key]\n}\n\nvar Safer = safer.Buffer = {}\nfor (key in Buffer) {\n  if (!Buffer.hasOwnProperty(key)) continue\n  if (key === 'allocUnsafe' || key === 'allocUnsafeSlow') continue\n  Safer[key] = Buffer[key]\n}\n\nsafer.Buffer.prototype = Buffer.prototype\n\nif (!Safer.from || Safer.from === Uint8Array.from) {\n  Safer.from = function (value, encodingOrOffset, length) {\n    if (typeof value === 'number') {\n      throw new TypeError('The \"value\" argument must not be of type number. Received type ' + typeof value)\n    }\n    if (value && typeof value.length === 'undefined') {\n      throw new TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type ' + typeof value)\n    }\n    return Buffer(value, encodingOrOffset, length)\n  }\n}\n\nif (!Safer.alloc) {\n  Safer.alloc = function (size, fill, encoding) {\n    if (typeof size !== 'number') {\n      throw new TypeError('The \"size\" argument must be of type number. Received type ' + typeof size)\n    }\n    if (size < 0 || size >= 2 * (1 << 30)) {\n      throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n    }\n    var buf = Buffer(size)\n    if (!fill || fill.length === 0) {\n      buf.fill(0)\n    } else if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n    return buf\n  }\n}\n\nif (!safer.kStringMaxLength) {\n  try {\n    safer.kStringMaxLength = process.binding('buffer').kStringMaxLength\n  } catch (e) {\n    // we can't determine kStringMaxLength in environments where process.binding\n    // is unsupported, so let's not set it\n  }\n}\n\nif (!safer.constants) {\n  safer.constants = {\n    MAX_LENGTH: safer.kMaxLength\n  }\n  if (safer.kStringMaxLength) {\n    safer.constants.MAX_STRING_LENGTH = safer.kStringMaxLength\n  }\n}\n\nmodule.exports = safer\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\n\nif (typeof process === 'undefined' ||\n    !process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) pna.nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    pna.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) pna.nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, unpipeInfo);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        pna.nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    pna.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._readableState.highWaterMark;\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    pna.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","module.exports = require('events').EventEmitter;\n","'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      pna.nextTick(emitErrorNT, this, err);\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      pna.nextTick(emitErrorNT, _this, err);\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n  if (state.corkedRequestsFree) {\n    state.corkedRequestsFree.next = corkReq;\n  } else {\n    state.corkedRequestsFree = corkReq;\n  }\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}","'use strict'\n\nclass RTFGroup {\n  constructor (parent) {\n    this.parent = parent\n    this.content = []\n    this.fonts = []\n    this.colors = []\n    this.style = {}\n    this.ignorable = null\n  }\n  get (name) {\n    return this[name] != null ? this[name] : this.parent.get(name)\n  }\n  getFont (num) {\n    return this.fonts[num] != null ? this.fonts[num] : this.parent.getFont(num)\n  }\n  getColor (num) {\n    return this.colors[num] != null ? this.colors[num] : this.parent.getFont(num)\n  }\n  getStyle (name) {\n    if (!name) return Object.assign({}, this.parent.getStyle(), this.style)\n    return this.style[name] != null ? this.style[name] : this.parent.getStyle(name)\n  }\n  resetStyle () {\n    this.style = {}\n  }\n  addContent (node) {\n    node.style = Object.assign({}, this.getStyle())\n    node.style.font = this.getFont(node.style.font)\n    node.style.foreground = this.getColor(node.style.foreground)\n    node.style.background = this.getColor(node.style.background)\n    this.content.push(node)\n  }\n}\n\nmodule.exports = RTFGroup\n","'use strict'\n\nclass RTFParagraph {\n  constructor (opts) {\n    if (!opts) opts = {}\n    this.style = opts.style || {}\n    this.content = []\n  }\n}\n\nmodule.exports = RTFParagraph\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","module.exports = OSjs;","'use strict'\nconst parse = require('rtf-parser')\nconst rtfToHTML = require('./rtf-to-html.js')\n\nmodule.exports = asStream\nmodule.exports.fromStream = fromStream\nmodule.exports.fromString = fromString\n\nfunction asStream (opts, cb) {\n  if (arguments.length === 1) {\n    cb = opts\n    opts = null\n  }\n  return parse(htmlifyresult(opts, cb))\n}\n\nfunction fromStream (stream, opts, cb) {\n  if (arguments.length === 2) {\n    cb = opts\n    opts = null\n  }\n  return parse.stream(stream, htmlifyresult(opts, cb))\n}\n\nfunction fromString (string, opts, cb) {\n  if (arguments.length === 2) {\n    cb = opts\n    opts = null\n  }\n  return parse.string(string, htmlifyresult(opts, cb))\n}\n\nfunction htmlifyresult (opts, cb) {\n  return (err, doc) => {\n    if (err) return cb(err)\n    try {\n      return cb(null, rtfToHTML(doc, opts))\n    } catch (ex) {\n      return cb(ex)\n    }\n  }\n}\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","'use strict'\nconst RTFParser = require('./rtf-parser.js')\nconst RTFDocument = require('./rtf-document.js')\nconst RTFInterpreter = require('./rtf-interpreter.js')\n\nmodule.exports = parse\nparse.string = parseString\nparse.stream = parseStream\n\nfunction parseString (string, cb) {\n  parse(cb).end(string)\n}\n\nfunction parseStream (stream, cb) {\n  stream.pipe(parse(cb))\n}\n\nfunction parse (cb) {\n  let errored = false\n  const errorHandler = err => {\n    if (errored) return\n    errored = true\n    parser.unpipe(interpreter)\n    interpreter.end()\n    cb(err)\n  }\n  const document = new RTFDocument()\n  const parser = new RTFParser()\n  parser.once('error', errorHandler)\n  const interpreter = new RTFInterpreter(document)\n  interpreter.on('error', errorHandler)\n  interpreter.on('finish', () => {\n    if (!errored) cb(null, document)\n  })\n  parser.pipe(interpreter)\n  return parser\n}\n\n","'use strict'\nconst Transform = require('readable-stream').Transform\n\nclass RTFParser extends Transform {\n  constructor () {\n    super({objectMode: true})\n    this.text = ''\n    this.controlWord = ''\n    this.controlWordParam = ''\n    this.hexChar = ''\n    this.parserState = this.parseText\n    this.char = 0\n    this.row = 1\n    this.col = 1\n  }\n  _transform (buf, encoding, done) {\n    const text = buf.toString('ascii')\n    for (let ii = 0; ii < text.length; ++ii) {\n      ++this.char\n      if (text[ii] === '\\n') {\n        ++this.row\n        this.col = 1\n      } else {\n        ++this.col\n      }\n      this.parserState(text[ii])\n    }\n    done()\n  }\n  _flush (done) {\n    if (this.text !== '\\u0000') this.emitText()\n    done()\n  }\n  parseText (char) {\n    if (char === '\\\\') {\n      this.parserState = this.parseEscapes\n    } else if (char === '{') {\n      this.emitStartGroup()\n    } else if (char === '}') {\n      this.emitEndGroup()\n    } else if (char === '\\x0A' || char === '\\x0D') {\n      // cr/lf are noise chars\n    } else {\n      this.text += char\n    }\n  }\n\n  parseEscapes (char) {\n    if (char === '\\\\' || char === '{' || char === '}') {\n      this.text += char\n      this.parserState = this.parseText\n    } else {\n      this.parserState = this.parseControlSymbol\n      this.parseControlSymbol(char)\n    }\n  }\n  parseControlSymbol (char) {\n    if (char === '~') {\n      this.text += '\\u00a0' // nbsp\n      this.parserState = this.parseText\n    } else if (char === '-') {\n      this.text += '\\u00ad' // soft hyphen\n    } else if (char === '_') {\n      this.text += '\\u2011' // non-breaking hyphen\n    } else if (char === '*') {\n      this.emitIgnorable()\n      this.parserState = this.parseText\n    } else if (char === \"'\") {\n      this.parserState = this.parseHexChar\n    } else if (char === '|') { // formula character\n      this.emitFormula()\n      this.parserState = this.parseText\n    } else if (char === ':') { // subentry in an index entry\n      this.emitIndexSubEntry()\n      this.parserState = this.parseText\n    } else if (char === '\\x0a') {\n      this.emitEndParagraph()\n      this.parserState = this.parseText\n    } else if (char === '\\x0d') {\n      this.emitEndParagraph()\n      this.parserState = this.parseText\n    } else {\n      this.parserState = this.parseControlWord\n      this.parseControlWord(char)\n    }\n  }\n  parseHexChar (char) {\n    if (/^[A-Fa-f0-9]$/.test(char)) {\n      this.hexChar += char\n      if (this.hexChar.length >= 2) {\n        this.emitHexChar()\n        this.parserState = this.parseText\n      }\n    } else {\n      this.emitError(`Invalid character \"${char}\" in hex literal.`)\n      this.parserState = this.parseText\n    }\n  }\n  parseControlWord (char) {\n    if (char === ' ') {\n      this.emitControlWord()\n      this.parserState = this.parseText\n    } else if (/^[-\\d]$/.test(char)) {\n      this.parserState = this.parseControlWordParam\n      this.controlWordParam += char\n    } else if (/^[A-Za-z]$/.test(char)) {\n      this.controlWord += char\n    } else {\n      this.emitControlWord()\n      this.parserState = this.parseText\n      this.parseText(char)\n    }\n  }\n  parseControlWordParam (char) {\n    if (/^\\d$/.test(char)) {\n      this.controlWordParam += char\n    } else if (char === ' ') {\n      this.emitControlWord()\n      this.parserState = this.parseText\n    } else {\n      this.emitControlWord()\n      this.parserState = this.parseText\n      this.parseText(char)\n    }\n  }\n  emitText () {\n    if (this.text === '') return\n    this.push({type: 'text', value: this.text, pos: this.char, row: this.row, col: this.col})\n    this.text = ''\n  }\n  emitControlWord () {\n    this.emitText()\n    if (this.controlWord === '') {\n      this.emitError('empty control word')\n    } else {\n      this.push({\n        type: 'control-word',\n        value: this.controlWord,\n        param: this.controlWordParam !== '' && Number(this.controlWordParam),\n        pos: this.char,\n        row: this.row,\n        col: this.col\n      })\n    }\n    this.controlWord = ''\n    this.controlWordParam = ''\n  }\n  emitStartGroup () {\n    this.emitText()\n    this.push({type: 'group-start', pos: this.char, row: this.row, col: this.col})\n  }\n  emitEndGroup () {\n    this.emitText()\n    this.push({type: 'group-end', pos: this.char, row: this.row, col: this.col})\n  }\n  emitIgnorable () {\n    this.emitText()\n    this.push({type: 'ignorable', pos: this.char, row: this.row, col: this.col})\n  }\n  emitHexChar () {\n    this.emitText()\n    this.push({type: 'hexchar', value: this.hexChar, pos: this.char, row: this.row, col: this.col})\n    this.hexChar = ''\n  }\n  emitError (message) {\n    this.emitText()\n    this.push({type: 'error', value: message, row: this.row, col: this.col, char: this.char, stack: new Error().stack})\n  }\n  emitEndParagraph () {\n    this.emitText()\n    this.push({type: 'end-paragraph', pos: this.char, row: this.row, col: this.col})\n  }\n}\n\nmodule.exports = RTFParser\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","'use strict'\nconst RTFGroup = require('./rtf-group.js')\nconst RTFParagraph = require('./rtf-paragraph.js')\n\nclass RTFDocument extends RTFGroup {\n  constructor () {\n    super()\n    this.charset = 'ASCII'\n    this.ignorable = false\n    this.marginLeft = 1800\n    this.marginRight = 1800\n    this.marginBottom = 1440\n    this.marginTop = 1440\n    this.style = {\n      font: 0,\n      fontSize: 24,\n      bold: false,\n      italic: false,\n      underline: false,\n      strikethrough: false,\n      foreground: null,\n      background: null,\n      firstLineIndent: 0,\n      indent: 0,\n      align: 'left',\n      valign: 'normal'\n    }\n  }\n  get (name) {\n    return this[name]\n  }\n  getFont (num) {\n    return this.fonts[num]\n  }\n  getColor (num) {\n    return this.colors[num]\n  }\n  getStyle (name) {\n    if (!name) return this.style\n    return this.style[name]\n  }\n  addContent (node) {\n    if (node instanceof RTFParagraph) {\n      while (this.content.length && !(this.content[this.content.length - 1] instanceof RTFParagraph)) {\n        node.content.unshift(this.content.pop())\n      }\n      super.addContent(node)\n      if (node.content.length) {\n        const initialStyle = node.content[0].style\n        const style = {}\n        style.font = this.getFont(initialStyle.font)\n        style.foreground = this.getColor(initialStyle.foreground)\n        style.background = this.getColor(initialStyle.background)\n        for (let prop of Object.keys(initialStyle)) {\n          if (initialStyle[prop] == null) continue\n          let match = true\n          for (let span of node.content) {\n            if (initialStyle[prop] !== span.style[prop]) {\n              match = false\n              break\n            }\n          }\n          if (match) style[prop] = initialStyle[prop]\n        }\n        node.style = style\n      }\n    } else {\n      super.addContent(node)\n    }\n  }\n}\n\nmodule.exports = RTFDocument\n","'use strict'\nconst assert = require('assert')\nconst util = require('util')\n\nconst Writable = require('readable-stream').Writable\nconst RTFGroup = require('./rtf-group.js')\nconst RTFParagraph = require('./rtf-paragraph.js')\nconst RTFSpan = require('./rtf-span.js')\nconst iconv = require('iconv-lite')\n\nconst availableCP = [\n  437, 737, 775, 850, 852, 853, 855, 857, 858, 860, 861, 863, 865, 866,\n  869, 932, 936, 949, 950, 1125, 1250, 1251, 1252, 1253, 1254, 1257 ]\nconst codeToCP = {\n  0: 'ASCII',\n  2: 'SYMBOL',\n  77: 'MacRoman',\n  128: 'SHIFT_JIS',\n  129: 'CP949', // Hangul\n  130: 'JOHAB',\n  134: 'CP936', // GB2312 simplified chinese\n  136: 'BIG5',\n  161: 'CP1253', // greek\n  162: 'CP1254', // turkish\n  163: 'CP1258', // vietnamese\n  177: 'CP862', // hebrew\n  178: 'CP1256', // arabic\n  186: 'CP1257',  // baltic\n  204: 'CP1251', // russian\n  222: 'CP874', // thai\n  238: 'CP238', // eastern european\n  254: 'CP437' // PC-437\n}\n\nclass RTFInterpreter extends Writable {\n  constructor (document) {\n    super({objectMode: true})\n    this.doc = document\n    this.parserState = this.parseTop\n    this.groupStack = []\n    this.group = null\n    this.once('prefinish', () => this.finisher())\n    this.hexStore = []\n  }\n  _write (cmd, encoding, done) {\n    const method = 'cmd$' + cmd.type.replace(/-(.)/g, (_, char) => char.toUpperCase())\n    if (this[method]) {\n      this[method](cmd)\n    } else {\n      process.emit('error', `Unknown RTF command ${cmd.type}, tried ${method}`)\n    }\n    done()\n  }\n  finisher () {\n    while (this.groupStack.length) this.cmd$groupEnd()\n    const initialStyle = this.doc.content.length ? this.doc.content[0].style : []\n    for (let prop of Object.keys(this.doc.style)) {\n      let match = true\n      for (let para of this.doc.content) {\n        if (initialStyle[prop] !== para.style[prop]) {\n          match = false\n          break\n        }\n      }\n      if (match) this.doc.style[prop] = initialStyle[prop]\n    }\n  }\n  flushHexStore () {\n    if (this.hexStore.length > 0) {\n      let hexstr = this.hexStore.map(cmd => cmd.value).join('')\n      this.group.addContent(new RTFSpan({\n        value: iconv.decode(\n          Buffer.from(hexstr, 'hex'), this.group.get('charset'))\n      }))\n      this.hexStore.splice(0)\n    }\n  }\n\n  cmd$groupStart () {\n    this.flushHexStore()\n    if (this.group) this.groupStack.push(this.group)\n    this.group = new RTFGroup(this.group || this.doc)\n  }\n  cmd$ignorable () {\n    this.flushHexStore()\n    this.group.ignorable = true\n  }\n  cmd$endParagraph () {\n    this.flushHexStore()\n    this.group.addContent(new RTFParagraph())\n  }\n  cmd$groupEnd () {\n    this.flushHexStore()\n    const endingGroup = this.group\n    this.group = this.groupStack.pop()\n    const doc = this.group || this.doc\n    if (endingGroup instanceof FontTable) {\n      doc.fonts = endingGroup.table\n    } else if (endingGroup instanceof ColorTable) {\n      doc.colors = endingGroup.table\n    } else if (endingGroup !== this.doc && !endingGroup.get('ignorable')) {\n      for (const item of endingGroup.content) {\n        doc.addContent(item)\n      }\n      process.emit('debug', 'GROUP END', endingGroup.type, endingGroup.get('ignorable'))\n    }\n  }\n  cmd$text (cmd) {\n    this.flushHexStore()\n    if (!this.group) { // an RTF fragment, missing the {\\rtf1 header\n      this.group = this.doc\n    }\n    this.group.addContent(new RTFSpan(cmd))\n  }\n  cmd$controlWord (cmd) {\n    this.flushHexStore()\n    if (!this.group.type) this.group.type = cmd.value\n    const method = 'ctrl$' + cmd.value.replace(/-(.)/g, (_, char) => char.toUpperCase())\n    if (this[method]) {\n      this[method](cmd.param)\n    } else {\n      if (!this.group.get('ignorable')) process.emit('debug', method, cmd.param)\n    }\n  }\n  cmd$hexchar (cmd) {\n    this.hexStore.push(cmd)\n  }\n  cmd$error (cmd) {\n    this.emit('error', new Error('Error: ' + cmd.value + (cmd.row && cmd.col ? ' at line ' + cmd.row + ':' + cmd.col : '') + '.'))\n  }\n\n  ctrl$rtf () {\n    this.group = this.doc\n  }\n\n  // new line\n  ctrl$line () {\n    this.group.addContent(new RTFSpan({ value: '\\n' }))\n  }\n\n  // tab\n  ctrl$tab () {\n    this.group.addContent(new RTFSpan({ value: '\\t' }))\n  }\n\n  // alignment\n  ctrl$qc () {\n    this.group.style.align = 'center'\n  }\n  ctrl$qj () {\n    this.group.style.align = 'justify'\n  }\n  ctrl$ql () {\n    this.group.style.align = 'left'\n  }\n  ctrl$qr () {\n    this.group.style.align = 'right'\n  }\n\n  // text direction\n  ctrl$rtlch () {\n    this.group.style.dir = 'rtl'\n  }\n  ctrl$ltrch () {\n    this.group.style.dir = 'ltr'\n  }\n\n  // general style\n  ctrl$par () {\n    this.group.addContent(new RTFParagraph())\n  }\n  ctrl$pard () {\n    this.group.resetStyle()\n  }\n  ctrl$plain () {\n    this.group.style.fontSize = this.doc.getStyle('fontSize')\n    this.group.style.bold = this.doc.getStyle('bold')\n    this.group.style.italic = this.doc.getStyle('italic')\n    this.group.style.underline = this.doc.getStyle('underline')\n  }\n  ctrl$b (set) {\n    this.group.style.bold = set !== 0\n  }\n  ctrl$i (set) {\n    this.group.style.italic = set !== 0\n  }\n  ctrl$u (num) {\n    var charBuf = Buffer.alloc ? Buffer.alloc(2) : new Buffer(2)\n    // RTF, for reasons, represents unicode characters as signed integers\n    // thus managing to match literally no one.\n    charBuf.writeInt16LE(num, 0)\n    this.group.addContent(new RTFSpan({value: iconv.decode(charBuf, 'ucs2')}))\n  }\n  ctrl$super () {\n    this.group.style.valign = 'super'\n  }\n  ctrl$sub () {\n    this.group.style.valign = 'sub'\n  }\n  ctrl$nosupersub () {\n    this.group.style.valign = 'normal'\n  }\n  ctrl$strike (set) {\n    this.group.style.strikethrough = set !== 0\n  }\n  ctrl$ul (set) {\n    this.group.style.underline = set !== 0\n  }\n  ctrl$ulnone (set) {\n    this.group.style.underline = false\n  }\n  ctrl$fi (value) {\n    this.group.style.firstLineIndent = value\n  }\n  ctrl$cufi (value) {\n    this.group.style.firstLineIndent = value * 100\n  }\n  ctrl$li (value) {\n    this.group.style.indent = value\n  }\n  ctrl$lin (value) {\n    this.group.style.indent = value\n  }\n  ctrl$culi (value) {\n    this.group.style.indent = value * 100\n  }\n\n// encodings\n  ctrl$ansi () {\n    this.group.charset = 'ASCII'\n  }\n  ctrl$mac () {\n    this.group.charset = 'MacRoman'\n  }\n  ctrl$pc () {\n    this.group.charset = 'CP437'\n  }\n  ctrl$pca () {\n    this.group.charset = 'CP850'\n  }\n  ctrl$ansicpg (codepage) {\n    if (availableCP.indexOf(codepage) === -1) {\n      this.emit('error', new Error('Codepage ' + codepage + ' is not available.'))\n    } else {\n      this.group.charset = 'CP' + codepage\n    }\n  }\n\n// fonts\n  ctrl$fonttbl () {\n    this.group = new FontTable(this.group.parent)\n  }\n  ctrl$f (num) {\n    if (this.group instanceof FontTable) {\n      this.group.currentFont = this.group.table[num] = new Font()\n    } else if (this.group.parent instanceof FontTable) {\n      this.group.parent.currentFont = this.group.parent.table[num] = new Font()\n    } else {\n      this.group.style.font = num\n\n      let fontCharset = this.group.getFont(num).charset\n      fontCharset = fontCharset && fontCharset !== 'ASCII' ? fontCharset : this.group.charset// default font charset\n      this.group.charset = fontCharset\n    }\n  }\n  ctrl$fnil () {\n    if (this.group instanceof FontTable || this.group.parent instanceof FontTable) {\n      this.group.get('currentFont').family = 'nil'\n    }\n  }\n  ctrl$froman () {\n    if (this.group instanceof FontTable || this.group.parent instanceof FontTable) {\n      this.group.get('currentFont').family = 'roman'\n    }\n  }\n  ctrl$fswiss () {\n    if (this.group instanceof FontTable || this.group.parent instanceof FontTable) {\n      this.group.get('currentFont').family = 'swiss'\n    }\n  }\n  ctrl$fmodern () {\n    if (this.group instanceof FontTable || this.group.parent instanceof FontTable) {\n      this.group.get('currentFont').family = 'modern'\n    }\n  }\n  ctrl$fscript () {\n    if (this.group instanceof FontTable || this.group.parent instanceof FontTable) {\n      this.group.get('currentFont').family = 'script'\n    }\n  }\n  ctrl$fdecor () {\n    if (this.group instanceof FontTable || this.group.parent instanceof FontTable) {\n      this.group.get('currentFont').family = 'decor'\n    }\n  }\n  ctrl$ftech () {\n    if (this.group instanceof FontTable || this.group.parent instanceof FontTable) {\n      this.group.get('currentFont').family = 'tech'\n    }\n  }\n  ctrl$fbidi () {\n    if (this.group instanceof FontTable || this.group.parent instanceof FontTable) {\n      this.group.get('currentFont').family = 'bidi'\n    }\n  }\n  ctrl$fcharset (code) {\n    if (this.group instanceof FontTable || this.group.parent instanceof FontTable) {\n      let charset = null\n      if (code === 1) {\n        charset = this.group.get('charset')\n      } else {\n        charset = codeToCP[code]\n      }\n      if (charset == null) {\n        return this.emit('error', new Error('Unsupported charset code #' + code))\n      }\n      this.group.get('currentFont').charset = charset\n    }\n  }\n  ctrl$fprq (pitch) {\n    if (this.group instanceof FontTable || this.group.parent instanceof FontTable) {\n      this.group.get('currentFont').pitch = pitch\n    }\n  }\n\n  // colors\n  ctrl$colortbl () {\n    this.group = new ColorTable(this.group.parent)\n  }\n  ctrl$red (value) {\n    if (this.group instanceof ColorTable) {\n      this.group.red = value\n    }\n  }\n  ctrl$blue (value) {\n    if (this.group instanceof ColorTable) {\n      this.group.blue = value\n    }\n  }\n  ctrl$green (value) {\n    if (this.group instanceof ColorTable) {\n      this.group.green = value\n    }\n  }\n  ctrl$cf (value) {\n    this.group.style.foreground = value\n  }\n  ctrl$cb (value) {\n    this.group.style.background = value\n  }\n  ctrl$fs (value) {\n    this.group.style.fontSize = value\n  }\n\n// margins\n  ctrl$margl (value) {\n    this.doc.marginLeft = value\n  }\n  ctrl$margr (value) {\n    this.doc.marginRight = value\n  }\n  ctrl$margt (value) {\n    this.doc.marginTop = value\n  }\n  ctrl$margb (value) {\n    this.doc.marginBottom = value\n  }\n\n// unsupported (and we need to ignore content)\n  ctrl$stylesheet (value) {\n    this.group.ignorable = true\n  }\n  ctrl$info (value) {\n    this.group.ignorable = true\n  }\n  ctrl$mmathPr (value) {\n    this.group.ignorable = true\n  }\n}\n\nclass FontTable extends RTFGroup {\n  constructor (parent) {\n    super(parent)\n    this.table = []\n    this.currentFont = {family: 'roman', charset: 'ASCII', name: 'Serif'}\n  }\n  addContent (text) {\n    this.currentFont.name += text.value.replace(/;\\s*$/, '')\n  }\n}\n\nclass Font {\n  constructor () {\n    this.family = null\n    this.charset = null\n    this.name = ''\n    this.pitch = 0\n  }\n}\n\nclass ColorTable extends RTFGroup {\n  constructor (parent) {\n    super(parent)\n    this.table = []\n    this.red = 0\n    this.blue = 0\n    this.green = 0\n  }\n  addContent (text) {\n    assert(text.value === ';', 'got: ' + util.inspect(text))\n    this.table.push({\n      red: this.red,\n      blue: this.blue,\n      green: this.green\n    })\n    this.red = 0\n    this.blue = 0\n    this.green = 0\n  }\n}\n\nmodule.exports = RTFInterpreter\n","'use strict';\n\nvar objectAssign = require('object-assign');\n\n// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nfunction isBuffer(b) {\n  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n    return global.Buffer.isBuffer(b);\n  }\n  return !!(b != null && b._isBuffer);\n}\n\n// based on node assert, original notice:\n// NB: The URL to the CommonJS spec is kept just for tradition.\n//     node-assert has evolved a lot since then, both in API and behavior.\n\n// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar util = require('util/');\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar pSlice = Array.prototype.slice;\nvar functionsHaveNames = (function () {\n  return function foo() {}.name === 'foo';\n}());\nfunction pToString (obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isView(arrbuf) {\n  if (isBuffer(arrbuf)) {\n    return false;\n  }\n  if (typeof global.ArrayBuffer !== 'function') {\n    return false;\n  }\n  if (typeof ArrayBuffer.isView === 'function') {\n    return ArrayBuffer.isView(arrbuf);\n  }\n  if (!arrbuf) {\n    return false;\n  }\n  if (arrbuf instanceof DataView) {\n    return true;\n  }\n  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n    return true;\n  }\n  return false;\n}\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\nfunction getName(func) {\n  if (!util.isFunction(func)) {\n    return;\n  }\n  if (functionsHaveNames) {\n    return func.name;\n  }\n  var str = func.toString();\n  var match = str.match(regex);\n  return match && match[1];\n}\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  } else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = getName(stackStartFunction);\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction truncate(s, n) {\n  if (typeof s === 'string') {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\nfunction inspect(something) {\n  if (functionsHaveNames || !util.isFunction(something)) {\n    return util.inspect(something);\n  }\n  var rawname = getName(something);\n  var name = rawname ? ': ' + rawname : '';\n  return '[Function' +  name + ']';\n}\nfunction getMessage(self) {\n  return truncate(inspect(self.actual), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(inspect(self.expected), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected, strict, memos) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n  } else if (isBuffer(actual) && isBuffer(expected)) {\n    return compare(actual, expected) === 0;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if ((actual === null || typeof actual !== 'object') &&\n             (expected === null || typeof expected !== 'object')) {\n    return strict ? actual === expected : actual == expected;\n\n  // If both values are instances of typed arrays, wrap their underlying\n  // ArrayBuffers in a Buffer each to increase performance\n  // This optimization requires the arrays to have the same type as checked by\n  // Object.prototype.toString (aka pToString). Never perform binary\n  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n  // bit patterns are not identical.\n  } else if (isView(actual) && isView(expected) &&\n             pToString(actual) === pToString(expected) &&\n             !(actual instanceof Float32Array ||\n               actual instanceof Float64Array)) {\n    return compare(new Uint8Array(actual.buffer),\n                   new Uint8Array(expected.buffer)) === 0;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else if (isBuffer(actual) !== isBuffer(expected)) {\n    return false;\n  } else {\n    memos = memos || {actual: [], expected: []};\n\n    var actualIndex = memos.actual.indexOf(actual);\n    if (actualIndex !== -1) {\n      if (actualIndex === memos.expected.indexOf(expected)) {\n        return true;\n      }\n    }\n\n    memos.actual.push(actual);\n    memos.expected.push(expected);\n\n    return objEquiv(actual, expected, strict, memos);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b, strict, actualVisitedObjects) {\n  if (a === null || a === undefined || b === null || b === undefined)\n    return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b))\n    return a === b;\n  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n    return false;\n  var aIsArgs = isArguments(a);\n  var bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b, strict);\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  var key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length !== kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n      return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n  }\n}\n\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  }\n\n  try {\n    if (actual instanceof expected) {\n      return true;\n    }\n  } catch (e) {\n    // Ignore.  The instanceof check doesn't work for arrow functions.\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction _tryBlock(block) {\n  var error;\n  try {\n    block();\n  } catch (e) {\n    error = e;\n  }\n  return error;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (typeof block !== 'function') {\n    throw new TypeError('\"block\" argument must be a function');\n  }\n\n  if (typeof expected === 'string') {\n    message = expected;\n    expected = null;\n  }\n\n  actual = _tryBlock(block);\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  var userProvidedMessage = typeof message === 'string';\n  var isUnwantedException = !shouldThrow && util.isError(actual);\n  var isUnexpectedException = !shouldThrow && actual && !expected;\n\n  if ((isUnwantedException &&\n      userProvidedMessage &&\n      expectedException(actual, expected)) ||\n      isUnexpectedException) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws(true, block, error, message);\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n  _throws(false, block, error, message);\n};\n\nassert.ifError = function(err) { if (err) throw err; };\n\n// Expose a strict only variant of assert\nfunction strict(value, message) {\n  if (!value) fail(value, true, message, '==', strict);\n}\nassert.strict = objectAssign(strict, assert, {\n  equal: assert.strictEqual,\n  deepEqual: assert.deepStrictEqual,\n  notEqual: assert.notStrictEqual,\n  notDeepEqual: assert.notDeepStrictEqual\n});\nassert.strict.strict = assert.strict;\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","'use strict'\n\nclass RTFSpan {\n  constructor (opts) {\n    if (!opts) opts = {}\n    this.value = opts.value\n    this.style = opts.style || {}\n  }\n}\n\nmodule.exports = RTFSpan\n","\"use strict\";\n\n// Some environments don't have global Buffer (e.g. React Native).\n// Solution would be installing npm modules \"buffer\" and \"stream\" explicitly.\nvar Buffer = require(\"safer-buffer\").Buffer;\n\nvar bomHandling = require(\"./bom-handling\"),\n    iconv = module.exports;\n\n// All codecs and aliases are kept here, keyed by encoding name/alias.\n// They are lazy loaded in `iconv.getCodec` from `encodings/index.js`.\niconv.encodings = null;\n\n// Characters emitted in case of error.\niconv.defaultCharUnicode = '';\niconv.defaultCharSingleByte = '?';\n\n// Public API.\niconv.encode = function encode(str, encoding, options) {\n    str = \"\" + (str || \"\"); // Ensure string.\n\n    var encoder = iconv.getEncoder(encoding, options);\n\n    var res = encoder.write(str);\n    var trail = encoder.end();\n    \n    return (trail && trail.length > 0) ? Buffer.concat([res, trail]) : res;\n}\n\niconv.decode = function decode(buf, encoding, options) {\n    if (typeof buf === 'string') {\n        if (!iconv.skipDecodeWarning) {\n            console.error('Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding');\n            iconv.skipDecodeWarning = true;\n        }\n\n        buf = Buffer.from(\"\" + (buf || \"\"), \"binary\"); // Ensure buffer.\n    }\n\n    var decoder = iconv.getDecoder(encoding, options);\n\n    var res = decoder.write(buf);\n    var trail = decoder.end();\n\n    return trail ? (res + trail) : res;\n}\n\niconv.encodingExists = function encodingExists(enc) {\n    try {\n        iconv.getCodec(enc);\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n\n// Legacy aliases to convert functions\niconv.toEncoding = iconv.encode;\niconv.fromEncoding = iconv.decode;\n\n// Search for a codec in iconv.encodings. Cache codec data in iconv._codecDataCache.\niconv._codecDataCache = {};\niconv.getCodec = function getCodec(encoding) {\n    if (!iconv.encodings)\n        iconv.encodings = require(\"../encodings\"); // Lazy load all encoding definitions.\n    \n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    var enc = iconv._canonicalizeEncoding(encoding);\n\n    // Traverse iconv.encodings to find actual codec.\n    var codecOptions = {};\n    while (true) {\n        var codec = iconv._codecDataCache[enc];\n        if (codec)\n            return codec;\n\n        var codecDef = iconv.encodings[enc];\n\n        switch (typeof codecDef) {\n            case \"string\": // Direct alias to other encoding.\n                enc = codecDef;\n                break;\n\n            case \"object\": // Alias with options. Can be layered.\n                for (var key in codecDef)\n                    codecOptions[key] = codecDef[key];\n\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n                \n                enc = codecDef.type;\n                break;\n\n            case \"function\": // Codec itself.\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n\n                // The codec function must load all tables and return object with .encoder and .decoder methods.\n                // It'll be called only once (for each different options object).\n                codec = new codecDef(codecOptions, iconv);\n\n                iconv._codecDataCache[codecOptions.encodingName] = codec; // Save it to be reused later.\n                return codec;\n\n            default:\n                throw new Error(\"Encoding not recognized: '\" + encoding + \"' (searched as: '\"+enc+\"')\");\n        }\n    }\n}\n\niconv._canonicalizeEncoding = function(encoding) {\n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    return (''+encoding).toLowerCase().replace(/:\\d{4}$|[^0-9a-z]/g, \"\");\n}\n\niconv.getEncoder = function getEncoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        encoder = new codec.encoder(options, codec);\n\n    if (codec.bomAware && options && options.addBOM)\n        encoder = new bomHandling.PrependBOM(encoder, options);\n\n    return encoder;\n}\n\niconv.getDecoder = function getDecoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        decoder = new codec.decoder(options, codec);\n\n    if (codec.bomAware && !(options && options.stripBOM === false))\n        decoder = new bomHandling.StripBOM(decoder, options);\n\n    return decoder;\n}\n\n\n// Load extensions in Node. All of them are omitted in Browserify build via 'browser' field in package.json.\nvar nodeVer = typeof process !== 'undefined' && process.versions && process.versions.node;\nif (nodeVer) {\n\n    // Load streaming support in Node v0.10+\n    var nodeVerArr = nodeVer.split(\".\").map(Number);\n    if (nodeVerArr[0] > 0 || nodeVerArr[1] >= 10) {\n        require(\"./streams\")(iconv);\n    }\n\n    // Load Node primitive extensions.\n    require(\"./extend-node\")(iconv);\n}\n\nif (\"\" != \"\\u0100\") {\n    console.error(\"iconv-lite warning: javascript files use encoding different from utf-8. See https://github.com/ashtuchkin/iconv-lite/wiki/Javascript-source-file-encodings for more info.\");\n}\n","\"use strict\";\n\nvar BOMChar = '\\uFEFF';\n\nexports.PrependBOM = PrependBOMWrapper\nfunction PrependBOMWrapper(encoder, options) {\n    this.encoder = encoder;\n    this.addBOM = true;\n}\n\nPrependBOMWrapper.prototype.write = function(str) {\n    if (this.addBOM) {\n        str = BOMChar + str;\n        this.addBOM = false;\n    }\n\n    return this.encoder.write(str);\n}\n\nPrependBOMWrapper.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n//------------------------------------------------------------------------------\n\nexports.StripBOM = StripBOMWrapper;\nfunction StripBOMWrapper(decoder, options) {\n    this.decoder = decoder;\n    this.pass = false;\n    this.options = options || {};\n}\n\nStripBOMWrapper.prototype.write = function(buf) {\n    var res = this.decoder.write(buf);\n    if (this.pass || !res)\n        return res;\n\n    if (res[0] === BOMChar) {\n        res = res.slice(1);\n        if (typeof this.options.stripBOM === 'function')\n            this.options.stripBOM();\n    }\n\n    this.pass = true;\n    return res;\n}\n\nStripBOMWrapper.prototype.end = function() {\n    return this.decoder.end();\n}\n\n","\"use strict\";\n\n// Update this array if you add/rename/remove files in this directory.\n// We support Browserify by skipping automatic module discovery and requiring modules directly.\nvar modules = [\n    require(\"./internal\"),\n    require(\"./utf16\"),\n    require(\"./utf7\"),\n    require(\"./sbcs-codec\"),\n    require(\"./sbcs-data\"),\n    require(\"./sbcs-data-generated\"),\n    require(\"./dbcs-codec\"),\n    require(\"./dbcs-data\"),\n];\n\n// Put all encoding/alias/codec definitions to single object and export it. \nfor (var i = 0; i < modules.length; i++) {\n    var module = modules[i];\n    for (var enc in module)\n        if (Object.prototype.hasOwnProperty.call(module, enc))\n            exports[enc] = module[enc];\n}\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Export Node.js internal encodings.\n\nmodule.exports = {\n    // Encodings\n    utf8:   { type: \"_internal\", bomAware: true},\n    cesu8:  { type: \"_internal\", bomAware: true},\n    unicode11utf8: \"utf8\",\n\n    ucs2:   { type: \"_internal\", bomAware: true},\n    utf16le: \"ucs2\",\n\n    binary: { type: \"_internal\" },\n    base64: { type: \"_internal\" },\n    hex:    { type: \"_internal\" },\n\n    // Codec.\n    _internal: InternalCodec,\n};\n\n//------------------------------------------------------------------------------\n\nfunction InternalCodec(codecOptions, iconv) {\n    this.enc = codecOptions.encodingName;\n    this.bomAware = codecOptions.bomAware;\n\n    if (this.enc === \"base64\")\n        this.encoder = InternalEncoderBase64;\n    else if (this.enc === \"cesu8\") {\n        this.enc = \"utf8\"; // Use utf8 for decoding.\n        this.encoder = InternalEncoderCesu8;\n\n        // Add decoder for versions of Node not supporting CESU-8\n        if (Buffer.from('eda0bdedb2a9', 'hex').toString() !== '') {\n            this.decoder = InternalDecoderCesu8;\n            this.defaultCharUnicode = iconv.defaultCharUnicode;\n        }\n    }\n}\n\nInternalCodec.prototype.encoder = InternalEncoder;\nInternalCodec.prototype.decoder = InternalDecoder;\n\n//------------------------------------------------------------------------------\n\n// We use node.js internal decoder. Its signature is the same as ours.\nvar StringDecoder = require('string_decoder').StringDecoder;\n\nif (!StringDecoder.prototype.end) // Node v0.8 doesn't have this method.\n    StringDecoder.prototype.end = function() {};\n\n\nfunction InternalDecoder(options, codec) {\n    StringDecoder.call(this, codec.enc);\n}\n\nInternalDecoder.prototype = StringDecoder.prototype;\n\n\n//------------------------------------------------------------------------------\n// Encoder is mostly trivial\n\nfunction InternalEncoder(options, codec) {\n    this.enc = codec.enc;\n}\n\nInternalEncoder.prototype.write = function(str) {\n    return Buffer.from(str, this.enc);\n}\n\nInternalEncoder.prototype.end = function() {\n}\n\n\n//------------------------------------------------------------------------------\n// Except base64 encoder, which must keep its state.\n\nfunction InternalEncoderBase64(options, codec) {\n    this.prevStr = '';\n}\n\nInternalEncoderBase64.prototype.write = function(str) {\n    str = this.prevStr + str;\n    var completeQuads = str.length - (str.length % 4);\n    this.prevStr = str.slice(completeQuads);\n    str = str.slice(0, completeQuads);\n\n    return Buffer.from(str, \"base64\");\n}\n\nInternalEncoderBase64.prototype.end = function() {\n    return Buffer.from(this.prevStr, \"base64\");\n}\n\n\n//------------------------------------------------------------------------------\n// CESU-8 encoder is also special.\n\nfunction InternalEncoderCesu8(options, codec) {\n}\n\nInternalEncoderCesu8.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length * 3), bufIdx = 0;\n    for (var i = 0; i < str.length; i++) {\n        var charCode = str.charCodeAt(i);\n        // Naive implementation, but it works because CESU-8 is especially easy\n        // to convert from UTF-16 (which all JS strings are encoded in).\n        if (charCode < 0x80)\n            buf[bufIdx++] = charCode;\n        else if (charCode < 0x800) {\n            buf[bufIdx++] = 0xC0 + (charCode >>> 6);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n        else { // charCode will always be < 0x10000 in javascript.\n            buf[bufIdx++] = 0xE0 + (charCode >>> 12);\n            buf[bufIdx++] = 0x80 + ((charCode >>> 6) & 0x3f);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n    }\n    return buf.slice(0, bufIdx);\n}\n\nInternalEncoderCesu8.prototype.end = function() {\n}\n\n//------------------------------------------------------------------------------\n// CESU-8 decoder is not implemented in Node v4.0+\n\nfunction InternalDecoderCesu8(options, codec) {\n    this.acc = 0;\n    this.contBytes = 0;\n    this.accBytes = 0;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n}\n\nInternalDecoderCesu8.prototype.write = function(buf) {\n    var acc = this.acc, contBytes = this.contBytes, accBytes = this.accBytes, \n        res = '';\n    for (var i = 0; i < buf.length; i++) {\n        var curByte = buf[i];\n        if ((curByte & 0xC0) !== 0x80) { // Leading byte\n            if (contBytes > 0) { // Previous code is invalid\n                res += this.defaultCharUnicode;\n                contBytes = 0;\n            }\n\n            if (curByte < 0x80) { // Single-byte code\n                res += String.fromCharCode(curByte);\n            } else if (curByte < 0xE0) { // Two-byte code\n                acc = curByte & 0x1F;\n                contBytes = 1; accBytes = 1;\n            } else if (curByte < 0xF0) { // Three-byte code\n                acc = curByte & 0x0F;\n                contBytes = 2; accBytes = 1;\n            } else { // Four or more are not supported for CESU-8.\n                res += this.defaultCharUnicode;\n            }\n        } else { // Continuation byte\n            if (contBytes > 0) { // We're waiting for it.\n                acc = (acc << 6) | (curByte & 0x3f);\n                contBytes--; accBytes++;\n                if (contBytes === 0) {\n                    // Check for overlong encoding, but support Modified UTF-8 (encoding NULL as C0 80)\n                    if (accBytes === 2 && acc < 0x80 && acc > 0)\n                        res += this.defaultCharUnicode;\n                    else if (accBytes === 3 && acc < 0x800)\n                        res += this.defaultCharUnicode;\n                    else\n                        // Actually add character.\n                        res += String.fromCharCode(acc);\n                }\n            } else { // Unexpected continuation byte\n                res += this.defaultCharUnicode;\n            }\n        }\n    }\n    this.acc = acc; this.contBytes = contBytes; this.accBytes = accBytes;\n    return res;\n}\n\nInternalDecoderCesu8.prototype.end = function() {\n    var res = 0;\n    if (this.contBytes > 0)\n        res += this.defaultCharUnicode;\n    return res;\n}\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Note: UTF16-LE (or UCS2) codec is Node.js native. See encodings/internal.js\n\n// == UTF16-BE codec. ==========================================================\n\nexports.utf16be = Utf16BECodec;\nfunction Utf16BECodec() {\n}\n\nUtf16BECodec.prototype.encoder = Utf16BEEncoder;\nUtf16BECodec.prototype.decoder = Utf16BEDecoder;\nUtf16BECodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf16BEEncoder() {\n}\n\nUtf16BEEncoder.prototype.write = function(str) {\n    var buf = Buffer.from(str, 'ucs2');\n    for (var i = 0; i < buf.length; i += 2) {\n        var tmp = buf[i]; buf[i] = buf[i+1]; buf[i+1] = tmp;\n    }\n    return buf;\n}\n\nUtf16BEEncoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf16BEDecoder() {\n    this.overflowByte = -1;\n}\n\nUtf16BEDecoder.prototype.write = function(buf) {\n    if (buf.length == 0)\n        return '';\n\n    var buf2 = Buffer.alloc(buf.length + 1),\n        i = 0, j = 0;\n\n    if (this.overflowByte !== -1) {\n        buf2[0] = buf[0];\n        buf2[1] = this.overflowByte;\n        i = 1; j = 2;\n    }\n\n    for (; i < buf.length-1; i += 2, j+= 2) {\n        buf2[j] = buf[i+1];\n        buf2[j+1] = buf[i];\n    }\n\n    this.overflowByte = (i == buf.length-1) ? buf[buf.length-1] : -1;\n\n    return buf2.slice(0, j).toString('ucs2');\n}\n\nUtf16BEDecoder.prototype.end = function() {\n}\n\n\n// == UTF-16 codec =============================================================\n// Decoder chooses automatically from UTF-16LE and UTF-16BE using BOM and space-based heuristic.\n// Defaults to UTF-16LE, as it's prevalent and default in Node.\n// http://en.wikipedia.org/wiki/UTF-16 and http://encoding.spec.whatwg.org/#utf-16le\n// Decoder default can be changed: iconv.decode(buf, 'utf16', {defaultEncoding: 'utf-16be'});\n\n// Encoder uses UTF-16LE and prepends BOM (which can be overridden with addBOM: false).\n\nexports.utf16 = Utf16Codec;\nfunction Utf16Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n}\n\nUtf16Codec.prototype.encoder = Utf16Encoder;\nUtf16Codec.prototype.decoder = Utf16Decoder;\n\n\n// -- Encoding (pass-through)\n\nfunction Utf16Encoder(options, codec) {\n    options = options || {};\n    if (options.addBOM === undefined)\n        options.addBOM = true;\n    this.encoder = codec.iconv.getEncoder('utf-16le', options);\n}\n\nUtf16Encoder.prototype.write = function(str) {\n    return this.encoder.write(str);\n}\n\nUtf16Encoder.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n// -- Decoding\n\nfunction Utf16Decoder(options, codec) {\n    this.decoder = null;\n    this.initialBytes = [];\n    this.initialBytesLen = 0;\n\n    this.options = options || {};\n    this.iconv = codec.iconv;\n}\n\nUtf16Decoder.prototype.write = function(buf) {\n    if (!this.decoder) {\n        // Codec is not chosen yet. Accumulate initial bytes.\n        this.initialBytes.push(buf);\n        this.initialBytesLen += buf.length;\n        \n        if (this.initialBytesLen < 16) // We need more bytes to use space heuristic (see below)\n            return '';\n\n        // We have enough bytes -> detect endianness.\n        var buf = Buffer.concat(this.initialBytes),\n            encoding = detectEncoding(buf, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n        this.initialBytes.length = this.initialBytesLen = 0;\n    }\n\n    return this.decoder.write(buf);\n}\n\nUtf16Decoder.prototype.end = function() {\n    if (!this.decoder) {\n        var buf = Buffer.concat(this.initialBytes),\n            encoding = detectEncoding(buf, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var res = this.decoder.write(buf),\n            trail = this.decoder.end();\n\n        return trail ? (res + trail) : res;\n    }\n    return this.decoder.end();\n}\n\nfunction detectEncoding(buf, defaultEncoding) {\n    var enc = defaultEncoding || 'utf-16le';\n\n    if (buf.length >= 2) {\n        // Check BOM.\n        if (buf[0] == 0xFE && buf[1] == 0xFF) // UTF-16BE BOM\n            enc = 'utf-16be';\n        else if (buf[0] == 0xFF && buf[1] == 0xFE) // UTF-16LE BOM\n            enc = 'utf-16le';\n        else {\n            // No BOM found. Try to deduce encoding from initial content.\n            // Most of the time, the content has ASCII chars (U+00**), but the opposite (U+**00) is uncommon.\n            // So, we count ASCII as if it was LE or BE, and decide from that.\n            var asciiCharsLE = 0, asciiCharsBE = 0, // Counts of chars in both positions\n                _len = Math.min(buf.length - (buf.length % 2), 64); // Len is always even.\n\n            for (var i = 0; i < _len; i += 2) {\n                if (buf[i] === 0 && buf[i+1] !== 0) asciiCharsBE++;\n                if (buf[i] !== 0 && buf[i+1] === 0) asciiCharsLE++;\n            }\n\n            if (asciiCharsBE > asciiCharsLE)\n                enc = 'utf-16be';\n            else if (asciiCharsBE < asciiCharsLE)\n                enc = 'utf-16le';\n        }\n    }\n\n    return enc;\n}\n\n\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// UTF-7 codec, according to https://tools.ietf.org/html/rfc2152\n// See also below a UTF-7-IMAP codec, according to http://tools.ietf.org/html/rfc3501#section-5.1.3\n\nexports.utf7 = Utf7Codec;\nexports.unicode11utf7 = 'utf7'; // Alias UNICODE-1-1-UTF-7\nfunction Utf7Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7Codec.prototype.encoder = Utf7Encoder;\nUtf7Codec.prototype.decoder = Utf7Decoder;\nUtf7Codec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nvar nonDirectChars = /[^A-Za-z0-9'\\(\\),-\\.\\/:\\? \\n\\r\\t]+/g;\n\nfunction Utf7Encoder(options, codec) {\n    this.iconv = codec.iconv;\n}\n\nUtf7Encoder.prototype.write = function(str) {\n    // Naive implementation.\n    // Non-direct chars are encoded as \"+<base64>-\"; single \"+\" char is encoded as \"+-\".\n    return Buffer.from(str.replace(nonDirectChars, function(chunk) {\n        return \"+\" + (chunk === '+' ? '' : \n            this.iconv.encode(chunk, 'utf16-be').toString('base64').replace(/=+$/, '')) \n            + \"-\";\n    }.bind(this)));\n}\n\nUtf7Encoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf7Decoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64Regex = /[A-Za-z0-9\\/+]/;\nvar base64Chars = [];\nfor (var i = 0; i < 256; i++)\n    base64Chars[i] = base64Regex.test(String.fromCharCode(i));\n\nvar plusChar = '+'.charCodeAt(0), \n    minusChar = '-'.charCodeAt(0),\n    andChar = '&'.charCodeAt(0);\n\nUtf7Decoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '+'\n            if (buf[i] == plusChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64Chars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) {// \"+-\" -> \"+\"\n                    res += \"+\";\n                } else {\n                    var b64str = base64Accum + buf.slice(lastI, i).toString();\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus is absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + buf.slice(lastI).toString();\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7Decoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n// UTF-7-IMAP codec.\n// RFC3501 Sec. 5.1.3 Modified UTF-7 (http://tools.ietf.org/html/rfc3501#section-5.1.3)\n// Differences:\n//  * Base64 part is started by \"&\" instead of \"+\"\n//  * Direct characters are 0x20-0x7E, except \"&\" (0x26)\n//  * In Base64, \",\" is used instead of \"/\"\n//  * Base64 must not be used to represent direct characters.\n//  * No implicit shift back from Base64 (should always end with '-')\n//  * String must end in non-shifted position.\n//  * \"-&\" while in base64 is not allowed.\n\n\nexports.utf7imap = Utf7IMAPCodec;\nfunction Utf7IMAPCodec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7IMAPCodec.prototype.encoder = Utf7IMAPEncoder;\nUtf7IMAPCodec.prototype.decoder = Utf7IMAPDecoder;\nUtf7IMAPCodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf7IMAPEncoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = Buffer.alloc(6);\n    this.base64AccumIdx = 0;\n}\n\nUtf7IMAPEncoder.prototype.write = function(str) {\n    var inBase64 = this.inBase64,\n        base64Accum = this.base64Accum,\n        base64AccumIdx = this.base64AccumIdx,\n        buf = Buffer.alloc(str.length*5 + 10), bufIdx = 0;\n\n    for (var i = 0; i < str.length; i++) {\n        var uChar = str.charCodeAt(i);\n        if (0x20 <= uChar && uChar <= 0x7E) { // Direct character or '&'.\n            if (inBase64) {\n                if (base64AccumIdx > 0) {\n                    bufIdx += buf.write(base64Accum.slice(0, base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n                    base64AccumIdx = 0;\n                }\n\n                buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n                inBase64 = false;\n            }\n\n            if (!inBase64) {\n                buf[bufIdx++] = uChar; // Write direct character\n\n                if (uChar === andChar)  // Ampersand -> '&-'\n                    buf[bufIdx++] = minusChar;\n            }\n\n        } else { // Non-direct character\n            if (!inBase64) {\n                buf[bufIdx++] = andChar; // Write '&', then go to base64 mode.\n                inBase64 = true;\n            }\n            if (inBase64) {\n                base64Accum[base64AccumIdx++] = uChar >> 8;\n                base64Accum[base64AccumIdx++] = uChar & 0xFF;\n\n                if (base64AccumIdx == base64Accum.length) {\n                    bufIdx += buf.write(base64Accum.toString('base64').replace(/\\//g, ','), bufIdx);\n                    base64AccumIdx = 0;\n                }\n            }\n        }\n    }\n\n    this.inBase64 = inBase64;\n    this.base64AccumIdx = base64AccumIdx;\n\n    return buf.slice(0, bufIdx);\n}\n\nUtf7IMAPEncoder.prototype.end = function() {\n    var buf = Buffer.alloc(10), bufIdx = 0;\n    if (this.inBase64) {\n        if (this.base64AccumIdx > 0) {\n            bufIdx += buf.write(this.base64Accum.slice(0, this.base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n            this.base64AccumIdx = 0;\n        }\n\n        buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n        this.inBase64 = false;\n    }\n\n    return buf.slice(0, bufIdx);\n}\n\n\n// -- Decoding\n\nfunction Utf7IMAPDecoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64IMAPChars = base64Chars.slice();\nbase64IMAPChars[','.charCodeAt(0)] = true;\n\nUtf7IMAPDecoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n    // It is forgiving, closer to standard UTF-7 (for example, '-' is optional at the end).\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '&'\n            if (buf[i] == andChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64IMAPChars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) { // \"&-\" -> \"&\"\n                    res += \"&\";\n                } else {\n                    var b64str = base64Accum + buf.slice(lastI, i).toString().replace(/,/g, '/');\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus may be absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + buf.slice(lastI).toString().replace(/,/g, '/');\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7IMAPDecoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Single-byte codec. Needs a 'chars' string parameter that contains 256 or 128 chars that\n// correspond to encoded bytes (if 128 - then lower half is ASCII). \n\nexports._sbcs = SBCSCodec;\nfunction SBCSCodec(codecOptions, iconv) {\n    if (!codecOptions)\n        throw new Error(\"SBCS codec is called without the data.\")\n    \n    // Prepare char buffer for decoding.\n    if (!codecOptions.chars || (codecOptions.chars.length !== 128 && codecOptions.chars.length !== 256))\n        throw new Error(\"Encoding '\"+codecOptions.type+\"' has incorrect 'chars' (must be of len 128 or 256)\");\n    \n    if (codecOptions.chars.length === 128) {\n        var asciiString = \"\";\n        for (var i = 0; i < 128; i++)\n            asciiString += String.fromCharCode(i);\n        codecOptions.chars = asciiString + codecOptions.chars;\n    }\n\n    this.decodeBuf = Buffer.from(codecOptions.chars, 'ucs2');\n    \n    // Encoding buffer.\n    var encodeBuf = Buffer.alloc(65536, iconv.defaultCharSingleByte.charCodeAt(0));\n\n    for (var i = 0; i < codecOptions.chars.length; i++)\n        encodeBuf[codecOptions.chars.charCodeAt(i)] = i;\n\n    this.encodeBuf = encodeBuf;\n}\n\nSBCSCodec.prototype.encoder = SBCSEncoder;\nSBCSCodec.prototype.decoder = SBCSDecoder;\n\n\nfunction SBCSEncoder(options, codec) {\n    this.encodeBuf = codec.encodeBuf;\n}\n\nSBCSEncoder.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length);\n    for (var i = 0; i < str.length; i++)\n        buf[i] = this.encodeBuf[str.charCodeAt(i)];\n    \n    return buf;\n}\n\nSBCSEncoder.prototype.end = function() {\n}\n\n\nfunction SBCSDecoder(options, codec) {\n    this.decodeBuf = codec.decodeBuf;\n}\n\nSBCSDecoder.prototype.write = function(buf) {\n    // Strings are immutable in JS -> we use ucs2 buffer to speed up computations.\n    var decodeBuf = this.decodeBuf;\n    var newBuf = Buffer.alloc(buf.length*2);\n    var idx1 = 0, idx2 = 0;\n    for (var i = 0; i < buf.length; i++) {\n        idx1 = buf[i]*2; idx2 = i*2;\n        newBuf[idx2] = decodeBuf[idx1];\n        newBuf[idx2+1] = decodeBuf[idx1+1];\n    }\n    return newBuf.toString('ucs2');\n}\n\nSBCSDecoder.prototype.end = function() {\n}\n","\"use strict\";\n\n// Manually added data to be used by sbcs codec in addition to generated one.\n\nmodule.exports = {\n    // Not supported by iconv, not sure why.\n    \"10029\": \"maccenteuro\",\n    \"maccenteuro\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    \"808\": \"cp808\",\n    \"ibm808\": \"cp808\",\n    \"cp808\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    \"mik\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    // Aliases of generated encodings.\n    \"ascii8bit\": \"ascii\",\n    \"usascii\": \"ascii\",\n    \"ansix34\": \"ascii\",\n    \"ansix341968\": \"ascii\",\n    \"ansix341986\": \"ascii\",\n    \"csascii\": \"ascii\",\n    \"cp367\": \"ascii\",\n    \"ibm367\": \"ascii\",\n    \"isoir6\": \"ascii\",\n    \"iso646us\": \"ascii\",\n    \"iso646irv\": \"ascii\",\n    \"us\": \"ascii\",\n\n    \"latin1\": \"iso88591\",\n    \"latin2\": \"iso88592\",\n    \"latin3\": \"iso88593\",\n    \"latin4\": \"iso88594\",\n    \"latin5\": \"iso88599\",\n    \"latin6\": \"iso885910\",\n    \"latin7\": \"iso885913\",\n    \"latin8\": \"iso885914\",\n    \"latin9\": \"iso885915\",\n    \"latin10\": \"iso885916\",\n\n    \"csisolatin1\": \"iso88591\",\n    \"csisolatin2\": \"iso88592\",\n    \"csisolatin3\": \"iso88593\",\n    \"csisolatin4\": \"iso88594\",\n    \"csisolatincyrillic\": \"iso88595\",\n    \"csisolatinarabic\": \"iso88596\",\n    \"csisolatingreek\" : \"iso88597\",\n    \"csisolatinhebrew\": \"iso88598\",\n    \"csisolatin5\": \"iso88599\",\n    \"csisolatin6\": \"iso885910\",\n\n    \"l1\": \"iso88591\",\n    \"l2\": \"iso88592\",\n    \"l3\": \"iso88593\",\n    \"l4\": \"iso88594\",\n    \"l5\": \"iso88599\",\n    \"l6\": \"iso885910\",\n    \"l7\": \"iso885913\",\n    \"l8\": \"iso885914\",\n    \"l9\": \"iso885915\",\n    \"l10\": \"iso885916\",\n\n    \"isoir14\": \"iso646jp\",\n    \"isoir57\": \"iso646cn\",\n    \"isoir100\": \"iso88591\",\n    \"isoir101\": \"iso88592\",\n    \"isoir109\": \"iso88593\",\n    \"isoir110\": \"iso88594\",\n    \"isoir144\": \"iso88595\",\n    \"isoir127\": \"iso88596\",\n    \"isoir126\": \"iso88597\",\n    \"isoir138\": \"iso88598\",\n    \"isoir148\": \"iso88599\",\n    \"isoir157\": \"iso885910\",\n    \"isoir166\": \"tis620\",\n    \"isoir179\": \"iso885913\",\n    \"isoir199\": \"iso885914\",\n    \"isoir203\": \"iso885915\",\n    \"isoir226\": \"iso885916\",\n\n    \"cp819\": \"iso88591\",\n    \"ibm819\": \"iso88591\",\n\n    \"cyrillic\": \"iso88595\",\n\n    \"arabic\": \"iso88596\",\n    \"arabic8\": \"iso88596\",\n    \"ecma114\": \"iso88596\",\n    \"asmo708\": \"iso88596\",\n\n    \"greek\" : \"iso88597\",\n    \"greek8\" : \"iso88597\",\n    \"ecma118\" : \"iso88597\",\n    \"elot928\" : \"iso88597\",\n\n    \"hebrew\": \"iso88598\",\n    \"hebrew8\": \"iso88598\",\n\n    \"turkish\": \"iso88599\",\n    \"turkish8\": \"iso88599\",\n\n    \"thai\": \"iso885911\",\n    \"thai8\": \"iso885911\",\n\n    \"celtic\": \"iso885914\",\n    \"celtic8\": \"iso885914\",\n    \"isoceltic\": \"iso885914\",\n\n    \"tis6200\": \"tis620\",\n    \"tis62025291\": \"tis620\",\n    \"tis62025330\": \"tis620\",\n\n    \"10000\": \"macroman\",\n    \"10006\": \"macgreek\",\n    \"10007\": \"maccyrillic\",\n    \"10079\": \"maciceland\",\n    \"10081\": \"macturkish\",\n\n    \"cspc8codepage437\": \"cp437\",\n    \"cspc775baltic\": \"cp775\",\n    \"cspc850multilingual\": \"cp850\",\n    \"cspcp852\": \"cp852\",\n    \"cspc862latinhebrew\": \"cp862\",\n    \"cpgr\": \"cp869\",\n\n    \"msee\": \"cp1250\",\n    \"mscyrl\": \"cp1251\",\n    \"msansi\": \"cp1252\",\n    \"msgreek\": \"cp1253\",\n    \"msturk\": \"cp1254\",\n    \"mshebr\": \"cp1255\",\n    \"msarab\": \"cp1256\",\n    \"winbaltrim\": \"cp1257\",\n\n    \"cp20866\": \"koi8r\",\n    \"20866\": \"koi8r\",\n    \"ibm878\": \"koi8r\",\n    \"cskoi8r\": \"koi8r\",\n\n    \"cp21866\": \"koi8u\",\n    \"21866\": \"koi8u\",\n    \"ibm1168\": \"koi8u\",\n\n    \"strk10482002\": \"rk1048\",\n\n    \"tcvn5712\": \"tcvn\",\n    \"tcvn57121\": \"tcvn\",\n\n    \"gb198880\": \"iso646cn\",\n    \"cn\": \"iso646cn\",\n\n    \"csiso14jisc6220ro\": \"iso646jp\",\n    \"jisc62201969ro\": \"iso646jp\",\n    \"jp\": \"iso646jp\",\n\n    \"cshproman8\": \"hproman8\",\n    \"r8\": \"hproman8\",\n    \"roman8\": \"hproman8\",\n    \"xroman8\": \"hproman8\",\n    \"ibm1051\": \"hproman8\",\n\n    \"mac\": \"macintosh\",\n    \"csmacintosh\": \"macintosh\",\n};\n\n","\"use strict\";\n\n// Generated data for sbcs codec. Don't edit manually. Regenerate using generation/gen-sbcs.js script.\nmodule.exports = {\n  \"437\": \"cp437\",\n  \"737\": \"cp737\",\n  \"775\": \"cp775\",\n  \"850\": \"cp850\",\n  \"852\": \"cp852\",\n  \"855\": \"cp855\",\n  \"856\": \"cp856\",\n  \"857\": \"cp857\",\n  \"858\": \"cp858\",\n  \"860\": \"cp860\",\n  \"861\": \"cp861\",\n  \"862\": \"cp862\",\n  \"863\": \"cp863\",\n  \"864\": \"cp864\",\n  \"865\": \"cp865\",\n  \"866\": \"cp866\",\n  \"869\": \"cp869\",\n  \"874\": \"windows874\",\n  \"922\": \"cp922\",\n  \"1046\": \"cp1046\",\n  \"1124\": \"cp1124\",\n  \"1125\": \"cp1125\",\n  \"1129\": \"cp1129\",\n  \"1133\": \"cp1133\",\n  \"1161\": \"cp1161\",\n  \"1162\": \"cp1162\",\n  \"1163\": \"cp1163\",\n  \"1250\": \"windows1250\",\n  \"1251\": \"windows1251\",\n  \"1252\": \"windows1252\",\n  \"1253\": \"windows1253\",\n  \"1254\": \"windows1254\",\n  \"1255\": \"windows1255\",\n  \"1256\": \"windows1256\",\n  \"1257\": \"windows1257\",\n  \"1258\": \"windows1258\",\n  \"28591\": \"iso88591\",\n  \"28592\": \"iso88592\",\n  \"28593\": \"iso88593\",\n  \"28594\": \"iso88594\",\n  \"28595\": \"iso88595\",\n  \"28596\": \"iso88596\",\n  \"28597\": \"iso88597\",\n  \"28598\": \"iso88598\",\n  \"28599\": \"iso88599\",\n  \"28600\": \"iso885910\",\n  \"28601\": \"iso885911\",\n  \"28603\": \"iso885913\",\n  \"28604\": \"iso885914\",\n  \"28605\": \"iso885915\",\n  \"28606\": \"iso885916\",\n  \"windows874\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win874\": \"windows874\",\n  \"cp874\": \"windows874\",\n  \"windows1250\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1250\": \"windows1250\",\n  \"cp1250\": \"windows1250\",\n  \"windows1251\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1251\": \"windows1251\",\n  \"cp1251\": \"windows1251\",\n  \"windows1252\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1252\": \"windows1252\",\n  \"cp1252\": \"windows1252\",\n  \"windows1253\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1253\": \"windows1253\",\n  \"cp1253\": \"windows1253\",\n  \"windows1254\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1254\": \"windows1254\",\n  \"cp1254\": \"windows1254\",\n  \"windows1255\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1255\": \"windows1255\",\n  \"cp1255\": \"windows1255\",\n  \"windows1256\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1256\": \"windows1256\",\n  \"cp1256\": \"windows1256\",\n  \"windows1257\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1257\": \"windows1257\",\n  \"cp1257\": \"windows1257\",\n  \"windows1258\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1258\": \"windows1258\",\n  \"cp1258\": \"windows1258\",\n  \"iso88591\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28591\": \"iso88591\",\n  \"iso88592\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28592\": \"iso88592\",\n  \"iso88593\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28593\": \"iso88593\",\n  \"iso88594\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28594\": \"iso88594\",\n  \"iso88595\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28595\": \"iso88595\",\n  \"iso88596\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28596\": \"iso88596\",\n  \"iso88597\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28597\": \"iso88597\",\n  \"iso88598\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28598\": \"iso88598\",\n  \"iso88599\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28599\": \"iso88599\",\n  \"iso885910\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28600\": \"iso885910\",\n  \"iso885911\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28601\": \"iso885911\",\n  \"iso885913\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28603\": \"iso885913\",\n  \"iso885914\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28604\": \"iso885914\",\n  \"iso885915\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28605\": \"iso885915\",\n  \"iso885916\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28606\": \"iso885916\",\n  \"cp437\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm437\": \"cp437\",\n  \"csibm437\": \"cp437\",\n  \"cp737\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm737\": \"cp737\",\n  \"csibm737\": \"cp737\",\n  \"cp775\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm775\": \"cp775\",\n  \"csibm775\": \"cp775\",\n  \"cp850\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm850\": \"cp850\",\n  \"csibm850\": \"cp850\",\n  \"cp852\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm852\": \"cp852\",\n  \"csibm852\": \"cp852\",\n  \"cp855\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm855\": \"cp855\",\n  \"csibm855\": \"cp855\",\n  \"cp856\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm856\": \"cp856\",\n  \"csibm856\": \"cp856\",\n  \"cp857\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm857\": \"cp857\",\n  \"csibm857\": \"cp857\",\n  \"cp858\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm858\": \"cp858\",\n  \"csibm858\": \"cp858\",\n  \"cp860\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm860\": \"cp860\",\n  \"csibm860\": \"cp860\",\n  \"cp861\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm861\": \"cp861\",\n  \"csibm861\": \"cp861\",\n  \"cp862\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm862\": \"cp862\",\n  \"csibm862\": \"cp862\",\n  \"cp863\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm863\": \"cp863\",\n  \"csibm863\": \"cp863\",\n  \"cp864\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"ibm864\": \"cp864\",\n  \"csibm864\": \"cp864\",\n  \"cp865\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm865\": \"cp865\",\n  \"csibm865\": \"cp865\",\n  \"cp866\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm866\": \"cp866\",\n  \"csibm866\": \"cp866\",\n  \"cp869\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm869\": \"cp869\",\n  \"csibm869\": \"cp869\",\n  \"cp922\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm922\": \"cp922\",\n  \"csibm922\": \"cp922\",\n  \"cp1046\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1046\": \"cp1046\",\n  \"csibm1046\": \"cp1046\",\n  \"cp1124\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1124\": \"cp1124\",\n  \"csibm1124\": \"cp1124\",\n  \"cp1125\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1125\": \"cp1125\",\n  \"csibm1125\": \"cp1125\",\n  \"cp1129\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1129\": \"cp1129\",\n  \"csibm1129\": \"cp1129\",\n  \"cp1133\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1133\": \"cp1133\",\n  \"csibm1133\": \"cp1133\",\n  \"cp1161\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1161\": \"cp1161\",\n  \"csibm1161\": \"cp1161\",\n  \"cp1162\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1162\": \"cp1162\",\n  \"csibm1162\": \"cp1162\",\n  \"cp1163\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1163\": \"cp1163\",\n  \"csibm1163\": \"cp1163\",\n  \"maccroatian\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"maccyrillic\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macgreek\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"maciceland\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macroman\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macromania\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macthai\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macturkish\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macukraine\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8r\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8u\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8ru\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8t\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"armscii8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \")(.,-\"\n  },\n  \"rk1048\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"tcvn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0003\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"georgianacademy\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"georgianps\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"pt154\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"viscii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0003\\u0004\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0015\\u0016\\u0017\\u0018\\u001a\\u001b\\u001c\\u001d\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"iso646cn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}\"\n  },\n  \"iso646jp\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}\"\n  },\n  \"hproman8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macintosh\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ascii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"tis620\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  }\n}","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Multibyte codec. In this scheme, a character is represented by 1 or more bytes.\n// Our codec supports UTF-16 surrogates, extensions for GB18030 and unicode sequences.\n// To save memory and loading time, we read table files only when requested.\n\nexports._dbcs = DBCSCodec;\n\nvar UNASSIGNED = -1,\n    GB18030_CODE = -2,\n    SEQ_START  = -10,\n    NODE_START = -1000,\n    UNASSIGNED_NODE = new Array(0x100),\n    DEF_CHAR = -1;\n\nfor (var i = 0; i < 0x100; i++)\n    UNASSIGNED_NODE[i] = UNASSIGNED;\n\n\n// Class DBCSCodec reads and initializes mapping tables.\nfunction DBCSCodec(codecOptions, iconv) {\n    this.encodingName = codecOptions.encodingName;\n    if (!codecOptions)\n        throw new Error(\"DBCS codec is called without the data.\")\n    if (!codecOptions.table)\n        throw new Error(\"Encoding '\" + this.encodingName + \"' has no data.\");\n\n    // Load tables.\n    var mappingTable = codecOptions.table();\n\n\n    // Decode tables: MBCS -> Unicode.\n\n    // decodeTables is a trie, encoded as an array of arrays of integers. Internal arrays are trie nodes and all have len = 256.\n    // Trie root is decodeTables[0].\n    // Values: >=  0 -> unicode character code. can be > 0xFFFF\n    //         == UNASSIGNED -> unknown/unassigned sequence.\n    //         == GB18030_CODE -> this is the end of a GB18030 4-byte sequence.\n    //         <= NODE_START -> index of the next node in our trie to process next byte.\n    //         <= SEQ_START  -> index of the start of a character code sequence, in decodeTableSeq.\n    this.decodeTables = [];\n    this.decodeTables[0] = UNASSIGNED_NODE.slice(0); // Create root node.\n\n    // Sometimes a MBCS char corresponds to a sequence of unicode chars. We store them as arrays of integers here. \n    this.decodeTableSeq = [];\n\n    // Actual mapping tables consist of chunks. Use them to fill up decode tables.\n    for (var i = 0; i < mappingTable.length; i++)\n        this._addDecodeChunk(mappingTable[i]);\n\n    this.defaultCharUnicode = iconv.defaultCharUnicode;\n\n    \n    // Encode tables: Unicode -> DBCS.\n\n    // `encodeTable` is array mapping from unicode char to encoded char. All its values are integers for performance.\n    // Because it can be sparse, it is represented as array of buckets by 256 chars each. Bucket can be null.\n    // Values: >=  0 -> it is a normal char. Write the value (if <=256 then 1 byte, if <=65536 then 2 bytes, etc.).\n    //         == UNASSIGNED -> no conversion found. Output a default char.\n    //         <= SEQ_START  -> it's an index in encodeTableSeq, see below. The character starts a sequence.\n    this.encodeTable = [];\n    \n    // `encodeTableSeq` is used when a sequence of unicode characters is encoded as a single code. We use a tree of\n    // objects where keys correspond to characters in sequence and leafs are the encoded dbcs values. A special DEF_CHAR key\n    // means end of sequence (needed when one sequence is a strict subsequence of another).\n    // Objects are kept separately from encodeTable to increase performance.\n    this.encodeTableSeq = [];\n\n    // Some chars can be decoded, but need not be encoded.\n    var skipEncodeChars = {};\n    if (codecOptions.encodeSkipVals)\n        for (var i = 0; i < codecOptions.encodeSkipVals.length; i++) {\n            var val = codecOptions.encodeSkipVals[i];\n            if (typeof val === 'number')\n                skipEncodeChars[val] = true;\n            else\n                for (var j = val.from; j <= val.to; j++)\n                    skipEncodeChars[j] = true;\n        }\n        \n    // Use decode trie to recursively fill out encode tables.\n    this._fillEncodeTable(0, 0, skipEncodeChars);\n\n    // Add more encoding pairs when needed.\n    if (codecOptions.encodeAdd) {\n        for (var uChar in codecOptions.encodeAdd)\n            if (Object.prototype.hasOwnProperty.call(codecOptions.encodeAdd, uChar))\n                this._setEncodeChar(uChar.charCodeAt(0), codecOptions.encodeAdd[uChar]);\n    }\n\n    this.defCharSB  = this.encodeTable[0][iconv.defaultCharSingleByte.charCodeAt(0)];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = this.encodeTable[0]['?'];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = \"?\".charCodeAt(0);\n\n\n    // Load & create GB18030 tables when needed.\n    if (typeof codecOptions.gb18030 === 'function') {\n        this.gb18030 = codecOptions.gb18030(); // Load GB18030 ranges.\n\n        // Add GB18030 decode tables.\n        var thirdByteNodeIdx = this.decodeTables.length;\n        var thirdByteNode = this.decodeTables[thirdByteNodeIdx] = UNASSIGNED_NODE.slice(0);\n\n        var fourthByteNodeIdx = this.decodeTables.length;\n        var fourthByteNode = this.decodeTables[fourthByteNodeIdx] = UNASSIGNED_NODE.slice(0);\n\n        for (var i = 0x81; i <= 0xFE; i++) {\n            var secondByteNodeIdx = NODE_START - this.decodeTables[0][i];\n            var secondByteNode = this.decodeTables[secondByteNodeIdx];\n            for (var j = 0x30; j <= 0x39; j++)\n                secondByteNode[j] = NODE_START - thirdByteNodeIdx;\n        }\n        for (var i = 0x81; i <= 0xFE; i++)\n            thirdByteNode[i] = NODE_START - fourthByteNodeIdx;\n        for (var i = 0x30; i <= 0x39; i++)\n            fourthByteNode[i] = GB18030_CODE\n    }        \n}\n\nDBCSCodec.prototype.encoder = DBCSEncoder;\nDBCSCodec.prototype.decoder = DBCSDecoder;\n\n// Decoder helpers\nDBCSCodec.prototype._getDecodeTrieNode = function(addr) {\n    var bytes = [];\n    for (; addr > 0; addr >>= 8)\n        bytes.push(addr & 0xFF);\n    if (bytes.length == 0)\n        bytes.push(0);\n\n    var node = this.decodeTables[0];\n    for (var i = bytes.length-1; i > 0; i--) { // Traverse nodes deeper into the trie.\n        var val = node[bytes[i]];\n\n        if (val == UNASSIGNED) { // Create new node.\n            node[bytes[i]] = NODE_START - this.decodeTables.length;\n            this.decodeTables.push(node = UNASSIGNED_NODE.slice(0));\n        }\n        else if (val <= NODE_START) { // Existing node.\n            node = this.decodeTables[NODE_START - val];\n        }\n        else\n            throw new Error(\"Overwrite byte in \" + this.encodingName + \", addr: \" + addr.toString(16));\n    }\n    return node;\n}\n\n\nDBCSCodec.prototype._addDecodeChunk = function(chunk) {\n    // First element of chunk is the hex mbcs code where we start.\n    var curAddr = parseInt(chunk[0], 16);\n\n    // Choose the decoding node where we'll write our chars.\n    var writeTable = this._getDecodeTrieNode(curAddr);\n    curAddr = curAddr & 0xFF;\n\n    // Write all other elements of the chunk to the table.\n    for (var k = 1; k < chunk.length; k++) {\n        var part = chunk[k];\n        if (typeof part === \"string\") { // String, write as-is.\n            for (var l = 0; l < part.length;) {\n                var code = part.charCodeAt(l++);\n                if (0xD800 <= code && code < 0xDC00) { // Decode surrogate\n                    var codeTrail = part.charCodeAt(l++);\n                    if (0xDC00 <= codeTrail && codeTrail < 0xE000)\n                        writeTable[curAddr++] = 0x10000 + (code - 0xD800) * 0x400 + (codeTrail - 0xDC00);\n                    else\n                        throw new Error(\"Incorrect surrogate pair in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n                }\n                else if (0x0FF0 < code && code <= 0x0FFF) { // Character sequence (our own encoding used)\n                    var len = 0xFFF - code + 2;\n                    var seq = [];\n                    for (var m = 0; m < len; m++)\n                        seq.push(part.charCodeAt(l++)); // Simple variation: don't support surrogates or subsequences in seq.\n\n                    writeTable[curAddr++] = SEQ_START - this.decodeTableSeq.length;\n                    this.decodeTableSeq.push(seq);\n                }\n                else\n                    writeTable[curAddr++] = code; // Basic char\n            }\n        } \n        else if (typeof part === \"number\") { // Integer, meaning increasing sequence starting with prev character.\n            var charCode = writeTable[curAddr - 1] + 1;\n            for (var l = 0; l < part; l++)\n                writeTable[curAddr++] = charCode++;\n        }\n        else\n            throw new Error(\"Incorrect type '\" + typeof part + \"' given in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n    }\n    if (curAddr > 0xFF)\n        throw new Error(\"Incorrect chunk in \"  + this.encodingName + \" at addr \" + chunk[0] + \": too long\" + curAddr);\n}\n\n// Encoder helpers\nDBCSCodec.prototype._getEncodeBucket = function(uCode) {\n    var high = uCode >> 8; // This could be > 0xFF because of astral characters.\n    if (this.encodeTable[high] === undefined)\n        this.encodeTable[high] = UNASSIGNED_NODE.slice(0); // Create bucket on demand.\n    return this.encodeTable[high];\n}\n\nDBCSCodec.prototype._setEncodeChar = function(uCode, dbcsCode) {\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n    if (bucket[low] <= SEQ_START)\n        this.encodeTableSeq[SEQ_START-bucket[low]][DEF_CHAR] = dbcsCode; // There's already a sequence, set a single-char subsequence of it.\n    else if (bucket[low] == UNASSIGNED)\n        bucket[low] = dbcsCode;\n}\n\nDBCSCodec.prototype._setEncodeSequence = function(seq, dbcsCode) {\n    \n    // Get the root of character tree according to first character of the sequence.\n    var uCode = seq[0];\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n\n    var node;\n    if (bucket[low] <= SEQ_START) {\n        // There's already a sequence with  - use it.\n        node = this.encodeTableSeq[SEQ_START-bucket[low]];\n    }\n    else {\n        // There was no sequence object - allocate a new one.\n        node = {};\n        if (bucket[low] !== UNASSIGNED) node[DEF_CHAR] = bucket[low]; // If a char was set before - make it a single-char subsequence.\n        bucket[low] = SEQ_START - this.encodeTableSeq.length;\n        this.encodeTableSeq.push(node);\n    }\n\n    // Traverse the character tree, allocating new nodes as needed.\n    for (var j = 1; j < seq.length-1; j++) {\n        var oldVal = node[uCode];\n        if (typeof oldVal === 'object')\n            node = oldVal;\n        else {\n            node = node[uCode] = {}\n            if (oldVal !== undefined)\n                node[DEF_CHAR] = oldVal\n        }\n    }\n\n    // Set the leaf to given dbcsCode.\n    uCode = seq[seq.length-1];\n    node[uCode] = dbcsCode;\n}\n\nDBCSCodec.prototype._fillEncodeTable = function(nodeIdx, prefix, skipEncodeChars) {\n    var node = this.decodeTables[nodeIdx];\n    for (var i = 0; i < 0x100; i++) {\n        var uCode = node[i];\n        var mbCode = prefix + i;\n        if (skipEncodeChars[mbCode])\n            continue;\n\n        if (uCode >= 0)\n            this._setEncodeChar(uCode, mbCode);\n        else if (uCode <= NODE_START)\n            this._fillEncodeTable(NODE_START - uCode, mbCode << 8, skipEncodeChars);\n        else if (uCode <= SEQ_START)\n            this._setEncodeSequence(this.decodeTableSeq[SEQ_START - uCode], mbCode);\n    }\n}\n\n\n\n// == Encoder ==================================================================\n\nfunction DBCSEncoder(options, codec) {\n    // Encoder state\n    this.leadSurrogate = -1;\n    this.seqObj = undefined;\n    \n    // Static data\n    this.encodeTable = codec.encodeTable;\n    this.encodeTableSeq = codec.encodeTableSeq;\n    this.defaultCharSingleByte = codec.defCharSB;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSEncoder.prototype.write = function(str) {\n    var newBuf = Buffer.alloc(str.length * (this.gb18030 ? 4 : 3)),\n        leadSurrogate = this.leadSurrogate,\n        seqObj = this.seqObj, nextChar = -1,\n        i = 0, j = 0;\n\n    while (true) {\n        // 0. Get next character.\n        if (nextChar === -1) {\n            if (i == str.length) break;\n            var uCode = str.charCodeAt(i++);\n        }\n        else {\n            var uCode = nextChar;\n            nextChar = -1;    \n        }\n\n        // 1. Handle surrogates.\n        if (0xD800 <= uCode && uCode < 0xE000) { // Char is one of surrogates.\n            if (uCode < 0xDC00) { // We've got lead surrogate.\n                if (leadSurrogate === -1) {\n                    leadSurrogate = uCode;\n                    continue;\n                } else {\n                    leadSurrogate = uCode;\n                    // Double lead surrogate found.\n                    uCode = UNASSIGNED;\n                }\n            } else { // We've got trail surrogate.\n                if (leadSurrogate !== -1) {\n                    uCode = 0x10000 + (leadSurrogate - 0xD800) * 0x400 + (uCode - 0xDC00);\n                    leadSurrogate = -1;\n                } else {\n                    // Incomplete surrogate pair - only trail surrogate found.\n                    uCode = UNASSIGNED;\n                }\n                \n            }\n        }\n        else if (leadSurrogate !== -1) {\n            // Incomplete surrogate pair - only lead surrogate found.\n            nextChar = uCode; uCode = UNASSIGNED; // Write an error, then current char.\n            leadSurrogate = -1;\n        }\n\n        // 2. Convert uCode character.\n        var dbcsCode = UNASSIGNED;\n        if (seqObj !== undefined && uCode != UNASSIGNED) { // We are in the middle of the sequence\n            var resCode = seqObj[uCode];\n            if (typeof resCode === 'object') { // Sequence continues.\n                seqObj = resCode;\n                continue;\n\n            } else if (typeof resCode == 'number') { // Sequence finished. Write it.\n                dbcsCode = resCode;\n\n            } else if (resCode == undefined) { // Current character is not part of the sequence.\n\n                // Try default character for this sequence\n                resCode = seqObj[DEF_CHAR];\n                if (resCode !== undefined) {\n                    dbcsCode = resCode; // Found. Write it.\n                    nextChar = uCode; // Current character will be written too in the next iteration.\n\n                } else {\n                    // TODO: What if we have no default? (resCode == undefined)\n                    // Then, we should write first char of the sequence as-is and try the rest recursively.\n                    // Didn't do it for now because no encoding has this situation yet.\n                    // Currently, just skip the sequence and write current char.\n                }\n            }\n            seqObj = undefined;\n        }\n        else if (uCode >= 0) {  // Regular character\n            var subtable = this.encodeTable[uCode >> 8];\n            if (subtable !== undefined)\n                dbcsCode = subtable[uCode & 0xFF];\n            \n            if (dbcsCode <= SEQ_START) { // Sequence start\n                seqObj = this.encodeTableSeq[SEQ_START-dbcsCode];\n                continue;\n            }\n\n            if (dbcsCode == UNASSIGNED && this.gb18030) {\n                // Use GB18030 algorithm to find character(s) to write.\n                var idx = findIdx(this.gb18030.uChars, uCode);\n                if (idx != -1) {\n                    var dbcsCode = this.gb18030.gbChars[idx] + (uCode - this.gb18030.uChars[idx]);\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 12600); dbcsCode = dbcsCode % 12600;\n                    newBuf[j++] = 0x30 + Math.floor(dbcsCode / 1260); dbcsCode = dbcsCode % 1260;\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 10); dbcsCode = dbcsCode % 10;\n                    newBuf[j++] = 0x30 + dbcsCode;\n                    continue;\n                }\n            }\n        }\n\n        // 3. Write dbcsCode character.\n        if (dbcsCode === UNASSIGNED)\n            dbcsCode = this.defaultCharSingleByte;\n        \n        if (dbcsCode < 0x100) {\n            newBuf[j++] = dbcsCode;\n        }\n        else if (dbcsCode < 0x10000) {\n            newBuf[j++] = dbcsCode >> 8;   // high byte\n            newBuf[j++] = dbcsCode & 0xFF; // low byte\n        }\n        else {\n            newBuf[j++] = dbcsCode >> 16;\n            newBuf[j++] = (dbcsCode >> 8) & 0xFF;\n            newBuf[j++] = dbcsCode & 0xFF;\n        }\n    }\n\n    this.seqObj = seqObj;\n    this.leadSurrogate = leadSurrogate;\n    return newBuf.slice(0, j);\n}\n\nDBCSEncoder.prototype.end = function() {\n    if (this.leadSurrogate === -1 && this.seqObj === undefined)\n        return; // All clean. Most often case.\n\n    var newBuf = Buffer.alloc(10), j = 0;\n\n    if (this.seqObj) { // We're in the sequence.\n        var dbcsCode = this.seqObj[DEF_CHAR];\n        if (dbcsCode !== undefined) { // Write beginning of the sequence.\n            if (dbcsCode < 0x100) {\n                newBuf[j++] = dbcsCode;\n            }\n            else {\n                newBuf[j++] = dbcsCode >> 8;   // high byte\n                newBuf[j++] = dbcsCode & 0xFF; // low byte\n            }\n        } else {\n            // See todo above.\n        }\n        this.seqObj = undefined;\n    }\n\n    if (this.leadSurrogate !== -1) {\n        // Incomplete surrogate pair - only lead surrogate found.\n        newBuf[j++] = this.defaultCharSingleByte;\n        this.leadSurrogate = -1;\n    }\n    \n    return newBuf.slice(0, j);\n}\n\n// Export for testing\nDBCSEncoder.prototype.findIdx = findIdx;\n\n\n// == Decoder ==================================================================\n\nfunction DBCSDecoder(options, codec) {\n    // Decoder state\n    this.nodeIdx = 0;\n    this.prevBuf = Buffer.alloc(0);\n\n    // Static data\n    this.decodeTables = codec.decodeTables;\n    this.decodeTableSeq = codec.decodeTableSeq;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSDecoder.prototype.write = function(buf) {\n    var newBuf = Buffer.alloc(buf.length*2),\n        nodeIdx = this.nodeIdx, \n        prevBuf = this.prevBuf, prevBufOffset = this.prevBuf.length,\n        seqStart = -this.prevBuf.length, // idx of the start of current parsed sequence.\n        uCode;\n\n    if (prevBufOffset > 0) // Make prev buf overlap a little to make it easier to slice later.\n        prevBuf = Buffer.concat([prevBuf, buf.slice(0, 10)]);\n    \n    for (var i = 0, j = 0; i < buf.length; i++) {\n        var curByte = (i >= 0) ? buf[i] : prevBuf[i + prevBufOffset];\n\n        // Lookup in current trie node.\n        var uCode = this.decodeTables[nodeIdx][curByte];\n\n        if (uCode >= 0) { \n            // Normal character, just use it.\n        }\n        else if (uCode === UNASSIGNED) { // Unknown char.\n            // TODO: Callback with seq.\n            //var curSeq = (seqStart >= 0) ? buf.slice(seqStart, i+1) : prevBuf.slice(seqStart + prevBufOffset, i+1 + prevBufOffset);\n            i = seqStart; // Try to parse again, after skipping first byte of the sequence ('i' will be incremented by 'for' cycle).\n            uCode = this.defaultCharUnicode.charCodeAt(0);\n        }\n        else if (uCode === GB18030_CODE) {\n            var curSeq = (seqStart >= 0) ? buf.slice(seqStart, i+1) : prevBuf.slice(seqStart + prevBufOffset, i+1 + prevBufOffset);\n            var ptr = (curSeq[0]-0x81)*12600 + (curSeq[1]-0x30)*1260 + (curSeq[2]-0x81)*10 + (curSeq[3]-0x30);\n            var idx = findIdx(this.gb18030.gbChars, ptr);\n            uCode = this.gb18030.uChars[idx] + ptr - this.gb18030.gbChars[idx];\n        }\n        else if (uCode <= NODE_START) { // Go to next trie node.\n            nodeIdx = NODE_START - uCode;\n            continue;\n        }\n        else if (uCode <= SEQ_START) { // Output a sequence of chars.\n            var seq = this.decodeTableSeq[SEQ_START - uCode];\n            for (var k = 0; k < seq.length - 1; k++) {\n                uCode = seq[k];\n                newBuf[j++] = uCode & 0xFF;\n                newBuf[j++] = uCode >> 8;\n            }\n            uCode = seq[seq.length-1];\n        }\n        else\n            throw new Error(\"iconv-lite internal error: invalid decoding table value \" + uCode + \" at \" + nodeIdx + \"/\" + curByte);\n\n        // Write the character to buffer, handling higher planes using surrogate pair.\n        if (uCode > 0xFFFF) { \n            uCode -= 0x10000;\n            var uCodeLead = 0xD800 + Math.floor(uCode / 0x400);\n            newBuf[j++] = uCodeLead & 0xFF;\n            newBuf[j++] = uCodeLead >> 8;\n\n            uCode = 0xDC00 + uCode % 0x400;\n        }\n        newBuf[j++] = uCode & 0xFF;\n        newBuf[j++] = uCode >> 8;\n\n        // Reset trie node.\n        nodeIdx = 0; seqStart = i+1;\n    }\n\n    this.nodeIdx = nodeIdx;\n    this.prevBuf = (seqStart >= 0) ? buf.slice(seqStart) : prevBuf.slice(seqStart + prevBufOffset);\n    return newBuf.slice(0, j).toString('ucs2');\n}\n\nDBCSDecoder.prototype.end = function() {\n    var ret = '';\n\n    // Try to parse all remaining chars.\n    while (this.prevBuf.length > 0) {\n        // Skip 1 character in the buffer.\n        ret += this.defaultCharUnicode;\n        var buf = this.prevBuf.slice(1);\n\n        // Parse remaining as usual.\n        this.prevBuf = Buffer.alloc(0);\n        this.nodeIdx = 0;\n        if (buf.length > 0)\n            ret += this.write(buf);\n    }\n\n    this.nodeIdx = 0;\n    return ret;\n}\n\n// Binary search for GB18030. Returns largest i such that table[i] <= val.\nfunction findIdx(table, val) {\n    if (table[0] > val)\n        return -1;\n\n    var l = 0, r = table.length;\n    while (l < r-1) { // always table[l] <= val < table[r]\n        var mid = l + Math.floor((r-l+1)/2);\n        if (table[mid] <= val)\n            l = mid;\n        else\n            r = mid;\n    }\n    return l;\n}\n\n","\"use strict\";\n\n// Description of supported double byte encodings and aliases.\n// Tables are not require()-d until they are needed to speed up library load.\n// require()-s are direct to support Browserify.\n\nmodule.exports = {\n    \n    // == Japanese/ShiftJIS ====================================================\n    // All japanese encodings are based on JIS X set of standards:\n    // JIS X 0201 - Single-byte encoding of ASCII +  + Kana chars at 0xA1-0xDF.\n    // JIS X 0208 - Main set of 6879 characters, placed in 94x94 plane, to be encoded by 2 bytes. \n    //              Has several variations in 1978, 1983, 1990 and 1997.\n    // JIS X 0212 - Supplementary plane of 6067 chars in 94x94 plane. 1990. Effectively dead.\n    // JIS X 0213 - Extension and modern replacement of 0208 and 0212. Total chars: 11233.\n    //              2 planes, first is superset of 0208, second - revised 0212.\n    //              Introduced in 2000, revised 2004. Some characters are in Unicode Plane 2 (0x2xxxx)\n\n    // Byte encodings are:\n    //  * Shift_JIS: Compatible with 0201, uses not defined chars in top half as lead bytes for double-byte\n    //               encoding of 0208. Lead byte ranges: 0x81-0x9F, 0xE0-0xEF; Trail byte ranges: 0x40-0x7E, 0x80-0x9E, 0x9F-0xFC.\n    //               Windows CP932 is a superset of Shift_JIS. Some companies added more chars, notably KDDI.\n    //  * EUC-JP:    Up to 3 bytes per character. Used mostly on *nixes.\n    //               0x00-0x7F       - lower part of 0201\n    //               0x8E, 0xA1-0xDF - upper part of 0201\n    //               (0xA1-0xFE)x2   - 0208 plane (94x94).\n    //               0x8F, (0xA1-0xFE)x2 - 0212 plane (94x94).\n    //  * JIS X 208: 7-bit, direct encoding of 0208. Byte ranges: 0x21-0x7E (94 values). Uncommon.\n    //               Used as-is in ISO2022 family.\n    //  * ISO2022-JP: Stateful encoding, with escape sequences to switch between ASCII, \n    //                0201-1976 Roman, 0208-1978, 0208-1983.\n    //  * ISO2022-JP-1: Adds esc seq for 0212-1990.\n    //  * ISO2022-JP-2: Adds esc seq for GB2313-1980, KSX1001-1992, ISO8859-1, ISO8859-7.\n    //  * ISO2022-JP-3: Adds esc seq for 0201-1976 Kana set, 0213-2000 Planes 1, 2.\n    //  * ISO2022-JP-2004: Adds 0213-2004 Plane 1.\n    //\n    // After JIS X 0213 appeared, Shift_JIS-2004, EUC-JISX0213 and ISO2022-JP-2004 followed, with just changing the planes.\n    //\n    // Overall, it seems that it's a mess :( http://www8.plala.or.jp/tkubota1/unicode-symbols-map2.html\n\n    'shiftjis': {\n        type: '_dbcs',\n        table: function() { return require('./tables/shiftjis.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n        encodeSkipVals: [{from: 0xED40, to: 0xF940}],\n    },\n    'csshiftjis': 'shiftjis',\n    'mskanji': 'shiftjis',\n    'sjis': 'shiftjis',\n    'windows31j': 'shiftjis',\n    'ms31j': 'shiftjis',\n    'xsjis': 'shiftjis',\n    'windows932': 'shiftjis',\n    'ms932': 'shiftjis',\n    '932': 'shiftjis',\n    'cp932': 'shiftjis',\n\n    'eucjp': {\n        type: '_dbcs',\n        table: function() { return require('./tables/eucjp.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n    },\n\n    // TODO: KDDI extension to Shift_JIS\n    // TODO: IBM CCSID 942 = CP932, but F0-F9 custom chars and other char changes.\n    // TODO: IBM CCSID 943 = Shift_JIS = CP932 with original Shift_JIS lower 128 chars.\n\n\n    // == Chinese/GBK ==========================================================\n    // http://en.wikipedia.org/wiki/GBK\n    // We mostly implement W3C recommendation: https://www.w3.org/TR/encoding/#gbk-encoder\n\n    // Oldest GB2312 (1981, ~7600 chars) is a subset of CP936\n    'gb2312': 'cp936',\n    'gb231280': 'cp936',\n    'gb23121980': 'cp936',\n    'csgb2312': 'cp936',\n    'csiso58gb231280': 'cp936',\n    'euccn': 'cp936',\n\n    // Microsoft's CP936 is a subset and approximation of GBK.\n    'windows936': 'cp936',\n    'ms936': 'cp936',\n    '936': 'cp936',\n    'cp936': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json') },\n    },\n\n    // GBK (~22000 chars) is an extension of CP936 that added user-mapped chars and some other.\n    'gbk': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n    },\n    'xgbk': 'gbk',\n    'isoir58': 'gbk',\n\n    // GB18030 is an algorithmic extension of GBK.\n    // Main source: https://www.w3.org/TR/encoding/#gbk-encoder\n    // http://icu-project.org/docs/papers/gb18030.html\n    // http://source.icu-project.org/repos/icu/data/trunk/charset/data/xml/gb-18030-2000.xml\n    // http://www.khngai.com/chinese/charmap/tblgbk.php?page=0\n    'gb18030': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n        gb18030: function() { return require('./tables/gb18030-ranges.json') },\n        encodeSkipVals: [0x80],\n        encodeAdd: {'': 0xA2E3},\n    },\n\n    'chinese': 'gb18030',\n\n\n    // == Korean ===============================================================\n    // EUC-KR, KS_C_5601 and KS X 1001 are exactly the same.\n    'windows949': 'cp949',\n    'ms949': 'cp949',\n    '949': 'cp949',\n    'cp949': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp949.json') },\n    },\n\n    'cseuckr': 'cp949',\n    'csksc56011987': 'cp949',\n    'euckr': 'cp949',\n    'isoir149': 'cp949',\n    'korean': 'cp949',\n    'ksc56011987': 'cp949',\n    'ksc56011989': 'cp949',\n    'ksc5601': 'cp949',\n\n\n    // == Big5/Taiwan/Hong Kong ================================================\n    // There are lots of tables for Big5 and cp950. Please see the following links for history:\n    // http://moztw.org/docs/big5/  http://www.haible.de/bruno/charsets/conversion-tables/Big5.html\n    // Variations, in roughly number of defined chars:\n    //  * Windows CP 950: Microsoft variant of Big5. Canonical: http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP950.TXT\n    //  * Windows CP 951: Microsoft variant of Big5-HKSCS-2001. Seems to be never public. http://me.abelcheung.org/articles/research/what-is-cp951/\n    //  * Big5-2003 (Taiwan standard) almost superset of cp950.\n    //  * Unicode-at-on (UAO) / Mozilla 1.8. Falling out of use on the Web. Not supported by other browsers.\n    //  * Big5-HKSCS (-2001, -2004, -2008). Hong Kong standard. \n    //    many unicode code points moved from PUA to Supplementary plane (U+2XXXX) over the years.\n    //    Plus, it has 4 combining sequences.\n    //    Seems that Mozilla refused to support it for 10 yrs. https://bugzilla.mozilla.org/show_bug.cgi?id=162431 https://bugzilla.mozilla.org/show_bug.cgi?id=310299\n    //    because big5-hkscs is the only encoding to include astral characters in non-algorithmic way.\n    //    Implementations are not consistent within browsers; sometimes labeled as just big5.\n    //    MS Internet Explorer switches from big5 to big5-hkscs when a patch applied.\n    //    Great discussion & recap of what's going on https://bugzilla.mozilla.org/show_bug.cgi?id=912470#c31\n    //    In the encoder, it might make sense to support encoding old PUA mappings to Big5 bytes seq-s.\n    //    Official spec: http://www.ogcio.gov.hk/en/business/tech_promotion/ccli/terms/doc/2003cmp_2008.txt\n    //                   http://www.ogcio.gov.hk/tc/business/tech_promotion/ccli/terms/doc/hkscs-2008-big5-iso.txt\n    // \n    // Current understanding of how to deal with Big5(-HKSCS) is in the Encoding Standard, http://encoding.spec.whatwg.org/#big5-encoder\n    // Unicode mapping (http://www.unicode.org/Public/MAPPINGS/OBSOLETE/EASTASIA/OTHER/BIG5.TXT) is said to be wrong.\n\n    'windows950': 'cp950',\n    'ms950': 'cp950',\n    '950': 'cp950',\n    'cp950': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json') },\n    },\n\n    // Big5 has many variations and is an extension of cp950. We use Encoding Standard's as a consensus.\n    'big5': 'big5hkscs',\n    'big5hkscs': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json').concat(require('./tables/big5-added.json')) },\n        encodeSkipVals: [0xa2cc],\n    },\n\n    'cnbig5': 'big5hkscs',\n    'csbig5': 'big5hkscs',\n    'xxbig5': 'big5hkscs',\n};\n","'use strict'\nmodule.exports = rtfToHTML\n\nfunction outputTemplate (doc, defaults, content) {\n  return `<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset=\"UTF-8\">\n    <style>\n    body {\n      margin-left: ${doc.marginLeft / 20}pt;\n      margin-right: ${doc.marginRight / 20}pt;\n      margin-top: ${doc.marginTop / 20}pt;\n      margin-bottom: ${doc.marginBottom / 20}pt;\n      font-size: ${defaults.fontSize / 2}pt;\n      text-indent: ${defaults.firstLineIndent / 20}pt;\n    }\n    </style>\n  </head>\n  <body>\n    ${content.replace(/\\n/, '\\n    ')}\n  </body>\n</html>\n`\n}\n\nfunction rtfToHTML (doc, options) {\n  const defaults = Object.assign({\n    font: doc.style.font || {name: 'Times', family: 'roman'},\n    fontSize: doc.style.fontSize || 24,\n    bold: false,\n    italic: false,\n    underline: false,\n    strikethrough: false,\n    foreground: {red: 0, blue: 0, green: 0},\n    background: {red: 255, blue: 255, green: 255},\n    firstLineIndent: doc.style.firstLineIndent || 0,\n    indent: 0,\n    align: 'left',\n    valign: 'normal',\n\n    paraBreaks: '\\n\\n',\n    paraTag: 'p',\n    template: outputTemplate\n  }, options || {})\n  const content = doc.content.map(para => renderPara(para, defaults)).filter(html => html != null).join(defaults.paraBreaks)\n  return defaults.template(doc, defaults, content)\n}\n\nfunction font (ft) {\n  const name = ft.name.replace(/-\\w+$/, '')\n  const family = genericFontMap[ft.family]\n  if (name === 'ZapfDingbatsITC') return ''\n  return 'font-family: ' + name + (family ? `, ${family}` : '')\n}\n\nconst genericFontMap = {\n  roman: 'serif',\n  swiss: 'sans-serif',\n  script: 'cursive',\n  decor: 'fantasy',\n  modern: 'sans-serif',\n  tech: 'monospace',\n  bidi: 'serif'\n}\n\nfunction colorEq (aa, bb) {\n  return aa.red === bb.red && aa.blue === bb.blue && aa.green === bb.green\n}\n\nfunction CSS (chunk, defaults) {\n  let css = ''\n  if (chunk.style.foreground != null && !colorEq(chunk.style.foreground, defaults.foreground)) {\n    css += `color: rgb(${chunk.style.foreground.red}, ${chunk.style.foreground.green}, ${chunk.style.foreground.blue});`\n  }\n  if (chunk.style.background != null && !colorEq(chunk.style.background, defaults.background)) {\n    css += `background-color: rgb(${chunk.style.background.red}, ${chunk.style.background.green}, ${chunk.style.background.blue});`\n  }\n  if (chunk.style.firstLineIndent != null && chunk.style.firstLineIndent > 0 && chunk.style.firstLineIndent !== defaults.firstLineIndent) {\n    css += `text-indent: ${chunk.style.firstLineIndent / 20}pt;`\n  }\n  if (chunk.style.indent != null && chunk.style.indent !== defaults.indent) {\n    css += `padding-left: ${chunk.style.indent / 20}pt;`\n  }\n  if (chunk.style.align != null && chunk.style.align !== defaults.align) {\n    css += `text-align: ${chunk.style.align};`\n  }\n  if (chunk.style.fontSize != null && chunk.style.fontSize !== defaults.fontSize) {\n    css += `font-size: ${chunk.style.fontSize / 2}pt;`\n  }\n  if (!defaults.disableFonts && chunk.style.font != null && chunk.style.font.name !== defaults.font.name) {\n    css += font(chunk.style.font)\n  }\n  return css\n}\n\nfunction styleTags (chunk, defaults) {\n  let open = ''\n  let close = ''\n  if (chunk.style.italic != null && chunk.style.italic !== defaults.italic) {\n    open += '<em>'\n    close = '</em>' + close\n  }\n  if (chunk.style.bold != null && chunk.style.bold !== defaults.bold) {\n    open += '<strong>'\n    close = '</strong>' + close\n  }\n  if (chunk.style.strikethrough != null && chunk.style.strikethrough !== defaults.strikethrough) {\n    open += '<s>'\n    close = '</s>' + close\n  }\n  if (chunk.style.underline != null && chunk.style.underline !== defaults.underline) {\n    open += '<u>'\n    close = '</u>' + close\n  }\n  if (chunk.style.valign != null && chunk.style.valign !== defaults.valign) {\n    if (chunk.style.valign === 'super') {\n      open += '<sup>'\n      close = '</sup>' + close\n    } else if (chunk.style.valign === 'sub') {\n      open += '<sup>'\n      close = '</sup>' + close\n    }\n  }\n  return {open, close}\n}\n\nfunction renderPara (para, defaults) {\n  if (!para.content || para.content.length === 0) return\n  const style = CSS(para, defaults)\n  const tags = styleTags(para, defaults)\n  const pdefaults = Object.assign({}, defaults)\n  for (let item of Object.keys(para.style)) {\n    if (para.style[item] != null) pdefaults[item] = para.style[item]\n  }\n  const paraTag = defaults.paraTag\n  return `<${paraTag}${style ? ' style=\"' + style + '\"' : ''}>${tags.open}${para.content.map(span => renderSpan(span, pdefaults)).join('')}${tags.close}</${paraTag}>`\n}\n\nfunction renderSpan (span, defaults) {\n  const style = CSS(span, defaults)\n  const tags = styleTags(span, defaults)\n  const value = `${tags.open}${span.value}${tags.close}`\n  if (style) {\n    return `<span style=\"${style}\">${value}</span>`\n  } else {\n    return value\n  }\n}\n","export const en_EN = {\n  'LBL_WRITER_STRONG': 'Strong',\n  'LBL_WRITER_ITALIC': 'Italic',\n  'LBL_WRITER_UNDERLINE': 'Underline',\n  'LBL_WRITER_THROUGHLINE': 'Throughline',\n  'LBL_WRITER_LEFT_JUSTIFY': 'Left justify',\n  'LBL_WRITER_CENTER_JUSTIFY': 'Center justify',\n  'LBL_WRITER_RIGHT_JUSTIFY': 'Right justify',\n  'LBL_WRITER_INDENT_LESS': 'Indent less',\n  'LBL_WRITER_INDENT_MORE': 'Indent more',\n  'LBL_WRITER_FOREGROUND': 'Foreground',\n  'LBL_WRITER_BACKGROUND': 'Background',\n  'LBL_WRITER_FONT': 'Font'\n};\n\nexport const fr_FR = {\n  'LBL_WRITER_STRONG': 'Gras',\n  'LBL_WRITER_ITALIC': 'Italique',\n  'LBL_WRITER_UNDERLINE': 'Souligner',\n  'LBL_WRITER_THROUGHLINE': 'Barrer',\n  'LBL_WRITER_LEFT_JUSTIFY': 'Aligner  gauche',\n  'LBL_WRITER_CENTER_JUSTIFY': 'Centrer',\n  'LBL_WRITER_RIGHT_JUSTIFY': 'Aligner  droite',\n  'LBL_WRITER_INDENT_LESS': 'Rduire l\\'indentation',\n  'LBL_WRITER_INDENT_MORE': 'Augmenter l\\'indentation',\n  'LBL_WRITER_FOREGROUND': 'Premier plan',\n  'LBL_WRITER_BACKGROUND': 'Arrire plan',\n  'LBL_WRITER_FONT': 'Police'\n};\n","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\n/**\n * Elemet Box definition\n * @property {string} [class] Container class name\n * @property {number} [grow] Flexbox grow value\n * @property {number} [shrink] Flexbox shrink value\n * @property {number|string} [basis] Flexbox basis value\n * @property {string} [align] Flexbox alignItems value\n * @property {string} [justify] Flexbox justifyContent value\n * @property {number|string} [padding] Margin\n * @property {number|string} [margin] Margin\n * @property {string} [key] Hyperapp element key\n * @property {Function} [oncreate] Hyperapp oncreate function\n * @property {Function} [onupdate] Hyperapp onupdate function\n * @property {Function} [ondestroy] Hyperapp ondestroy function\n * @typedef BoxProperties\n */\n\nconst unitValue = (value, unset) => typeof value === 'number'\n  ? `${value}px`\n  : (value === false ? unset : value);\n\nconst boxPropNames = {\n  grow: value => ({flexGrow: value}),\n  shrink: value => ({flexShrink: value}),\n  basis: value => ({flexBasis: unitValue(value, 'auto')}),\n  align: value => ({alignItems: value}),\n  justify: value => ({justifyContent: value}),\n  padding: value => ({margin: unitValue(value, '0')}),\n  margin: value => ({margin: unitValue(value, '0')})\n};\n\n/**\n * A generic OS.js GUI container\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const Element = (props, children = []) => {\n  const givenClassNames = props.class instanceof Array\n    ? props.class\n    : [props.class];\n\n  const classNames = [\n    'osjs-gui',\n    ...givenClassNames\n  ];\n\n  if (props.orientation) {\n    classNames.push('osjs-gui-' + props.orientation);\n  }\n\n  const defaultStyle = typeof props.style === 'string'\n    ? {}\n    : Object.assign({}, props.style || {});\n\n  const style = Object.keys(props).reduce((result, prop) => {\n    const value = boxPropNames[prop]\n      ? boxPropNames[prop](props[prop])\n      : undefined;\n\n    return Object.assign({}, result, value);\n  }, defaultStyle);\n\n  return h('div', {\n    oncreate: props.oncreate,\n    ondestroy: props.ondestroy,\n    class: classNames.filter(s => !!s).join(' '),\n    style\n  }, children);\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A flexbox\n * @param {BoxProperties} props Properties\n * @param {string} [props.orientation='horizontal'] Box orientation\n * @param {h[]} children Children\n */\nexport const Box = (props, children) =>\n  h(Element, Object.assign({\n    orientation: 'horizontal'\n  }, props, {\n    class: ['osjs-gui-box', props.class],\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A styled flexbox container\n * @param {BoxProperties} props Properties\n * @param {h[]} children Children\n */\nexport const BoxStyled = (props, children) =>\n  h(Element, Object.assign({}, props, {\n    class: ['osjs-gui-box-styled', props.class]\n  }), children);\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\n/**\n * An icon\n * @param {Object} props Properties\n * @param {string} props.src Icon src\n * @param {string} [props.name] Icon name\n * @param {h[]} children Children\n */\nexport const Icon = (props, children) => {\n  const i = props && typeof props === 'object'\n    ? props.src\n    : props;\n\n  const n = props && typeof props === 'object'\n    ? props.name\n    : undefined;\n\n  return h('i', {\n    'data-icon': n,\n    class: 'osjs-icon',\n    style: {\n      backgroundImage: typeof props === 'string' ? `url(${i})` : undefined\n    }\n  });\n};\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\n/**\n * Filter an object based on keys\n * @param {Object} props Props\n * @param {String[]} filterKeys List of keys to filter\n * @return {Object}\n */\nexport const filteredProps = (props, filterKeys) => {\n  const keys = Object.keys(props);\n  const filter = k => filterKeys.indexOf(k) === -1;\n\n  return keys\n    .filter(filter)\n    .reduce((result, k) => Object.assign({\n      [k]: props[k]\n    }, result), {});\n};\n\n/**\n * Creates a double-tap event handler\n * @param {number} [timeout=250] Timeout\n * @return {Function} Handler with => (ev, cb)\n */\nexport const doubleTap = (timeout = 250) => {\n  let tapped = false;\n  let timer;\n\n  return (ev, cb) => {\n    timer = clearTimeout(timer);\n    timer = setTimeout(() => (tapped = false), timeout);\n\n    if (tapped) {\n      ev.preventDefault();\n      return cb(ev);\n    }\n\n    tapped = true;\n\n    return false;\n  };\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\nimport {h} from 'hyperapp';\nimport {filteredProps} from './utils';\nimport {Element} from './components/Element';\n\n/**\n * Creates a new field Element wrapper\n * @param {String} name Field name\n * @param {Object} props Field props\n * @param {Function} cb Callback to create inner element => (props)\n * @param {Function} cb Callback to get value => (event)\n */\nexport const createField = (name, props, defaultProps, cb, cbInput) => {\n  const oninput = props.oninput || function() {};\n  const onchange = props.onchange || function() {};\n  const onkeydown = props.onkeydown || function() {};\n\n  const getValue = cbInput || (ev => [ev.target.value]);\n  const fieldProps = Object.assign(\n    {\n      oninput: ev => oninput(ev, ...getValue(ev)),\n      onchange: ev => onchange(ev, ...getValue(ev)),\n      onkeydown: ev => {\n        if (ev.keyCode === 13 && props.onenter) {\n          props.onenter(ev, ...getValue(ev));\n        }\n        onkeydown(ev);\n      }\n    },\n    defaultProps,\n    filteredProps(props, ['choices', 'label', 'box', 'oninput', 'onchange'])\n  );\n\n  return h(Element, Object.assign({}, props.box || {}, {\n    class: 'osjs-gui-field osjs-gui-' + name\n  }), cb(fieldProps));\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Icon} from './Icon';\nimport {createField} from '../element';\n\n/**\n * A button\n * @param {Object} props Properties\n * @param {string} [props.icon] Icon source\n * @param {string} [props.label] Use this as label instead of children\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Button = (props = {}, children = []) =>\n  createField('button', props, {\n  }, (fieldProps) => {\n    const inner = [];\n    if (props.icon) {\n      inner.push(h(Icon, props.icon));\n    }\n\n    if (typeof props.label === 'string') {\n      inner.push(h('span', {class: 'osjs-label'}, props.label));\n    }\n\n    return h('button', fieldProps, [\n      ...inner,\n      ...children\n    ]);\n  });\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Icon} from './Icon';\n\nconst ul = (props, children = [], level = 0) => {\n\n  const label = child => {\n    const children = [];\n\n    if (child.type === 'checkbox' || typeof child.checked === 'boolean') {\n      children.push(h('span', {\n        class: 'osjs-gui-menu-checkbox ' + (child.checked ? 'active' : '')\n      }));\n    } else if (child.icon) {\n      children.push(h(Icon, child.icon));\n    }\n\n    children.push(h('span', {}, child.label));\n\n    return children;\n  };\n\n  const inner = (props, child) => {\n    if (typeof child.element === 'function') {\n      return child.element();\n    }\n\n    const className = child.type === 'separator'\n      ? 'osjs-gui-menu-separator'\n      : 'osjs-gui-menu-label ' + (child.disabled ? 'osjs__disabled' : '');\n\n    const children = [\n      h('span', {class: className}, label(child))\n    ];\n\n    if (child.items) {\n      children.push(ul(props, child.items, level + 1));\n    }\n\n    return children;\n  };\n\n  return h('ul', {\n    class: ''\n  }, children.map(\n    child => h('li', {\n      class: 'osjs-gui-menu-entry'\n    }, [\n      h('div', {\n        class: 'osjs-gui-menu-container',\n        'data-has-image': child.icon ? true : undefined,\n        'data-has-children': child.items ? true : undefined,\n        onmouseover: child.items ? props.onshow : undefined,\n        ontouchend: child.items ? props.onshow : undefined,\n        onclick: (ev) => {\n          if (child.items) {\n            return;\n          }\n\n          if (child.onclick) {\n            child.onclick(child, ev);\n          }\n\n          if (props.onclick) {\n            props.onclick(child, ev, child);\n          }\n        }\n      }, inner(props, child))\n    ])\n  ));\n};\n\n/**\n * Menu tree\n * @property {String} label Label\n * @property {String} [icon] Icon source\n * @property {Boolean} [disabled] Disabled state\n * @property {Boolean} [closeable] Disable close on click\n * @property {Function} [element] A callback that returns a virtual DOM element (ex. Hyperapp)\n * @property {Function} onclick Click callback\n * @property {MenuItems} [items] Child items\n * @typedef MenuItems\n */\n\n/**\n * A menu\n * @param {Object} props Properties\n * @param {Boolean} [props.visible=true] Visible property\n * @param {Object} [posprops.ition] Position\n * @param {MenuItems} [props.menu] Menu items\n */\nexport const Menu = (props) => h('div', {\n  id: 'osjs-context-menu',\n  className: 'osjs-gui osjs-gui-menu',\n  oncreate: props.oncreate,\n  onupdate: props.onupdate,\n  style: {\n    display: props.visible !== false ? 'block' : 'none',\n    top: props.position ? String(props.position.top) + 'px' : 0,\n    left: props.position ? String(props.position.left) + 'px' : 0\n  }\n}, ul(props, props.menu));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A toolbar\n * @desc Contains entries with spacing\n * @param {BoxProperties} props Properties\n * @param {string} [props.orientation='vertical'] Box orientation\n * @param {h[]} children Children\n */\nexport const Toolbar = (props, children) =>\n  h(Element, Object.assign({\n    orientation: 'vertical'\n  }, props, {\n    class: ['osjs-gui-toolbar', props.class]\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A menubar item\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const MenubarItem = (props, children = []) => {\n  const {onclick, data} = props;\n\n  return h('div', {\n    onclick: (ev) => {\n      if (typeof onclick === 'function') {\n        const parentNode = ev.target.parentNode;\n        const index = Array.prototype.indexOf.call(parentNode.children, ev.target);\n\n        onclick(ev, data || {}, index);\n      }\n    }\n  }, h('span', {}, children));\n};\n\n/**\n * A menubar container\n * @param {BoxProperties} [props] Box Properties\n * @param {MenubarItem[]} [props.items] Array of object\n * @param {h[]} children Children\n */\nexport const Menubar = (props, children = []) =>\n  h(Element, Object.assign({}, props, {\n    class: ['osjs-gui-menubar', props.class]\n  }), [\n    ...(props.items || []).map(item => h(MenubarItem, {\n      data: item.data,\n      onclick: (item.onclick || props.onclick)\n    }, item.label)),\n    ...children\n  ]);\n","import {h, app} from 'hyperapp'\n\nexport default \nfunction nestable (state, actions, view, tagname) {\n    actions._$r = function () {return {}}\n    return function (props, children) {\n        return h(tagname || 'x-', {\n            key: props.key,\n            id: props.id,\n            class: props.class,\n            oncreate: function (el) {\n                var wired = app(\n                    state,\n                    actions,\n                    function (s, a) {\n                        var v = view(s, a)\n                        if (typeof v === 'function') v = v(el._$p, el._$c)\n                        return v\n                    },\n                    el\n                )\n                el._$p = props\n                el._$c = children\n                el._$r = wired._$r\n                el._$u = wired.uninit\n                wired.init && wired.init(props)\n                props.oncreate && props.oncreate(el)\n            },\n            onupdate: function (el) {\n                el._$p = props\n                el._$c = children\n                el._$r()\n                props.onupdate && props.onupdate(el)\n            },\n            ondestroy: function (el) {\n                el._$u && el._$u()\n            },\n            onremove: function (el, done) {\n               if (!props.onremove) return done()\n\n               props.onremove(el, done)\n            }\n        })\n    }    \n}\n\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport nestable from 'hyperapp-nestable';\nimport {Element} from './Element';\n\nconst onmousedown = (ev, actions, orientation) => {\n  const {target, clientX, clientY} = ev;\n  const pane = target.previousSibling;\n  const {offsetWidth, offsetHeight} = pane;\n  const index = Array.from(target.parentNode.children).indexOf(pane);\n  const maxWidth = pane.parentNode.offsetWidth * 0.8;\n  const maxHeight = pane.parentNode.offsetHeight * 0.8;\n\n  if (index < 0) {\n    return;\n  }\n\n  const mousemove = ev => {\n    ev.preventDefault();\n\n    let size = orientation === 'vertical' ? offsetWidth : offsetHeight;\n\n    if (orientation === 'vertical') {\n      const diffX = ev.clientX - clientX;\n      size = Math.min(maxWidth, size + diffX);\n    } else {\n      const diffY = ev.clientY - clientY;\n      size = Math.min(maxHeight, size + diffY);\n    }\n\n    actions.setSize({index, size});\n  };\n\n  const mouseup = ev => {\n    ev.preventDefault();\n    document.removeEventListener('mousemove', mousemove);\n    document.removeEventListener('mouseup', mouseup);\n  };\n\n  ev.preventDefault();\n  document.addEventListener('mousemove', mousemove);\n  document.addEventListener('mouseup', mouseup);\n};\n\nconst panes = (state, actions, children, orientation) => {\n  const spacers = Array(Math.ceil(children.length / 2))\n    .fill(null)\n    .map(() => h('div', {\n      class: 'osjs-gui-panes-spacer',\n      onmousedown: ev => onmousedown(ev, actions, orientation)\n    }));\n\n  const child = (c, i) => {\n    const w = state.sizes[i] ? String(state.sizes[i]) + 'px' : undefined;\n\n    return h('div', {\n      class: 'osjs-gui-panes-pane',\n      style: {\n        flex: w ? `0 0 ${w}` : w\n      }\n    }, c);\n  };\n\n  return children\n    .map(child)\n    .map((v, i) => [v, spacers[i]])\n    .reduce((a, b) => a.concat(b))\n    .filter(v => typeof v !== 'undefined');\n};\n\nconst view = (state, actions) => (props, children) => {\n  const orientation = props.orientation || 'vertical';\n\n  return h(Element, {\n    orientation,\n    class: 'osjs-gui-panes-inner'\n  }, panes(state, actions, children, orientation));\n};\n\nconst inner = nestable({\n  sizes: []\n}, {\n  init: props => ({sizes: props.sizes || [150]}),\n  setSize: ({index, size}) => state => {\n    const sizes = [].concat(state.sizes);\n    sizes[index] = size;\n    return {sizes};\n  }\n}, view, 'div');\n\n/**\n * Resizable panes\n * @param {Object} props Properties\n * @param {string} [props.orientation='vertical'] Pane orientation\n * @param {number[]} [props.sizes] Pane sizes\n * @param {h[]} children Children\n */\nexport const Panes = (props, children) => h(inner, {\n  class: 'osjs-gui-panes'\n}, children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport nestable from 'hyperapp-nestable';\n\nconst headers = ({labels, onchange, oncontextmenu}, state, actions) => (labels || [])\n  .map((label, index) => h('div', {\n    class: state.selectedIndex === index ? 'osjs__active' : '',\n    oncontextmenu: ev => {\n      (oncontextmenu || function() {})(ev, index, label);\n    },\n    onclick: ev => {\n      actions.setSelectedIndex(index);\n      (onchange || function() {})(ev, index, label);\n    }\n  }, h('span', {}, label)));\n\nconst panes = (state, children) => children\n  .map((child, index) => h('div', {\n    class: state.selectedIndex === index ? 'osjs__active' : ''\n  }, child));\n\nconst view = nestable({\n  selectedIndex: 0\n}, {\n  init: props => ({\n    selectedIndex: props.selectedIndex || 0\n  }),\n  setSelectedIndex: selectedIndex => state => ({selectedIndex})\n}, (state, actions) => (props, children) => h('div', {\n  class: 'osjs-gui-tabs-wrapper'\n}, [\n  h('div', {class: 'osjs-gui-tabs-header'}, headers(props, state, actions)),\n  h('div', {class: 'osjs-gui-tabs-panes'}, panes(state, children))\n]), 'div');\n\n/**\n * A tab container\n * @param {Object} props Properties\n * @param {String[]} props.labels Labels\n * @param {h[]} children Tabs\n */\nexport const Tabs = (props, children) => h(view, Object.assign({\n  class: 'osjs-gui osjs-gui-tabs ' + (props.class || '')\n}, props), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {filteredProps, doubleTap} from '../utils';\nimport {Element} from './Element';\nimport {Icon} from './Icon';\n\nconst tapper = doubleTap();\n\nconst createView = props => {\n\n  const cols = (paneIndex) => (row, rowIndex) => {\n    const col = row.columns[paneIndex] || {};\n    const selected = props.selectedIndex === rowIndex;\n    const colIcon = col.icon ? h(Icon, col.icon) : null;\n    const children = [h('span', {}, [typeof col === 'object' ? col.label : col])];\n\n    if (colIcon) {\n      children.unshift(colIcon);\n    }\n\n    return h('div', {\n      key: row.key,\n      'data-has-icon': col.icon ? true : undefined,\n      class: 'osjs-gui-list-view-cell' + (selected ? ' osjs__active' : ''),\n      ontouchstart: (ev) => tapper(ev, () => props.onactivate({data: row.data, index: rowIndex, ev})),\n      ondblclick: (ev) => props.onactivate({data: row.data, index: rowIndex, ev}),\n      onclick: (ev) => props.onselect({data: row.data, index: rowIndex, ev}),\n      oncontextmenu: (ev) => props.oncontextmenu({data: row.data, index: rowIndex, ev}),\n      oncreate: (el) => props.oncreate({data: row.data, index: rowIndex, el})\n    }, children);\n  };\n\n  const pane = (index, col) => h('div', {\n    class: 'osjs-gui-list-view-pane',\n    style: col.style || {}\n  }, [\n    h('div', {\n      class: 'osjs-gui-list-view-header',\n      style: {\n        display: props.hideColumns ? 'none' : undefined\n      }\n    }, h('span', {}, typeof col === 'object' ? col.label : col)),\n    h('div', {\n      class: 'rows',\n      'data-zebra': String(props.zebra)\n    }, props.rows.map(cols(index)))\n  ]);\n\n  return h('div', {\n    class: 'osjs-gui-list-view-wrapper',\n    oncreate: el => (el.scrollTop = props.scrollTop),\n    onupdate: el => {\n      if (props.selectedIndex < 0) {\n        el.scrollTop = props.scrollTop;\n      }\n    }\n  }, props.columns.map((c, i) => pane(i, c)));\n};\n\nexport const ListView = props => h(Element, Object.assign({\n  class: 'osjs-gui-list-view'\n}, props.box || {}), createView(filteredProps(props, ['box'])));\n\nexport const listView = ({\n  component: (state, actions) => {\n    const newProps = Object.assign({\n      zebra: true,\n      columns: [],\n      rows: [],\n      onselect: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      onactivate: ({data, index, ev}) => {\n        actions.activate({data, index, ev});\n        actions.setSelectedIndex(-1);\n      },\n      oncontextmenu: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.contextmenu({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      oncreate: (args) => {\n        actions.created(args);\n      }\n    }, state);\n\n    return (props = {}) => ListView(Object.assign(newProps, props));\n  },\n\n  state: state => Object.assign({\n    selectedIndex: -1,\n    scrollTop: 0\n  }, state),\n\n  actions: actions => Object.assign({\n    select: () => () => ({}),\n    activate: () => () => ({}),\n    contextmenu: () => () => ({}),\n    created: () => () => ({}),\n    setRows: rows => ({rows}),\n    setColumns: columns => ({columns}),\n    setScrollTop: scrollTop => state => ({scrollTop}),\n    setSelectedIndex: selectedIndex => state => ({selectedIndex})\n  }, actions || {})\n});\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {doubleTap} from '../utils';\nimport {Element} from './Element';\nimport {Icon} from './Icon';\n\nconst tapper = doubleTap();\n\nexport const IconViewEntry = (entry, index, props) => () => {\n  const icon = entry.icon || {name: 'application-x-executable'};\n  const selected = props.selectedIndex === index;\n\n  return h('div', {\n    class: 'osjs-gui-icon-view-entry' + (selected ? ' osjs__active' : ''),\n    ontouchstart: (ev) => tapper(ev, () => props.onactivate({data: entry.data, index, ev})),\n    ondblclick: (ev) => props.onactivate({data: entry.data, index, ev}),\n    onclick: (ev) => props.onselect({data: entry.data, index, ev}),\n    oncontextmenu: (ev) => props.oncontextmenu({data: entry.data, index, ev}),\n    oncreate: (el) => props.oncreate({data: entry.data, index, el})\n  }, [\n    h('div', {class: 'osjs__container'}, [\n      h('div', {class: 'osjs__image'}, [\n        h(Icon, icon)\n      ]),\n      h('div', {class: 'osjs__label'}, [\n        h('span', {}, entry.label)\n      ])\n    ])\n  ]);\n};\n\nexport const IconView = (props) => {\n  const inner = h('div', {\n    class: 'osjs-gui-icon-view-wrapper',\n    oncreate: el => (el.scrollTop = props.scrollTop),\n    onupdate: el => {\n      if (props.selectedIndex < 0) {\n        el.scrollTop = props.scrollTop;\n      }\n    }\n  }, props.entries.map((entry, index) => {\n    return h(IconViewEntry(entry, index, props));\n  }));\n\n  return h(Element, Object.assign({\n    class: 'osjs-gui-icon-view'\n  }, props.box || {}), inner);\n};\n\nexport const iconView = ({\n  component: (state, actions) => {\n    const newProps = Object.assign({\n      entries: [],\n      onselect: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      onactivate: ({data, index, ev}) => {\n        actions.activate({data, index, ev});\n        actions.setSelectedIndex(-1);\n      },\n      oncontextmenu: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.contextmenu({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      oncreate: (args) => {\n        actions.created(args);\n      }\n    }, state);\n\n    return (props = {}) => IconView(Object.assign(newProps, props));\n  },\n\n  state: state => Object.assign({\n    selectedIndex: -1,\n    scrollTop: 0\n  }, state),\n\n  actions: actions => Object.assign({\n    select: () => () => ({}),\n    activate: () => () => ({}),\n    contextmenu: () => () => ({}),\n    created: () => () => ({}),\n    setEntries: entries => () => ({entries}),\n    setScrollTop: scrollTop => state => ({scrollTop}),\n    setSelectedIndex: selectedIndex => state => ({selectedIndex}),\n  }, actions || {})\n});\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {filteredProps} from '../utils';\nimport {Element} from './Element';\n\n/**\n * A iframe\n * @param {Object} props Properties\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Iframe = (props, children = []) =>\n  h(Element, Object.assign({}, props.box || {}, {\n    class: ['osjs-gui-iframe', props.class]\n  }), [\n    h('iframe', Object.assign({\n      frameborder: 0\n    }, filteredProps(props, ['box']))),\n    ...children\n  ]);\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\nimport nestable from 'hyperapp-nestable';\n\nconst view = (state, actions) => (props, children) => {\n  return h(Element, Object.assign({}, props.box || {}, {\n    class: ['osjs-gui-expander-wrapper']\n  }), [\n    h('div', {\n      class: 'osjs-gui-expander-header',\n      onclick: ev => actions.ontoggle({\n        ev,\n        active: !state.active,\n        ontoggle: props.ontoggle\n      })\n    }, [\n      h('div', {\n        class: 'osjs-gui-expander-header-icon',\n        'data-active': String(state.active)\n      }),\n      h('div', {\n        class: 'osjs-gui-expander-header-label'\n      }, props.label)\n    ]),\n    h('div', {\n      class: 'osjs-gui-expander-content',\n      style: {\n        display: state.active === false ? 'none' : undefined\n      }\n    }, children)\n  ]);\n};\n\nconst inner = nestable({\n  active: true\n}, {\n  init: props => ({\n    ative: props.active !== false\n  }),\n  ontoggle: ({ev, active, ontoggle}) => {\n    const cb = ontoggle || function() {};\n    cb(ev, active);\n    return {active};\n  }\n}, view, 'div');\n\n/**\n * A status bar\n * @param {Object} props Properties\n * @param {boolean} [props.active] Active state\n * @param {Function} [props.ontoggle] Toggle callback => (ev, active)\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Expander = (props, children) =>\n  h(inner, Object.assign({}, props, {\n    class: 'osjs-gui osjs-gui-expander'\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A label element\n * @param {Object} props Properties\n * @param {string} [props.text] Label Text\n * @param {string} [props.placement] Placement\n * @param {string} [props.for] The \"for\" attribute\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Label = (props = {}, children = []) => {\n  const placement = props.placement || 'top';\n  const text = props.text || '';\n\n  const elementProps = Object.assign({\n    class: ['osjs-gui-field-label', 'osjs-gui-field-label-on-' + placement]\n  }, props.box || {});\n\n  return h(Element, elementProps, [\n    h('label', {for: props.for}, text),\n    children\n  ]);\n};\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h, app} from 'hyperapp';\nimport {Menu} from './components/Menu';\n\n/*\n * Makes sure sub-menus stays within viewport\n */\nconst clampSubMenu = (root, ev) => {\n  let ul = ev.target.querySelector('ul');\n  if (!ul) {\n    return;\n  }\n\n  // FIXME: Safari reports wrong item\n  if (ul.classList.contains('osjs-gui-menu-container')) {\n    ul = ul.parentNode.parentNode;\n  }\n\n  if (!ul || !ul.offsetParent) {\n    return;\n  }\n\n  ul.classList.remove('clamp-right');\n\n  const rect = ul.getBoundingClientRect();\n  if (rect.right > root.offsetWidth) {\n    ul.classList.add('clamp-right');\n  }\n};\n\n/*\n * Makes sure menu stays within viewport\n */\nconst clampMenu = (root, el, currentPosition) => {\n  const result = {};\n  const bottom = currentPosition.top + el.offsetHeight;\n  const right = currentPosition.left + el.offsetWidth;\n  const offY = root.offsetHeight - currentPosition.top;\n  const offX = root.offsetWidth - currentPosition.left;\n  const overflowRight = right > root.offsetWidth;\n  const overflowBottom = bottom > root.offsetHeight;\n\n  if (overflowBottom) {\n    if (root.offsetHeight > el.offsetHeight) {\n      result.top = root.offsetHeight - el.offsetHeight - offY;\n    }\n  }\n\n  if (overflowRight) {\n    result.left = root.offsetWidth - el.offsetWidth - offX;\n  }\n\n  return (overflowBottom || overflowRight) ? result : null;\n};\n\n/*\n * Context Menu view\n */\nconst view = callback => (props, actions) => h(Menu, {\n  position: props.position,\n  visible: props.visible,\n  menu: props.menu,\n  onclick: callback,\n  onshow: actions.onshow\n});\n\nconst timeout = fn => {\n  fn();\n  return setTimeout(fn, 100);\n};\n\n/**\n * ContextMenu Class\n *\n * @desc Handles a Menu/ContextMenu globally for OS.js\n */\nexport class ContextMenu {\n\n  constructor(core) {\n    this.core = core;\n    this.callback = () => {};\n    this.actions = null;\n    this.$element = document.createElement('div');\n  }\n\n  destroy() {\n    this.callback = null;\n    this.actions = null;\n  }\n\n  /**\n   * Initializes the Menu Hyperapp\n   */\n  init() {\n    let clampTimeout;\n\n    this.$element.className = 'osjs-system-context-menu';\n    this.core.$root.appendChild(this.$element);\n\n    let isActive = false;\n\n    this.actions = app({\n      visible: false,\n      menu: [],\n      position: {\n        top: 0,\n        left: 0\n      }\n    }, {\n      clamp: (el) => props => {\n        el = el || document.querySelector('#osjs-context-menu');\n        clearTimeout(clampTimeout);\n\n        if (el) {\n          const root = this.core.$root;\n          const newPosition = clampMenu(root, el, props.position);\n          if (newPosition) {\n            return {position: newPosition};\n          }\n        }\n\n        return {};\n      },\n      onshow: (ev) => props => {\n        clampTimeout = timeout(() => clampSubMenu(this.core.$root, ev));\n      },\n      show: (options) => (props, actions) => {\n        let {menu, position, toggle} = options;\n        if (toggle && isActive) {\n          return actions.hide();\n        } else if (position instanceof Event) {\n          position = {left: position.clientX, top: position.clientY};\n        } else if (position instanceof Element) {\n          const box = position.getBoundingClientRect();\n          position = {\n            left: box.left,\n            top: box.top + box.height\n          };\n        }\n\n        this.callback = (child, ev, iter) => {\n          if (options.callback) {\n            options.callback(child, ev);\n          }\n\n          if (iter.closeable !== false) {\n            actions.hide();\n          }\n        };\n\n        isActive = true;\n        this.onclose = options.onclose;\n\n        timeout(() => actions.clamp());\n\n        return {\n          visible: true,\n          menu: menu || [],\n          position: position || {top: 0, left: 0}\n        };\n      },\n      hide: () => props => {\n        if (isActive) {\n          setTimeout(() => (isActive = false), 0);\n        }\n        if (this.onclose) {\n          this.onclose();\n        }\n        this.onclose = null;\n        this.callback = null;\n\n        return {visible: false};\n      }\n    }, view((...args) => {\n      if (!this.core.destroyed) {\n        if (this.callback) {\n          this.callback(...args);\n        }\n      }\n    }), this.$element);\n  }\n\n  /**\n   * Show the menu\n   */\n  show(...args) {\n    return this.actions ? this.actions.show(...args) : null;\n  }\n\n  /**\n   * Hide the menu\n   */\n  hide(...args) {\n    return this.actions ? this.actions.hide(...args) : null;\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {ContextMenu} from './contextmenu.js';\n\n/*\n * Check if a target allows for context menu\n */\nconst validContextMenuTarget = ev => {\n  const target = ev.target;\n  let isValid = target.tagName === 'TEXTAREA';\n  if (!isValid && target.tagName === 'INPUT') {\n    isValid = ['text', 'password', 'number', 'email'].indexOf(target.type) !== -1;\n  }\n\n  return isValid;\n};\n\n/**\n * OS.js GUI Service Provider\n *\n * @desc Provides wrapper services around GUI features\n */\nexport class GUIServiceProvider {\n\n  constructor(core) {\n    this.core = core;\n    this.contextmenu = new ContextMenu(core);\n  }\n\n  destroy() {\n    const menu = document.getElementById('osjs-context-menu');\n    if (menu) {\n      menu.remove();\n    }\n\n    this.contextmenu.destroy();\n  }\n\n  async init() {\n    const contextmenuApi = {\n      show: (...args) => this.contextmenu.show(...args),\n      hide: (...args) => this.contextmenu.hide(...args)\n    };\n\n    this.core.instance('osjs/contextmenu', (...args) => {\n      if (args.length) {\n        return contextmenuApi.show(...args);\n      }\n\n      return contextmenuApi;\n    });\n\n    this.core.$root.addEventListener('contextmenu', (ev) => {\n      if (validContextMenuTarget(ev)) {\n        return;\n      }\n\n      ev.stopPropagation();\n      ev.preventDefault();\n    });\n  }\n\n  start() {\n    const callback = ev => {\n      const menu = document.getElementById('osjs-context-menu');\n      const hit = menu.contains(ev.target);\n\n      if (!hit && this.contextmenu) {\n        this.contextmenu.hide();\n      }\n    };\n\n    this.core.$root.addEventListener('click', callback, true);\n    this.core.once('destroy', () => {\n      this.core.$root.removeEventListener('click', callback, true);\n    });\n\n    this.contextmenu.init();\n  }\n}\n","/*!\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR ha PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\n// TODO: More options\n\nimport * as translations from './locales.js';\n\nimport osjs from 'osjs';\nimport {h, app} from 'hyperapp';\nimport {name as applicationName} from './metadata.json';\nimport rtfToHtml from '@iarna/rtf-to-html';\nimport {\n  Box,\n  Menubar,\n  MenubarItem,\n  Toolbar,\n  Button,\n  Iframe\n} from '@osjs/gui';\n\nconst defaultColor = '#000000';\n\n/*\n * Utils\n */\nconst getColor = (str, defaultValue) => {\n  if (str) {\n    const matches = str.replace(/\\s+/g, '').match(/^rgba?\\((.*)\\)/) || [];\n    if (matches.length) {\n      const [r, g, b] = matches[1].split(',');\n\n      return {r, g, b};\n    }\n  }\n\n  return str || defaultValue;\n};\n\nconst isRtf = item => item && item.mime === 'application/rtf';\n\nconst decode = str => new Promise((resolve, reject) => {\n  rtfToHtml.fromString(str, {\n    template: (doc, defaults, content) => content\n  }, (err, doc) => {\n    return err ? reject(err) : resolve(doc);\n  });\n});\n\n/*\n * Base RichText template\n */\nconst template = (proc, win, s) => `\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset=\"utf-8\" />\n    <script type=\"text/javascript\">\n      function _UpdateUI_() {\n        top.postMessage({\n          name: 'osjs/iframe:message',\n          params: [{\n            pid: ${proc.pid},\n            wid: ${win.wid},\n            args: [{\n              event: 'query'\n            }]\n          }]\n        }, '*');\n      }\n    </script>\n    <style>\n    html, body {\n      width: 100%;\n      height: 100%;\n      margin: 0;\n      padding: 0;\n    }\n    body {\n      font-family: 'arial';\n      color: ${defaultColor};\n      background: #fff;\n      padding: 20pt;\n      box-sizing: border-box;\n    }\n    </style>\n  </head>\n  <body contentEditable=\"true\" onmouseup=\"_UpdateUI_()\" ontouchend=\"_UpdateUI_()\">${s}</body>\n</html>`;\n\n/*\n * Custom GUI Components\n */\nconst ToolbarContainer = (props, children) => h('div', {\n  class: 'osjs-gui',\n  style: {\n    display: 'flex'\n  }\n}, children);\n\nconst ColorBox = (props) => h('div', {}, [\n  h('div', {\n    style: {\n      width: '1em',\n      height: '1em',\n      background: props.color || '#fff'\n    }\n  })\n]);\n\nconst RichText = (props) => h(Iframe, Object.assign({\n  box: {\n    margin: false,\n    grow: 1,\n    shrink: 1,\n  }\n}, props));\n\n/*\n * File Menu\n */\nconst createMenu = (current, actions, _) => ([\n  {label: _('LBL_NEW'), onclick: () => actions.menuNew()},\n  {label: _('LBL_OPEN'), onclick: () => actions.menuOpen()},\n  {label: _('LBL_SAVE'), disabled: !current, onclick: () => actions.menuSave()},\n  {label: _('LBL_SAVEAS'), onclick: () => actions.menuSaveAs()},\n  {label: _('LBL_QUIT'), onclick: () => actions.menuQuit()}\n]);\n\n/*\n * Toolbar Elements\n */\nconst createToolbar = (__) => ([[{\n  title: __('LBL_WRITER_STRONG'),\n  icon: 'format-text-bold',\n  command: 'bold'\n}, {\n  title: __('LBL_WRITER_ITALIC'),\n  icon: 'format-text-italic',\n  command: 'italic'\n}, {\n  title: __('LBL_WRITER_UNDERLINE'),\n  icon: 'format-text-underline',\n  command: 'underline'\n}, {\n  title: __('LBL_WRITER_THROUGHLINE'),\n  icon: 'format-text-strikethrough',\n  command: 'strikeThrough'\n}], [{\n  title: __('LBL_WRITER_LEFT_JUSTIFY'),\n  icon: 'format-justify-left',\n  command: 'justifyLeft'\n}, {\n  title: __('LBL_WRITER_CENTER_JUSTIFY'),\n  icon: 'format-justify-center',\n  command: 'justifyCenter'\n}, {\n  title: __('LBL_WRITER_RIGHT_JUSTIFY'),\n  icon: 'format-justify-right',\n  command: 'justifyRight'\n}], [{\n  title: __('LBL_WRITER_INDENT_LESS'),\n  icon: 'format-indent-less',\n  command: 'outdent'\n}, {\n  title: __('LBL_WRITER_INDENT_MORE'),\n  icon: 'format-indent-more',\n  command: 'indent'\n}], [{\n  title: __('LBL_WRITER_FOREGROUND'),\n  command: 'foreColor',\n  element: (state) => h(ColorBox, {color: state.props.foreColor}),\n  callback: (state, actions, type) => actions.selectColor({type, color: state.props.foreColor})\n}, {\n  title: __('LBL_WRITER_BACKGROUND'),\n  command: 'hiliteColor',\n  element: () => h(ColorBox),\n  callback: (state, actions, type) => actions.selectColor({type, color: state.props.hiliteColor})\n}, {\n  title: __('LBL_WRITER_FONT'),\n  element: () => __('LBL_WRITER_FONT'),\n  callback: (state, actions) => actions.selectFont()\n}]]);\n\n/*\n * Main Window Application\n */\nconst createApplication = (core, proc, basic, toolbar) => ($content, win) => {\n  const _ = core.make('osjs/locale').translate;\n  const {icon} = core.make('osjs/theme');\n  const vfs = core.make('osjs/vfs');\n\n  const toolbarButtons = (state, actions) => toolbar.map(t => {\n    const buttons = t.map(b => h(Button, {\n      title: b.title,\n      icon: b.icon ? icon(b.icon) : undefined,\n      active: state.props[b.command] === true,\n      onclick: () => {\n        if (b.callback) {\n          b.callback(state, actions, b.command);\n        } else if (b.command) {\n          actions.textCommand(b.command);\n        }\n      }\n    }, b.element ? b.element(state, actions, b.command) : []));\n\n    return h(ToolbarContainer, {}, buttons);\n  });\n\n  const createMutateSaveDialog = () => {\n    const re = str => str.replace(/\\.rtf$/i, '.doc');\n\n    basic.createSaveDialog({\n      file: Object.assign({}, proc.args.file, {\n        filename: re(proc.args.file.filename),\n        path: re(proc.args.file.path),\n        mime: 'application/msword'\n      })\n    });\n  };\n\n  const view = (state, actions) =>\n    h(Box, {}, [\n      h(Menubar, {}, [\n        h(MenubarItem, {\n          onclick: ev => actions.menu(ev)\n        }, _('LBL_FILE'))\n      ]),\n      h(Toolbar, {}, toolbarButtons(state, actions)),\n      h(Box, {\n        grow: 1,\n        shrink: 1,\n        class: 'osjs-gui-box-styled'\n      }, h(RichText, {\n        oncreate: el => proc.emit('richtext:inited', el)\n      }))\n    ]);\n\n  return app({\n    props: {\n      fontName: 'arial',\n      fontSize: '1pt',\n      foreColor: defaultColor\n    }\n  }, {\n    save: () => state => {\n      if (proc.args.file) {\n        proc.emit('richtext:get', contents => {\n          vfs.writefile(proc.args.file, contents);\n        });\n      }\n    },\n\n    load: item => (state, actions) => {\n      vfs.readfile(item)\n        .then(contents => isRtf(item) ? decode(contents) : contents)\n        .then(contents => actions.setDocument(contents))\n        .catch(error => console.error(error)); // FIXME: Dialog\n    },\n\n    menu: ev => (state, actions) => {\n      core.make('osjs/contextmenu').show({\n        position: ev.target,\n        menu: createMenu(proc.args.file, actions, _)\n      });\n    },\n\n    textCommand: command => () => proc.emit('richtext:command', command),\n\n    setDocument: str => () => proc.emit('richtext:write', str),\n\n    selectColor: ({type, color}) => () => proc.emit('tool:colordialog', type, color),\n    selectFont: () => state => proc.emit('tool:fontdialog', state.props),\n\n    setProps: props => state => ({\n      props: Object.assign(state.props, props)\n    }),\n\n    menuNew: () => state => basic.createNew(),\n    menuOpen: () => state => basic.createOpenDialog(),\n    menuSave: () => (state, actions) => {\n      if (isRtf(proc.args.file)) {\n        createMutateSaveDialog();\n      } else {\n        actions.save();\n      }\n    },\n    menuSaveAs: () => state => {\n      if (isRtf(proc.args.file)) {\n        createMutateSaveDialog();\n      } else {\n        basic.createSaveDialog();\n      }\n    },\n    menuQuit: () => state => proc.destroy()\n  }, view, $content);\n};\n\n/*\n * Register OS.js Application\n */\nosjs.register(applicationName, (core, args, options, metadata) => {\n  let iframeDocument;\n\n  const title = core.make('osjs/locale').translatableFlat(metadata.title);\n  const __ = core.make('osjs/locale').translatable(translations);\n  const toolbar = createToolbar(__);\n\n  const proc = core.make('osjs/application', {args, options, metadata});\n\n  const win = proc.createWindow({\n    title,\n    id: 'WriterWindow',\n    icon: proc.resource(proc.metadata.icon),\n    dimension: {width: 600, height: 700}\n  })\n    .on('destroy', () => proc.destroy())\n    .on('render', (win) => win.focus())\n    .on('drop', (ev, data) => {\n      if (data.isFile && data.mime) {\n        const found = proc.metadata.mimes.find(m => (new RegExp(m)).test(data.mime));\n        if (found) {\n          basic.open(data);\n        }\n      }\n    });\n\n  const basic = core.make('osjs/basic-application', proc, win, {\n    defaultFilename: 'New Document.doc',\n    saveMimeTypes: ['application/msword']\n  });\n\n  const createDialog = (name, args, callback) =>\n    core.make('osjs/dialog', name, args, {\n      parent: win,\n      attributes: {\n        modal: true\n      }\n    }, (btn, value) => {\n      if (btn === 'ok') {\n        callback(value);\n      }\n    });\n\n  win.render(($content, win) => {\n    const ha = createApplication(core, proc, basic, toolbar)($content, win);\n\n    basic.on('new-file', () => ha.setDocument(''));\n    basic.on('save-file', ha.save);\n    basic.on('open-file', ha.load);\n\n    proc.on('ui:update', props => ha.setProps(props));\n  });\n\n  proc.on('richtext:command', (command, ...args) => {\n    if (iframeDocument && command) {\n      iframeDocument.execCommand(command, ...args);\n    }\n  });\n\n  proc.on('richtext:write', str => {\n    if (iframeDocument) {\n      iframeDocument.open();\n      iframeDocument.write(template(proc, win, str));\n      iframeDocument.close();\n    }\n  });\n\n  proc.on('richtext:get', cb => {\n    if (iframeDocument && cb) {\n      cb(iframeDocument.body.innerHTML);\n    }\n  });\n\n  proc.once('richtext:inited', (iframe) => {\n    iframeDocument = iframe.contentDocument || iframe.contentWindow.document;\n\n    proc.emit('richtext:write', '');\n\n    basic.init();\n  });\n\n  proc.on('tool:colordialog', (command, color) =>\n    createDialog('color', {\n      color: getColor(color, command === 'hiliteColor' ? {r: 255, g: 255, b: 255} : undefined)\n    }, (value) => {\n      proc.emit('richtext:command', command, false, value.hex);\n    }));\n\n  proc.on('tool:fontdialog', props => {\n    createDialog('font', {\n      // TODO: Style\n      minSize: 1,\n      maxSize: 12,\n      size: props.fontSize,\n      name: props.fontName,\n      unit: 'pt',\n      fonts: [\n        'arial',\n        'sans-serif',\n        'monospace'\n      ]\n    }, (value) => {\n      proc.emit('richtext:command', 'fontName', false, value.name);\n      proc.emit('richtext:command', 'fontSize', false, value.size);\n    });\n  });\n\n  proc.on('destroy', () => basic.destroy());\n\n  const valueMap = {\n    '': null,\n    'false': false,\n    'true': true\n  };\n\n  const alternateMap = {\n    hiliteColor: 'backcolor'\n  };\n\n  win.on('iframe:get', data => {\n    if (data.event === 'query') {\n      if (iframeDocument && iframeDocument.queryCommandValue) {\n        const checks = [].concat(...toolbar).filter(iter => !!iter.command)\n          .map(iter => iter.command)\n          .concat([\n            'fontFamily',\n            'fontSize'\n          ]);\n\n        const states = checks.reduce((carry, name) => {\n          let value = iframeDocument.queryCommandValue(name);\n          if (!value && alternateMap[name]) {\n            value = iframeDocument.queryCommandValue(alternateMap[name]);\n          }\n\n          return Object.assign({\n            [name]: typeof valueMap[value] === 'undefined' ? value : valueMap[value]\n          }, carry);\n        }, {});\n\n        proc.emit('ui:update', states);\n\n        core.make('osjs/contextmenu').hide();\n      }\n    }\n  });\n\n  return proc;\n});\n"],"sourceRoot":""}